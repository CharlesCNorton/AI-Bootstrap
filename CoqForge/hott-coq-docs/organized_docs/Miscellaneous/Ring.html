<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Ring</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Ring</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Spaces.Nat.Core</span> <span class="id" title="var">Spaces.Nat.Arithmetic</span>.<br/>
<span class="comment">(*&nbsp;Some&nbsp;of&nbsp;the&nbsp;material&nbsp;in&nbsp;abstract_algebra&nbsp;and&nbsp;canonical&nbsp;names&nbsp;could&nbsp;be&nbsp;selectively&nbsp;exported&nbsp;to&nbsp;the&nbsp;user,&nbsp;as&nbsp;is&nbsp;done&nbsp;in&nbsp;Groups/Group.v.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Classes.interfaces.abstract_algebra</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Groups.Group</span> <span class="id" title="var">Algebra.Groups.Subgroup</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Algebra.AbGroups</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Classes.theory.rings</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Modalities.ReflectiveSubuniverse</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab292"></a><h1 class="section">Rings</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">ring_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>
</div>

<div class="doc">
We want to print equivalences as <span class="inlinecode">â‰…</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">wc_iso_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A ring consists of the following data: 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">Ring</span> := <span class="id" title="var">Build_Ring'</span> {<br/>
&nbsp;&nbsp;</div>

<div class="doc">
An underlying abelian group. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">ring_abgroup</span> :&gt; <span class="id" title="var">AbGroup</span>;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
A multiplication operation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">ring_mult</span> :: <span class="id" title="var">Mult</span> <span class="id" title="var">ring_abgroup</span>;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
A multiplicative identity called <span class="inlinecode"><span class="id" title="var">one</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">ring_one</span> :: <span class="id" title="var">One</span> <span class="id" title="var">ring_abgroup</span>;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
Such that all they all satisfy the axioms of a ring. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">ring_isring</span> :: <span class="id" title="var">IsRing</span> <span class="id" title="var">ring_abgroup</span>;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
This field only exists so that opposite rings are definitionally involutive and can safely be ignored. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">ring_mult_assoc_opp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>, (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) * <span class="id" title="var">z</span> = <span class="id" title="var">x</span> * (<span class="id" title="var">y</span> * <span class="id" title="var">z</span>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ring_mult</span> {<span class="id" title="var">R</span>} : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ring_one</span> {<span class="id" title="var">R</span>} : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ring_isring</span> {<span class="id" title="var">R</span>} : <span class="id" title="tactic">rename</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_Ring</span> : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">Ring</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ring_plus</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Plus</span> <span class="id" title="var">R</span> := <span class="id" title="var">plus_abgroup</span> (<span class="id" title="var">ring_abgroup</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ring_zero</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Zero</span> <span class="id" title="var">R</span> := <span class="id" title="var">zero_abgroup</span> (<span class="id" title="var">ring_abgroup</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ring_negate</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Negate</span> <span class="id" title="var">R</span> := <span class="id" title="var">negate_abgroup</span> (<span class="id" title="var">ring_abgroup</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
A ring homomorphism between rings is a map of the underlying type and a proof that this map is a ring homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">RingHomomorphism</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">rng_homo_map</span> :&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">rng_homo_ishomo</span> :: <span class="id" title="var">IsSemiRingPreserving</span> <span class="id" title="var">rng_homo_map</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">Build_RingHomomorphism</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_RingHomomorphism</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_ringhomomorphism</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>} : <span class="id" title="var">f</span> == <span class="id" title="var">g</span> &lt;~&gt; <span class="id" title="var">f</span> = <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">equiv_ap</span> (<span class="id" title="var">issig_RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)^-1 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_forall</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_id</span> (<span class="id" title="var">A</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_RingHomomorphism</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">Build_IsSemiRingPreserving</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_compose</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">compose_sr_morphism</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab293"></a><h2 class="section">Ring laws</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">RingLaws</span>.<br/>

<br/>
</div>

<div class="doc">
Many of these ring laws have already been proven. But we give them names here so that they are easy to find and use. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">A</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_dist_l</span> : <span class="id" title="var">x</span> * (<span class="id" title="var">y</span> + <span class="id" title="var">z</span>) = <span class="id" title="var">x</span> * <span class="id" title="var">y</span> + <span class="id" title="var">x</span> * <span class="id" title="var">z</span> := <span class="id" title="var">simple_distribute_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_dist_r</span> : (<span class="id" title="var">x</span> + <span class="id" title="var">y</span>) * <span class="id" title="var">z</span> = <span class="id" title="var">x</span> * <span class="id" title="var">z</span> + <span class="id" title="var">y</span> * <span class="id" title="var">z</span> := <span class="id" title="var">simple_distribute_r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_zero_l</span> : 0 + <span class="id" title="var">x</span> = <span class="id" title="var">x</span> := <span class="id" title="var">left_identity</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_zero_r</span> : <span class="id" title="var">x</span> + 0 = <span class="id" title="var">x</span> := <span class="id" title="var">right_identity</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_negate_l</span> : (- <span class="id" title="var">x</span>) + <span class="id" title="var">x</span> = 0 := <span class="id" title="var">left_inverse</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_negate_r</span> : <span class="id" title="var">x</span> + (- <span class="id" title="var">x</span>) = 0 := <span class="id" title="var">right_inverse</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_comm</span> : <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = <span class="id" title="var">y</span> + <span class="id" title="var">x</span> := <span class="id" title="var">commutativity</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_plus_assoc</span> : <span class="id" title="var">x</span> + (<span class="id" title="var">y</span> + <span class="id" title="var">z</span>) = (<span class="id" title="var">x</span> + <span class="id" title="var">y</span>) + <span class="id" title="var">z</span> := <span class="id" title="var">simple_associativity</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_assoc</span> : <span class="id" title="var">x</span> * (<span class="id" title="var">y</span> * <span class="id" title="var">z</span>) = (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) * <span class="id" title="var">z</span> := <span class="id" title="var">simple_associativity</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_negate_negate</span> : - (- <span class="id" title="var">x</span>) = <span class="id" title="var">x</span> := <span class="id" title="var">groups.negate_involutive</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_negate_zero</span> : - (0 : <span class="id" title="var">A</span>) = 0 := <span class="id" title="var">groups.negate_mon_unit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_negate_plus</span> : - (<span class="id" title="var">x</span> + <span class="id" title="var">y</span>) = - <span class="id" title="var">x</span> - <span class="id" title="var">y</span> := <span class="id" title="var">negate_plus_distr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_one_l</span> : 1 * <span class="id" title="var">x</span> = <span class="id" title="var">x</span> := <span class="id" title="var">left_identity</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_one_r</span> : <span class="id" title="var">x</span> * 1 = <span class="id" title="var">x</span> := <span class="id" title="var">right_identity</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_zero_l</span> : 0 * <span class="id" title="var">x</span> = 0 := <span class="id" title="var">left_absorb</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_zero_r</span> : <span class="id" title="var">x</span> * 0 = 0 := <span class="id" title="var">right_absorb</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_negate</span> : -1 * <span class="id" title="var">x</span> = - <span class="id" title="var">x</span> := (<span class="id" title="var">negate_mult_l</span> <span class="id" title="var">_</span>)^.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_negate_negate</span> : -<span class="id" title="var">x</span> * -<span class="id" title="var">y</span> = <span class="id" title="var">x</span> * <span class="id" title="var">y</span> := <span class="id" title="var">negate_mult_negate</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_negate_l</span> : -<span class="id" title="var">x</span> * <span class="id" title="var">y</span> = -(<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) := <span class="id" title="var">inverse</span> (<span class="id" title="var">negate_mult_distr_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_mult_negate_r</span> : <span class="id" title="var">x</span> * -<span class="id" title="var">y</span> = -(<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) := <span class="id" title="var">inverse</span> (<span class="id" title="var">negate_mult_distr_r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">RingLaws</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_dist_l_negate</span> {<span class="id" title="var">A</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> * (<span class="id" title="var">y</span> - <span class="id" title="var">z</span>) = <span class="id" title="var">x</span> * <span class="id" title="var">y</span> - <span class="id" title="var">x</span> * <span class="id" title="var">z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_negate_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_dist_r_negate</span> {<span class="id" title="var">A</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>) * <span class="id" title="var">z</span> = <span class="id" title="var">x</span> * <span class="id" title="var">z</span> - <span class="id" title="var">y</span> * <span class="id" title="var">z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_negate_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">RingHomoLaws</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_plus</span> : <span class="id" title="var">f</span> (<span class="id" title="var">x</span> + <span class="id" title="var">y</span>) = <span class="id" title="var">f</span> <span class="id" title="var">x</span> + <span class="id" title="var">f</span> <span class="id" title="var">y</span> := <span class="id" title="var">preserves_plus</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_mult</span> : <span class="id" title="var">f</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) = <span class="id" title="var">f</span> <span class="id" title="var">x</span> * <span class="id" title="var">f</span> <span class="id" title="var">y</span> := <span class="id" title="var">preserves_mult</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_zero</span> : <span class="id" title="var">f</span> 0 = 0 := <span class="id" title="var">preserves_0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_one</span>  : <span class="id" title="var">f</span> 1 = 1 := <span class="id" title="var">preserves_1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_negate</span> : <span class="id" title="var">f</span> (-<span class="id" title="var">x</span>) = -(<span class="id" title="var">f</span> <span class="id" title="var">x</span>) := <span class="id" title="var">preserves_negate</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_minus_one</span> : <span class="id" title="var">f</span> (-1) = -1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">preserves_negate</span> 1%<span class="id" title="var">mc</span> @ <span class="id" title="var">ap</span> <span class="id" title="var">negate</span> <span class="id" title="var">preserves_1</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">RingHomoLaws</span>.<br/>

<br/>
</div>

<div class="doc">
Isomorphisms of commutative rings 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">RingIsomorphism</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">rng_iso_homo</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="var">isequiv_rng_iso_homo</span> : <span class="id" title="var">IsEquiv</span> <span class="id" title="var">rng_iso_homo</span> ;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">rng_iso_homo</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> }.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">rng_iso_homo</span> : <span class="id" title="var">RingIsomorphism</span> &gt;-&gt; <span class="id" title="var">RingHomomorphism</span>.<br/>
<span class="id" title="keyword">Global Existing Instance</span> <span class="id" title="var">isequiv_rng_iso_homo</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_RingIsomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">RingIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
We can construct a ring isomorphism from an equivalence that preserves addition and multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_RingIsomorphism'</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;`{!<span class="id" title="var">IsSemiRingPreserving</span> <span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_RingIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">Build_RingHomomorphism</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The inverse of a Ring isomorphism 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_iso_inverse</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> -&gt; <span class="id" title="var">RingIsomorphism</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingIsomorphism</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>^-1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ring isomorphisms are a reflexive relation 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflexive_ringisomorphism</span> : <span class="id" title="var">Reflexive</span> <span class="id" title="var">RingIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">Build_RingIsomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">rng_homo_id</span> <span class="id" title="var">x</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Ring isomorphisms are a symmetric relation 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">symmetry_ringisomorphism</span> : <span class="id" title="var">Symmetric</span> <span class="id" title="var">RingIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">rng_iso_inverse</span>.<br/>

<br/>
</div>

<div class="doc">
Ring isomorphisms are a transitive relation 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">transitive_ringisomorphism</span> : <span class="id" title="var">Transitive</span> <span class="id" title="var">RingIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">Build_RingIsomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">rng_homo_compose</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Underlying group homomorphism of a ring homomorphism 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_rng_homo</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt; @<span class="id" title="var">Build_GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">grp_homo_rng_homo</span> : <span class="id" title="var">RingHomomorphism</span> &gt;-&gt; <span class="id" title="var">GroupHomomorphism</span>.<br/>

<br/>
</div>

<div class="doc">
We can construct a ring homomorphism from a group homomorphism that preserves multiplication 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_RingHomomorphism'</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">map</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">H</span> : <span class="id" title="var">IsMonoidPreserving</span> (<span class="id" title="var">Aop</span>:=<span class="id" title="var">ring_mult</span>) (<span class="id" title="var">Bop</span>:=<span class="id" title="var">ring_mult</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Aunit</span>:=<span class="id" title="var">one</span>) (<span class="id" title="var">Bunit</span>:=<span class="id" title="var">one</span>) <span class="id" title="var">map</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_RingHomomorphism</span> <span class="id" title="var">map</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Build_IsSemiRingPreserving</span> <span class="id" title="var">_</span> (<span class="id" title="var">ismonoidpreserving_grp_homo</span> <span class="id" title="var">map</span>) <span class="id" title="var">H</span>).<br/>

<br/>
</div>

<div class="doc">
We can construct a ring isomorphism from a group isomorphism that preserves multiplication 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_RingIsomorphism''</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">H</span> : <span class="id" title="var">IsMonoidPreserving</span> (<span class="id" title="var">Aop</span>:=<span class="id" title="var">ring_mult</span>) (<span class="id" title="var">Bop</span>:=<span class="id" title="var">ring_mult</span>) (<span class="id" title="var">Aunit</span>:=<span class="id" title="var">one</span>) (<span class="id" title="var">Bunit</span>:=<span class="id" title="var">one</span>) <span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RingIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">Build_RingIsomorphism'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">e</span> (<span class="id" title="var">Build_IsSemiRingPreserving</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>

<br/>
</div>

<div class="doc">
Here is an alternative way to build a ring using the underlying abelian group. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Ring</span> (<span class="id" title="var">R</span> : <span class="id" title="var">AbGroup</span>)<br/>
&nbsp;&nbsp;`(<span class="id" title="var">Mult</span> <span class="id" title="var">R</span>, <span class="id" title="var">One</span> <span class="id" title="var">R</span>, !<span class="id" title="var">Associative</span> (.*.),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">LeftDistribute</span> (.*.) (+), !<span class="id" title="var">RightDistribute</span> (.*.) (+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">LeftIdentity</span> (.*.) 1, !<span class="id" title="var">RightIdentity</span> (.*.) 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">Build_Ring'</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="keyword">associativity</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)^).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">only</span> 1,3,4: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Scalar multiplication on the left is a group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_rng_left_mult</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">Build_GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">r</span> * <span class="id" title="var">s</span>) (<span class="id" title="var">rng_dist_l</span> <span class="id" title="var">r</span>).<br/>

<br/>
</div>

<div class="doc">
Scalar multiplication on the right is a group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_rng_right_mult</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">Build_GroupHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span> * <span class="id" title="var">r</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">rng_dist_r</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">r</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab294"></a><h2 class="section">Ring movement lemmas</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">RingMovement</span>.<br/>

<br/>
</div>

<div class="doc">
We adopt a similar naming convention to the <span class="inlinecode"><span class="id" title="var">moveR_equiv</span></span> style lemmas that can be found in Types.Paths. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">R</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_Mr</span> : - <span class="id" title="var">y</span> + <span class="id" title="var">x</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> + <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveL_Mg</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_rM</span> : <span class="id" title="var">x</span> + - <span class="id" title="var">z</span> = <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> + <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveL_gM</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_Mr</span> : <span class="id" title="var">y</span> = - <span class="id" title="var">x</span> + <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveR_Mg</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_rM</span> : <span class="id" title="var">x</span> = <span class="id" title="var">z</span> + - <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveR_gM</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_Vr</span> : <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">y</span> = - <span class="id" title="var">x</span> + <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveL_Vg</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_rV</span> : <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">z</span> + - <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveL_gV</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_Vr</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> + <span class="id" title="var">z</span> &lt;~&gt; - <span class="id" title="var">y</span> + <span class="id" title="var">x</span> = <span class="id" title="var">z</span> := @<span class="id" title="var">grp_moveR_Vg</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_rV</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> + <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> + - <span class="id" title="var">z</span> = <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveR_gV</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_M0</span> : - <span class="id" title="var">y</span> + <span class="id" title="var">x</span> = 0 &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveL_M1</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveL_0M</span> :	<span class="id" title="var">x</span> + - <span class="id" title="var">y</span> = 0 &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveL_1M</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_M0</span> : 0 = - <span class="id" title="var">x</span> + <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveR_M1</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_moveR_0M</span> : 0 = <span class="id" title="var">y</span> + - <span class="id" title="var">x</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := @<span class="id" title="var">grp_moveR_1M</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: Movement laws about mult 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">RingMovement</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab295"></a><h2 class="section">Wild category of rings</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isgraph_ring</span> : <span class="id" title="var">IsGraph</span> <span class="id" title="var">Ring</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_IsGraph</span> <span class="id" title="var">_</span> <span class="id" title="var">RingHomomorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_ring</span> : <span class="id" title="var">Is01Cat</span> <span class="id" title="var">Ring</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Is01Cat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rng_homo_id</span> (@<span class="id" title="var">rng_homo_compose</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is2graph_ring</span> : <span class="id" title="var">Is2Graph</span> <span class="id" title="var">Ring</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> =&gt; <span class="id" title="var">isgraph_induced</span> (@<span class="id" title="var">rng_homo_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">_</span> -&gt; (<span class="id" title="var">group_type</span> <span class="id" title="var">_</span> $-&gt; <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_ringhomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Is01Cat</span> (<span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">is01cat_induced</span> (@<span class="id" title="var">rng_homo_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0gpd_ringhomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Is0Gpd</span> (<span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">is0gpd_induced</span> (@<span class="id" title="var">rng_homo_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_postcomp_ringhomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Functor</span> (@<span class="id" title="var">cat_postcomp</span> <span class="id" title="var">Ring</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> ?] [<span class="id" title="var">g</span> ?] <span class="id" title="var">p</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> <span class="id" title="var">h</span> (<span class="id" title="var">p</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_precomp_ringhomomorphism</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Functor</span> (@<span class="id" title="var">cat_precomp</span> <span class="id" title="var">Ring</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> ?] [<span class="id" title="var">g</span> ?] <span class="id" title="var">p</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> (<span class="id" title="var">h</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ring forms a 1-category. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1cat_ring</span> : <span class="id" title="var">Is1Cat</span> <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">Build_Is1Cat</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasmorext_ring</span> `{<span class="id" title="var">Funext</span>} : <span class="id" title="var">HasMorExt</span> <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_HasMorExt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> @<span class="id" title="var">isequiv_homotopic</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_path_ringhomomorphism</span>^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasequivs_ring</span> : <span class="id" title="var">HasEquivs</span> <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">RingIsomorphism</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">IsEquiv</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Build_RingIsomorphism</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">rng_iso_inverse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> ????; <span class="id" title="tactic">apply</span> <span class="id" title="var">eissect</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> ????; <span class="id" title="tactic">apply</span> <span class="id" title="var">eisretr</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">isequiv_adjointify</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab296"></a><h2 class="section">Subrings</h2>

<div class="paragraph"> </div>

 TODO: factor out this definition as a submonoid  A subring is a subgorup of the underlying abelian group of a ring that is closed under multiplication and contains <span class="inlinecode">1</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsSubring</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">issubring_issubgroup</span> :: <span class="id" title="var">IsSubgroup</span> <span class="id" title="var">S</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">issubring_mult</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} : <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">issubring_one</span> : <span class="id" title="var">S</span> 1;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_IsSubring</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">IsSubring</span> <span class="id" title="var">S</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_issubring</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">IsSubring</span> <span class="id" title="var">S</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">issig_IsSubring</span> <span class="id" title="var">S</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Subring criterion. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_IsSubring'</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsHProp</span> (<span class="id" title="var">S</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H3</span> : <span class="id" title="var">S</span> 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsSubring</span> <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsSubring</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsSubgroup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> (<span class="id" title="var">p</span> := <span class="id" title="var">H1</span> 1 1 <span class="id" title="var">H3</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_negate_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Subring</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) := {<br/>
&nbsp;&nbsp;#[<span class="id" title="var">reversible</span>=<span class="id" title="keyword">no</span>]<br/>
&nbsp;&nbsp;<span class="id" title="var">subring_pred</span> :&gt; <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">subring_issubring</span> :: <span class="id" title="var">IsSubring</span> <span class="id" title="var">subring_pred</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Subring''</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="var">S</span> 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Subring</span> <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">Build_Subring</span> <span class="id" title="var">_</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsSubring</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Subring'</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsHProp</span> (<span class="id" title="var">S</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">S</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">S</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">H3</span> : <span class="id" title="var">S</span> 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Subring</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Subring</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> (<span class="id" title="var">Build_IsSubring'</span> <span class="id" title="var">S</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>).<br/>

<br/>
</div>

<div class="doc">
The underlying subgroup of a subring. 
</div>
<div class="code">
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">subgroup_subring</span> {<span class="id" title="var">R</span>} : <span class="id" title="var">Subring</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">S</span> =&gt; <span class="id" title="var">Build_Subgroup</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The ring given by a subring. 
</div>
<div class="code">
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ring_subring</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">Subring</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">Build_Ring</span> (<span class="id" title="var">subgroup_subring</span> <span class="id" title="var">S</span>)).<br/>
&nbsp;&nbsp;3-7: <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">srapply</span> <span class="id" title="var">path_sigma_hprop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r</span> ?] [<span class="id" title="var">s</span> ?]; <span class="id" title="tactic">exists</span> (<span class="id" title="var">r</span> * <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">issubring_mult</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">issubring_one</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">rng_mult_one_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab297"></a><h2 class="section">Product ring</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ring_product</span> : <span class="id" title="var">Ring</span> -&gt; <span class="id" title="var">Ring</span> -&gt; <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Ring</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ab_biprod</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> '(<span class="id" title="var">r1</span> , <span class="id" title="var">s1</span>) '(<span class="id" title="var">r2</span> , <span class="id" title="var">s2</span>) =&gt; (<span class="id" title="var">r1</span> * <span class="id" title="var">r2</span> , <span class="id" title="var">s1</span> * <span class="id" title="var">s2</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ring_one</span> , <span class="id" title="var">ring_one</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r1</span> <span class="id" title="var">s1</span>] [<span class="id" title="var">r2</span> <span class="id" title="var">s2</span>] [<span class="id" title="var">r3</span> <span class="id" title="var">s3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r1</span> <span class="id" title="var">s1</span>] [<span class="id" title="var">r2</span> <span class="id" title="var">s2</span>] [<span class="id" title="var">r3</span> <span class="id" title="var">s3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r1</span> <span class="id" title="var">s1</span>] [<span class="id" title="var">r2</span> <span class="id" title="var">s2</span>] [<span class="id" title="var">r3</span> <span class="id" title="var">s3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r1</span> <span class="id" title="var">s1</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">r1</span> <span class="id" title="var">s1</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> &quot;Ã—" := <span class="id" title="var">ring_product</span> : <span class="id" title="var">ring_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ring_product_fst</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">R</span> Ã— <span class="id" title="var">S</span> $-&gt; <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">fst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ring_product_snd</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">R</span> Ã— <span class="id" title="var">S</span> $-&gt; <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">snd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ring_product_corec</span> (<span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>) -&gt; (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">T</span>) -&gt; (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span> Ã— <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_RingHomomorphism'</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> (<span class="id" title="var">ab_biprod_corec</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_homo_mult</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_homo_one</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_ring_product_corec</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>) * (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">T</span>) &lt;~&gt; (<span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span> Ã— <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">uncurry</span> (<span class="id" title="var">ring_product_corec</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ring_product_fst</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>, <span class="id" title="var">ring_product_snd</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>). }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasbinaryproducts_ring</span> : <span class="id" title="var">HasBinaryProducts</span> <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_BinaryProduct</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">R</span> Ã— <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">ring_product_fst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">ring_product_snd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">T</span> =&gt; <span class="id" title="var">ring_product_corec</span> <span class="id" title="var">T</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">path_prod'</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span>) (<span class="id" title="var">q</span> <span class="id" title="var">x</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab298"></a><h2 class="section">Image ring</h2>

<div class="paragraph"> </div>

 The image of a ring homomorphism 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_image</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>) : <span class="id" title="var">Subring</span> <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">Build_Subring''</span> (<span class="id" title="var">grp_image</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">p'</span>], <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">q'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span> * <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">rng_homo_mult</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_homo_one</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rng_homo_image_incl</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">rng_image</span> <span class="id" title="var">f</span> : <span class="id" title="var">Ring</span>) $-&gt; <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Image of a surjective ring homomorphism 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rng_image_issurj</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>) {<span class="id" title="var">issurj</span> : <span class="id" title="var">IsSurjection</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">rng_image</span> <span class="id" title="var">f</span> : <span class="id" title="var">Ring</span>) â‰… <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingIsomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_homo_image_incl</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab299"></a><h2 class="section">Opposite Ring</h2>

<div class="paragraph"> </div>

 Given a ring <span class="inlinecode"><span class="id" title="var">R</span></span> we can reverse the order of the multiplication to get another ring <span class="inlinecode"><span class="id" title="var">R</span>^<span class="id" title="var">op</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_op</span> : <span class="id" title="var">Ring</span> -&gt; <span class="id" title="var">Ring</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
Let's carefully pull apart the ring structure and put it back together. Unfortunately, our definition of ring has some redundant data such as multiple hset assumptions, due to the mixing of algebraic strucutres. This isn't a problem in practice, but it does mean using typeclass inference here will pick up the wrong instance, therefore we carefully put it back together. See test/Algebra/Rings/Ring.v for a test checking this operation is definitionally involutive. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">R</span> <span class="id" title="var">mult</span> <span class="id" title="var">one</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">is_abgroup</span> [[<span class="id" title="var">monoid_ishset</span> <span class="id" title="var">mult_assoc</span>] <span class="id" title="var">li</span> <span class="id" title="var">ri</span>] <span class="id" title="var">ld</span> <span class="id" title="var">rd</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mult_assoc_opp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Ring'</span>.<br/>
&nbsp;&nbsp;4: <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;5: <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;5: <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">mult</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">one</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">is_abgroup</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">monoid_ishset</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">mult_assoc_opp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">ri</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">rd</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">ld</span> <span class="id" title="var">z</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">mult_assoc</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The opposite ring is a functor. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_rng_op</span> : <span class="id" title="var">Is0Functor</span> <span class="id" title="var">rng_op</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_RingHomomorphism'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">rng_homo_mult</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_homo_one</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1functor_rng_op</span> : <span class="id" title="var">Is1Functor</span> <span class="id" title="var">rng_op</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Functor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">R</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab300"></a><h2 class="section">Powers</h2>

<div class="paragraph"> </div>

 Powers of ring elements 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_power</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">R</span> := <span class="id" title="var">nat_iter</span> <span class="id" title="var">n</span> (<span class="id" title="var">x</span> *.) <span class="id" title="var">ring_one</span>.<br/>

<br/>
</div>

<div class="doc">
Power laws 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rng_power_mult_law</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">rng_power</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span>) * (<span class="id" title="var">rng_power</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) = <span class="id" title="var">rng_power</span> <span class="id" title="var">x</span> (<span class="id" title="var">n</span> + <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>].<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">rng_mult_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">x</span> *.) <span class="id" title="var">IHn</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab301"></a><h2 class="section">Finite Sums</h2>

<div class="paragraph"> </div>

 Ring multiplication distributes over finite sums on the left. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_sum_dist_l</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">k</span>, (<span class="id" title="var">k</span> &lt; <span class="id" title="var">n</span>)%<span class="id" title="var">nat</span> -&gt; <span class="id" title="var">R</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">r</span> * <span class="id" title="var">ab_sum</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> = <span class="id" title="var">ab_sum</span> <span class="id" title="var">n</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> =&gt; <span class="id" title="var">r</span> * <span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>].<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_zero_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_dist_l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">f_ap</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ring multiplication distributes over finite sums on the right. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_sum_dist_r</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">k</span>, (<span class="id" title="var">k</span> &lt; <span class="id" title="var">n</span>)%<span class="id" title="var">nat</span> -&gt; <span class="id" title="var">R</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ab_sum</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> * <span class="id" title="var">r</span> = <span class="id" title="var">ab_sum</span> <span class="id" title="var">n</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> * <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>].<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_zero_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_dist_r</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">f_ap</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab302"></a><h2 class="section">Invertible elements</h2>

<div class="paragraph"> </div>

 An element <span class="inlinecode"><span class="id" title="var">x</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is left invertible if there exists an element <span class="inlinecode"><span class="id" title="var">y</span></span> such that <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsLeftInvertible</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">left_inverse_elem</span> : <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">left_inverse_eq</span> : <span class="id" title="var">left_inverse_elem</span> * <span class="id" title="var">x</span> = 1;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">left_inverse_elem</span> {<span class="id" title="var">R</span>} <span class="id" title="var">x</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">left_inverse_eq</span> {<span class="id" title="var">R</span>} <span class="id" title="var">x</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_IsLeftInvertible</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
An element <span class="inlinecode"><span class="id" title="var">x</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is right invertible if there exists an element <span class="inlinecode"><span class="id" title="var">y</span></span> such that <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span>. We state this as a left invertible element of the opposite ring. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsRightInvertible</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftinvertible_rng_op</span> :: <span class="id" title="var">IsLeftInvertible</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">right_inverse_elem</span> {<span class="id" title="var">R</span>} <span class="id" title="var">x</span> `{!<span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>} : <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">left_inverse_elem</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">right_inverse_eq</span> {<span class="id" title="var">R</span>} <span class="id" title="var">x</span> `{!<span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> * <span class="id" title="var">right_inverse_elem</span> <span class="id" title="var">x</span> = 1<br/>
&nbsp;&nbsp;:= <span class="id" title="var">left_inverse_eq</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
An element <span class="inlinecode"><span class="id" title="var">x</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is invertible if it is both left and right invertible. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsInvertible</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) := <span class="id" title="var">Build_IsInvertible'</span> {<br/>
&nbsp;&nbsp;<span class="id" title="var">isleftinvertible_isinvertible</span> :: <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">isrightinvertible_isinvertible</span> :: <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
We can show an element is invertible by providing an inverse element which is a left and right inverse similtaneously. We will later show that the two inverses of an invertible element must be equal anyway. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_IsInvertible</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">inv</span> : <span class="id" title="var">R</span>) (<span class="id" title="var">inv_l</span> : <span class="id" title="var">inv</span> * <span class="id" title="var">x</span> = 1) (<span class="id" title="var">inv_r</span> : <span class="id" title="var">x</span> * <span class="id" title="var">inv</span> = 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">IsRightInvertible</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">inv</span> : <span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The invertible elements in <span class="inlinecode"><span class="id" title="var">R</span></span> and <span class="inlinecode"><span class="id" title="var">rng_op</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span> agree, by swapping the proofs of left and right invertibility. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvertible_rng_op</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) `{!<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInvertible</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">isrightinvertible_isinvertible</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">isleftinvertible_isinvertible</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab303"></a><h3 class="section">Uniqueness of inverses</h3>

<div class="paragraph"> </div>

 This general lemma will be used for uniqueness results. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_left_right_inverse</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">x'</span> * <span class="id" title="var">x</span> = 1) (<span class="id" title="var">q</span> : <span class="id" title="var">x</span> * <span class="id" title="var">x''</span> = 1)<br/>
&nbsp;&nbsp;: <span class="id" title="var">x'</span> = <span class="id" title="var">x''</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The left and right inverse of an invertible element are necessarily equal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_left_inverse_elem_right_inverse_elem</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} <span class="id" title="var">x</span> `{!<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">left_inverse_elem</span> <span class="id" title="var">x</span> = <span class="id" title="var">right_inverse_elem</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">path_left_right_inverse</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">left_inverse_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">right_inverse_eq</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It is therefore well-defined to talk about the inverse of an invertible element. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inverse_elem</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>} : <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">left_inverse_elem</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Left cancellation for an invertible element. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_l</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span> * <span class="id" title="var">x</span> = 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">left_inverse_eq</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Right cancellation for an invertible element. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_r</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> * <span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span> = 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">right_inverse_eq</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_left_inverse_elem_right_inverse_elem</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Equal elements have equal inverses.  Note that we don't require that the proofs of invertibility are equal (over <span class="inlinecode"><span class="id" title="var">p</span></span>).  It follows that the inverse of an invertible element <span class="inlinecode"><span class="id" title="var">x</span></span> depends only on <span class="inlinecode"><span class="id" title="var">x</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvertible_unique</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>) `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>} `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span> = <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">path_left_right_inverse</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_inv_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_inv_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can show that being invertible is equivalent to having an inverse element that is simultaneously a left and right inverse. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_isinvertible_left_right_inverse</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: {<span class="id" title="var">inv</span> : <span class="id" title="var">R</span> &amp; <span class="id" title="var">prod</span> (<span class="id" title="var">inv</span> * <span class="id" title="var">x</span> = 1) (<span class="id" title="var">x</span> * <span class="id" title="var">inv</span> = 1)} &lt;~&gt; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">equiv_via</span> { <span class="id" title="var">i</span> : <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> &amp; <span class="id" title="var">right_inverse_elem</span> <span class="id" title="var">x</span> = <span class="id" title="var">left_inverse_elem</span> <span class="id" title="var">x</span> }.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">make_equiv_contr_basedpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_sigma_contr</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">contr_inhabited_hprop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_left_inverse_elem_right_inverse_elem</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Being invertible is a proposition. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_isinvertible</span> {<span class="id" title="var">R</span> <span class="id" title="var">x</span>} : <span class="id" title="var">IsHProp</span> (<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_isinvertible_left_right_inverse</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">hprop_allpath</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">y</span> [<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]] [<span class="id" title="var">z</span> [<span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">path_sigma_hprop</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">path_left_right_inverse</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">p1</span> <span class="id" title="var">q2</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab304"></a><h3 class="section">Closure of invertible elements under multiplication</h3>

<div class="paragraph"> </div>

 Left invertible elements are closed under multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftinvertible_mult</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x'</span> <span class="id" title="var">p</span>] [<span class="id" title="var">y'</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">y'</span> * <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_one_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Right invertible elements are closed under multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightinvertible_mult</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">ring_mult</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsRightInvertible</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Invertible elements are closed under multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinvertible_mult</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Left invertible elements are closed under negation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftinvertible_neg</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> (-<span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (- <span class="id" title="var">left_inverse_elem</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_negate_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">left_inverse_eq</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Right invertible elements are closed under negation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightinvertible_neg</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> (-<span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">isleftinvertible_neg</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Invertible elements are closed under negation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinvertible_neg</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> (-<span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Inverses of left invertible elements are themselves right invertible. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightinvertible_left_inverse_elem</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">left_inverse_elem</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span> : <span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">left_inverse_eq</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Inverses of right invertible elements are themselves left invertible. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftinvertible_right_inverse_elem</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">right_inverse_elem</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">right_inverse_eq</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Inverses of invertible elements are themselves invertible.  We take both inverses of <span class="inlinecode"><span class="id" title="var">inverse_elem</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> to be <span class="inlinecode"><span class="id" title="var">x</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinvertible_inverse_elem</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_inv_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isrightinvertible_left_inverse_elem</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Since <span class="inlinecode"><span class="id" title="var">inverse_elem</span></span> <span class="inlinecode">(<span class="id" title="var">inverse_elem</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x</span></span>, we get the following equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_inverse_elem</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> = <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span> = <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_iff_hprop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">isinvertible_unique</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">isinvertible_unique</span> (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span>) (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode">1</span> is always invertible, and by the above <span class="inlinecode">-1</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinvertible_one</span> {<span class="id" title="var">R</span>} : <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsInvertible</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">one</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ring homomorphisms preserve invertible elements. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinvertible_rng_homo</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">S</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsInvertible</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span> (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">lhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_homo_mult</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">rng_homo_one</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">nrapply</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_inv_l</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_inv_r</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab305"></a><h3 class="section">Group of units</h3>

<div class="paragraph"> </div>

 Invertible elements are typically called "units" in ring theory and the collection of units forms a group under the ring multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_unit_group</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
TODO: Use a generalised version of <span class="inlinecode"><span class="id" title="var">Build_Subgroup</span></span> that works for subgroups of monoids. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Group</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> {<span class="id" title="var">x</span> : <span class="id" title="var">R</span> &amp; <span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">p</span>] [<span class="id" title="var">y</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-5: <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_sigma_hprop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">left_identity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">right_identity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_inv_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_inv_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab306"></a><h3 class="section">Multiplication by an invertible element is an equivalence</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_rng_inv_mult_l</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">R</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">x</span> *.).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span> *.).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">snrapply</span> (<span class="id" title="var">ap</span> (.* <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_inv_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_inv_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This can be proved by combining <span class="inlinecode"><span class="id" title="var">isequiv_rng_inv_mult_l</span></span> <span class="inlinecode">(<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span></span> <span class="inlinecode"><span class="id" title="var">R</span>)</span> with <span class="inlinecode"><span class="id" title="var">isinvertible_rng_op</span></span>, but then the inverse map is given by multiplying by <span class="inlinecode"><span class="id" title="var">right_inverse_elem</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> not <span class="inlinecode"><span class="id" title="var">inverse_elem</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>, which complicates calculations. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_rng_inv_mult_r</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">R</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (.* <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (.* <span class="id" title="var">inverse_elem</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">lhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_mult_one_r</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="var">snrapply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">y</span> *.)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_inv_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_inv_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab307"></a><h3 class="section">Invertible element movement lemmas</h3>

<div class="paragraph"> </div>

 These cannot be proven using the corresponding group laws in the group of units since not all elements involved are invertible. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_moveL_Vr</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">R</span>} `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">y</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span> * <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_V</span> (<span class="id" title="var">f</span> := (<span class="id" title="var">y</span> *.)) <span class="id" title="var">z</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_moveL_rV</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">R</span>} `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">z</span> * <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_V</span> (<span class="id" title="var">f</span> := (.* <span class="id" title="var">y</span>)) <span class="id" title="var">z</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_moveR_Vr</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">R</span>} `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_V</span> (<span class="id" title="var">f</span> := (<span class="id" title="var">y</span> *.)) <span class="id" title="var">x</span> <span class="id" title="var">z</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_inv_moveR_rV</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">R</span>} `{<span class="id" title="var">IsInvertible</span> <span class="id" title="var">R</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> = <span class="id" title="var">z</span> * <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> * <span class="id" title="var">inverse_elem</span> <span class="id" title="var">y</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_V</span> (<span class="id" title="var">f</span> := (.* <span class="id" title="var">y</span>)) <span class="id" title="var">x</span> <span class="id" title="var">z</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: The group of units construction is a functor from <span class="inlinecode"><span class="id" title="var">Ring</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">Group</span></span> and is right adjoint to the group ring construction. 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>