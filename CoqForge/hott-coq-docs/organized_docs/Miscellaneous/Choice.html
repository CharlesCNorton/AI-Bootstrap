<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Choice</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Choice</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Basics</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Types</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Universes.HSet</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Truncations.Core</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Colimits.Quotient</span><br/>
&nbsp;&nbsp;<span class="id" title="var">HoTT.Projective</span>.<br/>

<br/>
</div>

<div class="doc">
The following is an alternative (0,-1)-projectivity predicate on <span class="inlinecode"><span class="id" title="var">A</span></span>. Given a family of quotient equivalence classes <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">/</span> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>, for <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">Relation</span></span> <span class="inlinecode">(<span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span>, we merely have a choice function <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>, factoring <span class="inlinecode"><span class="id" title="var">f</span></span> as <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">class_of</span></span> <span class="inlinecode">(<span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">HasQuotientChoice</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>), (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">R</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Relation</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pR</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">is_mere_relation</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>) (<span class="id" title="var">R</span> <span class="id" title="var">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Reflexive</span> (<span class="id" title="var">R</span> <span class="id" title="var">x</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Symmetric</span> (<span class="id" title="var">R</span> <span class="id" title="var">x</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Transitive</span> (<span class="id" title="var">R</span> <span class="id" title="var">x</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span>, <span class="id" title="var">B</span> <span class="id" title="var">x</span> / <span class="id" title="var">R</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">hexists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span>, <span class="id" title="var">B</span> <span class="id" title="var">x</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">x</span>) (<span class="id" title="var">g</span> <span class="id" title="var">x</span>) = <span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">choose_has_quotient_choice</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">B</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">a</span> : <span class="id" title="var">B</span> <span class="id" title="var">x</span>), <span class="id" title="var">IsHProp</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">RelClassEquiv</span> (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">B</span> <span class="id" title="var">x</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span> <span class="id" title="var">x</span>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> &lt;~&gt; <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">reflexive_relclass</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Reflexive</span> (<span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_idmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">symmetric_relclass</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Symmetric</span> (<span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_inverse</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">transitive_relclass</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Transitive</span> (<span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">b3</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_compose</span> <span class="id" title="var">q</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">hprop_choose_cod</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> {<span class="id" title="var">c</span> : <span class="id" title="var">B</span> <span class="id" title="var">a</span> / <span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">in_class</span> (<span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">a</span>) <span class="id" title="var">c</span> <span class="id" title="var">b</span> &lt;~&gt; <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ishprop_sigma_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Quotient_ind_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Quotient_ind_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">f</span> <span class="id" title="var">b2</span>)^-1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">reflexive_relclass</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">prechoose</span> (<span class="id" title="var">i</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">hexists</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: {<span class="id" title="var">c</span> : <span class="id" title="var">B</span> <span class="id" title="var">a</span> / <span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span> <span class="id" title="var">a</span>, <span class="id" title="var">in_class</span> (<span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">a</span>) <span class="id" title="var">c</span> <span class="id" title="var">b</span> &lt;~&gt; <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">i</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b1</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">class_of</span> <span class="id" title="var">_</span> <span class="id" title="var">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_iff_hprop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_iff_hprop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">choose</span> (<span class="id" title="var">i</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">hexists</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">B</span> <span class="id" title="var">a</span> / <span class="id" title="var">RelClassEquiv</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">prechoose</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span>).1.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">choose_has_quotient_choice</span>.<br/>

<br/>
</div>

<div class="doc">
The following section derives <span class="inlinecode"><span class="id" title="var">HasTrChoice</span></span> <span class="inlinecode">0</span> <span class="inlinecode"><span class="id" title="var">A</span></span> from <span class="inlinecode"><span class="id" title="var">HasQuotientChoice</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">has_tr0_choice_quotientchoice</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">qch</span> : <span class="id" title="var">HasQuotientChoice</span> <span class="id" title="var">A</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">RelUnit</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span> <span class="id" title="var">a</span>) : <span class="id" title="var">HProp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">Build_HProp</span> <span class="id" title="var">Unit</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">reflexive_relunit</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Reflexive</span> (<span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">symmetric_relunit</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Symmetric</span> (<span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">transitive_relunit</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Transitive</span> (<span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">ishprop_quotient_relunit</span> (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">B</span> <span class="id" title="var">a</span> / <span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hprop_allpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Quotient_ind_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Quotient_ind_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">has_tr0_choice_quotientchoice</span> : <span class="id" title="var">HasTrChoice</span> 0 <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">sB</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transparent</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">B</span> <span class="id" title="var">a</span> / <span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">class_of</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">qch</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span> (<span class="id" title="var">RelUnit</span> <span class="id" title="var">B</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">qch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">has_tr0_choice_quotientchoice</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">has_quotient_choice_tr0choice</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">HasTrChoice</span> 0 <span class="id" title="var">A</span> -&gt; <span class="id" title="var">HasQuotientChoice</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ch</span> <span class="id" title="var">B</span> <span class="id" title="var">sB</span> <span class="id" title="var">R</span> <span class="id" title="var">pR</span> <span class="id" title="var">rR</span> <span class="id" title="var">sR</span> <span class="id" title="var">tR</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span> = <span class="id" title="var">f</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">merely</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; {<span class="id" title="var">b</span> | <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>}) <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Quotient_ind_hprop</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="var">merely</span> {<span class="id" title="var">b</span> | <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span> = <span class="id" title="var">c</span>}) <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">ch</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; {<span class="id" title="var">b</span> | <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>}) <span class="id" title="var">_</span> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">h</span> <span class="id" title="var">x</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_has_tr0_choice_to_has_quotient_choice</span><br/>
&nbsp;&nbsp;`{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">has_quotient_choice_tr0choice</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_iff_hprop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_forall</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">has_tr0_choice_quotientchoice</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_has_tr0_choice_has_quotient_choice</span><br/>
&nbsp;&nbsp;`{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">HasTrChoice</span> 0 <span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">HasQuotientChoice</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">has_quotient_choice_tr0choice</span> <span class="id" title="var">A</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The next section uses <span class="inlinecode"><span class="id" title="var">has_quotient_choice_tr0choice</span></span> to generalize <span class="inlinecode"><span class="id" title="var">quotient_rec2</span></span>, see <span class="inlinecode"><span class="id" title="var">choose_quotient_ind</span></span> below. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">choose_quotient_ind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span> : <span class="id" title="keyword">Type</span>} `{!<span class="id" title="var">HasTrChoice</span> 0 <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="var">I</span> -&gt; <span class="id" title="keyword">Type</span>} `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">A</span> <span class="id" title="var">i</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">Relation</span> (<span class="id" title="var">A</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{!<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">is_mere_relation</span> (<span class="id" title="var">A</span> <span class="id" title="var">i</span>) (<span class="id" title="var">R</span> <span class="id" title="var">i</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">rR</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">Reflexive</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">sR</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">Symmetric</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">tR</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">Transitive</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>)}.<br/>

<br/>
</div>

<div class="doc">
First generalize the <span class="inlinecode"><span class="id" title="var">qglue</span></span> constructor. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">qglue_forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) (<span class="id" title="var">r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">g</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)) = (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">g</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funext</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given suitable preconditions, we will show that <span class="inlinecode"><span class="id" title="var">ChooseProp</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> is inhabited, rather than directly giving an inhabitant of <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span>. This turns out to be beneficial because <span class="inlinecode"><span class="id" title="var">ChooseProp</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> is a proposition. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">ChooseProp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {<span class="id" title="var">b</span> : <span class="id" title="var">P</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">merely</span> (<span class="id" title="tactic">exists</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">q</span> : <span class="id" title="var">g</span> = <span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qglue_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> # <span class="id" title="var">q</span> # <span class="id" title="var">b</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">ishprop_choose_quotient_ind_chooseprop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">ChooseProp</span> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ishprop_sigma_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f1</span> [<span class="id" title="var">q1</span> <span class="id" title="var">p1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f2</span> [<span class="id" title="var">q2</span> <span class="id" title="var">p2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p1</span> <span class="id" title="var">f1</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">rR</span> <span class="id" title="var">i</span> (<span class="id" title="var">f1</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pR</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">related_quotient_paths</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">i</span>) <span class="id" title="var">q2</span>^<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">i</span>) <span class="id" title="var">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">p2</span> <span class="id" title="var">f1</span> <span class="id" title="var">pR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_transport_V</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_transport_V</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">p1</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">p2</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_transport_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inv_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">transport_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_transport_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inv_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">transport_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pa</span> := (<span class="id" title="var">qglue_forall</span> <span class="id" title="var">f2</span> <span class="id" title="var">f1</span> <span class="id" title="var">pR</span>)^<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" title="var">q2</span>^ @ <span class="id" title="var">q1</span> @ <span class="id" title="var">qglue_forall</span> <span class="id" title="var">f1</span> <span class="id" title="var">f1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> (<span class="id" title="var">hset_path2</span> <span class="id" title="var">idpath</span> <span class="id" title="var">pa</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Since&nbsp;<span class="inlinecode"><span class="id" title="var">ChooseProp</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span>&nbsp;is&nbsp;a&nbsp;proposition,&nbsp;we&nbsp;can&nbsp;apply&nbsp;<span class="inlinecode"><span class="id" title="var">has_quotient_choice_tr0choice</span></span>&nbsp;and&nbsp;strip&nbsp;its&nbsp;truncation&nbsp;in&nbsp;order&nbsp;to&nbsp;derive&nbsp;<span class="inlinecode"><span class="id" title="var">ChooseProp</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span>.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">chooseprop_quotient_ind</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) (<span class="id" title="var">r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qglue_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> # <span class="id" title="var">a</span> <span class="id" title="var">f</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">ChooseProp</span> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">has_quotient_choice_tr0choice</span> <span class="id" title="var">I</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
By projecting out of <span class="inlinecode"><span class="id" title="var">chooseprop_quotient_ind</span></span> we obtain a generalization of <span class="inlinecode"><span class="id" title="var">quotient_rec2</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">choose_quotient_ind</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) (<span class="id" title="var">r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qglue_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> # <span class="id" title="var">a</span> <span class="id" title="var">f</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">P</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">chooseprop_quotient_ind</span> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">E</span> <span class="id" title="var">g</span>).1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A specialization of <span class="inlinecode"><span class="id" title="var">choose_quotient_ind</span></span> to the case where <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> is a proposition. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">choose_quotient_ind_prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHProp</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">P</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">choose_quotient_ind</span> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">path_ishprop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The recursion principle derived from <span class="inlinecode"><span class="id" title="var">choose_quotient_ind</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">choose_quotient_rec</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{!<span class="id" title="var">IsHSet</span> <span class="id" title="var">B</span>} (<span class="id" title="var">a</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)) -&gt; <span class="id" title="var">a</span> <span class="id" title="var">f</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">choose_quotient_ind</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">B</span>) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">transport_const</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">E</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span>) <span class="id" title="var">g</span>.<br/>

<br/>
</div>

<div class="doc">
The "beta-rule" of <span class="inlinecode"><span class="id" title="var">choose_quotient_ind</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">choose_quotient_ind_compute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span> / <span class="id" title="var">R</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="keyword">Type</span>) `{!<span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">IsHSet</span> (<span class="id" title="var">P</span> <span class="id" title="var">g</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>), <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) (<span class="id" title="var">r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">qglue_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">r</span> # <span class="id" title="var">a</span> <span class="id" title="var">f</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">choose_quotient_ind</span> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">E</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)) = <span class="id" title="var">a</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Trunc_ind</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">_</span> <span class="id" title="var">a</span>).1 = <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f'</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transport_sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p'</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">related_quotient_paths</span> (<span class="id" title="var">R</span> <span class="id" title="var">x</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">p</span> = (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">qglue</span> (<span class="id" title="var">p'</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">pE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">funext</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hset_path2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">pE</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The "beta-rule" of <span class="inlinecode"><span class="id" title="var">choose_quotient_rec</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">choose_quotient_rec_compute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{!<span class="id" title="var">IsHSet</span> <span class="id" title="var">B</span>} (<span class="id" title="var">a</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>) -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">i</span>)) -&gt; <span class="id" title="var">a</span> <span class="id" title="var">f</span> = <span class="id" title="var">a</span> <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">A</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">choose_quotient_rec</span> <span class="id" title="var">a</span> <span class="id" title="var">E</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">class_of</span> (<span class="id" title="var">R</span> <span class="id" title="var">i</span>) (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)) = <span class="id" title="var">a</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">choose_quotient_ind_compute</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">choose_quotient_ind</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>