<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Moduli</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Moduli</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">HSpace.Core</span> <span class="id" title="var">HSpace.Coherent</span> <span class="id" title="var">HSpace.Pointwise</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Pointed</span> <span class="id" title="var">Homotopy.EvaluationFibration</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">pointed_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mc_mult_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1150"></a><h1 class="section">The moduli type of coherent H-space structures</h1>

<div class="paragraph"> </div>

 When <span class="inlinecode"><span class="id" title="var">A</span></span> is a left-invertible coherent H-space, we construct an equivalence between the ("moduli") type of coherent H-space structures on <span class="inlinecode"><span class="id" title="var">A</span></span> and the type <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;*</span> <span class="inlinecode">(<span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;**</span> <span class="inlinecode"><span class="id" title="var">A</span>)</span>. By the smash-hom adjunction for pointed types, due to Floris van Doorn in HoTT, the latter is also equivalent to the type <span class="inlinecode"><span class="id" title="var">Smash</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;*</span> <span class="inlinecode"><span class="id" title="var">A</span></span>.

<div class="paragraph"> </div>

This equivalence generalizes a formula of Arkowitz--Curjel and Copeland for spaces, and appears as Theorem 2.27 in https://arxiv.org/abs/2301.02636v1 
<div class="paragraph"> </div>

<a id="lab1151"></a><h2 class="section">Paths between H-space structures</h2>

<div class="paragraph"> </div>

 Paths between H-space structures correspond to homotopies between the underlying binary operations which respect the identities. This is the type of the latter. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_ishspace_type</span> {<span class="id" title="var">X</span> : <span class="id" title="var">pType</span>} (<span class="id" title="var">mu</span> <span class="id" title="var">nu</span> : <span class="id" title="var">IsHSpace</span> <span class="id" title="var">X</span>) : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mu</span> <span class="id" title="var">mu_lid</span> <span class="id" title="var">mu_rid</span>], <span class="id" title="var">nu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nu</span> <span class="id" title="var">nu_lid</span> <span class="id" title="var">nu_rid</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> { <span class="id" title="var">h</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span>, <span class="id" title="var">mu</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> = <span class="id" title="var">nu</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> &amp; <span class="id" title="var">prod</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">X</span>, <span class="id" title="var">_</span>) (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">X</span>, <span class="id" title="var">_</span>) }.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">mu_lid</span> <span class="id" title="var">x</span> = <span class="id" title="var">h</span> <span class="id" title="var">pt</span> <span class="id" title="var">x</span> @ <span class="id" title="var">nu_lid</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">mu_rid</span> <span class="id" title="var">x</span> = <span class="id" title="var">h</span> <span class="id" title="var">x</span> <span class="id" title="var">pt</span> @ <span class="id" title="var">nu_rid</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Transport of left and right identities of binary operations along paths between the underlying functions. 
</div>
<div class="code">
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">transport_binop_lr_id</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">mu</span> <span class="id" title="var">nu</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>} `{<span class="id" title="var">mu_lid</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">mu</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">mu_rid</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">mu</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> = <span class="id" title="var">y</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">mu</span> = <span class="id" title="var">nu</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">m</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">y</span>) * (<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">m</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> = <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">p</span> (<span class="id" title="var">mu_lid</span>, <span class="id" title="var">mu_rid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; (<span class="id" title="var">ap100</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">mu_lid</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; (<span class="id" title="var">ap100</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">mu_rid</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod'</span>; <span class="id" title="var">funext</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">exact</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Characterization of paths between H-space structures. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_ishspace</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">X</span> : <span class="id" title="var">pType</span>} (<span class="id" title="var">mu</span> <span class="id" title="var">nu</span> : <span class="id" title="var">IsHSpace</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">path_ishspace_type</span> <span class="id" title="var">mu</span> <span class="id" title="var">nu</span> &lt;~&gt; (<span class="id" title="var">mu</span> = <span class="id" title="var">nu</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">mu</span> <span class="id" title="var">mu_lid</span> <span class="id" title="var">mu_rid</span>], <span class="id" title="var">nu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nu</span> <span class="id" title="var">nu_lid</span> <span class="id" title="var">nu_rid</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">path_ishspace_type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_ap_inv'</span> <span class="id" title="var">issig_ishspace</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_path_sigma</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_functor_sigma'</span> (<span class="id" title="var">equiv_path_arrow2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">h</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_binop_lr_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_prod'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_path_forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_forall_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">nrefine</span> (<span class="id" title="var">equiv_moveR_Vp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_r</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">whiskerR</span>; <span class="id" title="tactic">symmetry</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap100_path_arrow2</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1152"></a><h2 class="section">Sections of evaluation fibrations</h2>

<div class="paragraph"> </div>

 We first show that coherent H-space structures on a pointed type correspond to pointed sections of the evaluation fibration <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_iscohhspace_psect</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">pSect</span> (<span class="id" title="var">ev</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">issig_psect</span> (<span class="id" title="var">ev</span> <span class="id" title="var">A</span>) <span class="id" title="var">oE</span> <span class="id" title="var">_</span>^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">oE</span> (<span class="id" title="var">issig_iscohhspace</span> <span class="id" title="var">A</span>)^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">SgOp</span>, <span class="id" title="var">LeftIdentity</span>, <span class="id" title="var">RightIdentity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_sigma_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">mu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_functor_sigma'</span> (<span class="id" title="var">equiv_apD10</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_sigma_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_p1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Our next goal is to see that when <span class="inlinecode"><span class="id" title="var">A</span></span> is a left-invertible H-space, then the fibration <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> is trivial. 
<div class="paragraph"> </div>

 This lemma says that the family <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">=&gt;</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;*</span> <span class="inlinecode">[<span class="id" title="var">A</span>,<span class="id" title="var">a</span>]</span> is trivial. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equiv_pmap_hspace</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) `{<span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{!<span class="id" title="var">IsEquiv</span> (<span class="id" title="var">hspace_op</span> <span class="id" title="var">a</span>)}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt;* <span class="id" title="var">A</span>) &lt;~&gt; (<span class="id" title="var">A</span> -&gt;* [<span class="id" title="var">A</span>,<span class="id" title="var">a</span>]).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">pequiv_pequiv_postcompose</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">pequiv_hspace_left_op</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The lemma gives us an equivalence on the total spaces (domains) of <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> and <span class="inlinecode"><span class="id" title="var">psnd</span></span> (the projection out of the displayed product). 
</div>
<div class="code">
<span class="id" title="keyword">Proposition</span> <span class="id" title="var">equiv_map_pmap_hspace</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>:<span class="id" title="var">A</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt;* <span class="id" title="var">A</span>) * <span class="id" title="var">A</span> &lt;~&gt; (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> {<span class="id" title="var">a</span> : <span class="id" title="var">A</span>  &amp; {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> &amp; <span class="id" title="var">f</span> <span class="id" title="var">pt</span> = <span class="id" title="var">a</span>}}.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_sigma_contr</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">equiv_sigma_symm</span> <span class="id" title="var">_</span>)^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">equiv_sigma_prod0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_prod_symm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_sigma_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">issig_pmap</span> <span class="id" title="var">A</span> [<span class="id" title="var">A</span>,<span class="id" title="var">a</span>])^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_pmap_hspace</span> <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The above is a pointed equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Proposition</span> <span class="id" title="var">pequiv_map_pmap_hspace</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>:<span class="id" title="var">A</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: [(<span class="id" title="var">A</span> -&gt;* <span class="id" title="var">A</span>) * <span class="id" title="var">A</span>, (<span class="id" title="var">pmap_idmap</span>, <span class="id" title="var">pt</span>)] &lt;~&gt;* <span class="id" title="var">selfmaps</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_pEquiv'</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">equiv_map_pmap_hspace</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_forall</span>, <span class="id" title="var">hspace_left_identity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
When <span class="inlinecode"><span class="id" title="var">A</span></span> is coherent, the pointed equivalence <span class="inlinecode"><span class="id" title="var">pequiv_map_pmap_hspace</span></span> is a pointed equivalence over <span class="inlinecode"><span class="id" title="var">A</span></span>, i.e., a trivialization of <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Proposition</span> <span class="id" title="var">hspace_ev_trivialization</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsCoherent</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>:<span class="id" title="var">A</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ev</span> <span class="id" title="var">A</span> <span class="id" title="var">o</span>* <span class="id" title="var">pequiv_map_pmap_hspace</span> ==* <span class="id" title="var">psnd</span> (<span class="id" title="var">A</span>:=[<span class="id" title="var">A</span> -&gt;* <span class="id" title="var">A</span>, <span class="id" title="var">pmap_idmap</span>]).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_pHomotopy</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">x</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> (<span class="id" title="var">dpoint_eq</span> <span class="id" title="var">f</span>) @ <span class="id" title="var">hspace_right_identity</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>^).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap10_path_forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscoherent</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1153"></a><h2 class="section">The equivalence <span class="inlinecode"><span class="id" title="var">IsCohHSpace</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">&lt;~&gt;</span> <span class="inlinecode">(<span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;*</span> <span class="inlinecode">(<span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;**</span> <span class="inlinecode"><span class="id" title="var">A</span>))</span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">equiv_cohhspace_ppmap</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsCoherent</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>:<span class="id" title="var">A</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">hspace_op</span> <span class="id" title="var">a</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span> &lt;~&gt; (<span class="id" title="var">A</span> -&gt;* (<span class="id" title="var">A</span> -&gt;** <span class="id" title="var">A</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_iscohhspace_psect</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">equiv_pequiv_pslice_psect</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hspace_ev_trivialization</span>^*)^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_psect_psnd</span> (<span class="id" title="var">A</span>:=[<span class="id" title="var">A</span> -&gt;* <span class="id" title="var">A</span>, <span class="id" title="var">pmap_idmap</span>])).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pequiv_pequiv_postcompose</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">pequiv_hspace_left_op</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Here is a third characterization of the type of coherent H-space structures. It simply involves shuffling the data around and using <span class="inlinecode"><span class="id" title="var">Funext</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_iscohhspace_ptd_action</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span> &lt;~&gt; { <span class="id" title="var">act</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">A</span> -&gt;* [<span class="id" title="var">A</span>,<span class="id" title="var">a</span>] &amp; <span class="id" title="var">act</span> <span class="id" title="var">pt</span> ==* <span class="id" title="var">pmap_idmap</span> }.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">issig_iscohhspace</span> <span class="id" title="var">A</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsPointed</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;we&nbsp;shuffle&nbsp;the&nbsp;data&nbsp;on&nbsp;the&nbsp;LHS&nbsp;to&nbsp;be&nbsp;of&nbsp;this&nbsp;form:&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">equiv_via</span> {<span class="id" title="var">s</span> : {<span class="id" title="var">act</span> : <span class="id" title="var">A</span> -&gt; (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>) &amp; <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">act</span> <span class="id" title="var">a</span> <span class="id" title="var">pt</span> = <span class="id" title="var">a</span>} &amp; {<span class="id" title="var">h</span> : <span class="id" title="var">s</span>.1 <span class="id" title="var">pt</span> == <span class="id" title="var">idmap</span> &amp; <span class="id" title="var">h</span> <span class="id" title="var">pt</span> = <span class="id" title="var">s</span>.2 <span class="id" title="var">pt</span>}}.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">make_equiv</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Then&nbsp;we&nbsp;break&nbsp;up&nbsp;<span class="inlinecode">-&gt;*</span>&nbsp;and&nbsp;<span class="inlinecode">==*</span>&nbsp;on&nbsp;the&nbsp;RHS&nbsp;using&nbsp;issig&nbsp;lemmas,&nbsp;and&nbsp;handle&nbsp;a&nbsp;trailing&nbsp;<span class="inlinecode">@</span> <span class="inlinecode">1</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_functor_sigma'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall_id</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">issig_pmap</span> <span class="id" title="var">A</span> [<span class="id" title="var">A</span>,<span class="id" title="var">a</span>]) <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsPointed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">equiv_sig_coind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">act</span> <span class="id" title="var">p</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">issig_phomotopy</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_sigma_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_r</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">concat_p1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that any homogeneous type is a coherent H-space.  This generalizes <span class="inlinecode"><span class="id" title="var">ishspace_homogeneous</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscohhspace_homogeneous</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>} `{<span class="id" title="var">IsHomogeneous</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_iscohhspace_ptd_action</span> <span class="id" title="var">A</span>)^-1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">homogeneous_pt_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homogeneous_pt_id_beta</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
One can also show directly that the H-space structure defined by <span class="inlinecode"><span class="id" title="var">ishspace_homogeneous</span></span> is coherent. This also avoids <span class="inlinecode"><span class="id" title="var">Funext</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscoherent_homogeneous</span> {<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>} `{<span class="id" title="var">IsHomogeneous</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: @<span class="id" title="var">IsCoherent</span> <span class="id" title="var">A</span> (<span class="id" title="var">ishspace_homogeneous</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsCoherent</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="var">ishomogeneous</span> <span class="id" title="var">pt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">eisretr</span> <span class="id" title="var">f</span> <span class="id" title="var">pt</span> = <span class="id" title="var">ap</span> <span class="id" title="var">f</span> (<span class="id" title="var">moveR_equiv_V</span> <span class="id" title="var">pt</span> <span class="id" title="var">pt</span> (<span class="id" title="var">point_eq</span> <span class="id" title="var">f</span>)^) @ <span class="id" title="var">point_eq</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">point_eq</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">moveR_equiv_V</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">eisadj</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">concat_1p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Using either of these, we can "upgrade" any left-invertible H-space structure to a coherent one. This one has a prime because the direct proof below computes better. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscohhspace_hspace'</span> (<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsCohHSpace</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">nrapply</span> <span class="id" title="var">ishspace_homogeneous</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ishomogeneous_hspace</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscoherent_homogeneous</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The new multiplication is homotopic to the original one.  Relative to this, we expect that one of the identity laws also agrees, but that the other does not. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscohhspace_hspace'_beta_mu</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">m</span> : <span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: @<span class="id" title="var">hspace_op</span> <span class="id" title="var">A</span> (@<span class="id" title="var">ishspace_cohhspace</span> <span class="id" title="var">A</span> (<span class="id" title="var">iscohhspace_hspace'</span> <span class="id" title="var">A</span>)) = @<span class="id" title="var">hspace_op</span> <span class="id" title="var">A</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="comment">(*&nbsp;<span class="inlinecode">*</span>,&nbsp;<span class="inlinecode"><span class="id" title="var">sg_op</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">hspace_op</span></span>&nbsp;all&nbsp;denote&nbsp;the&nbsp;original&nbsp;operation.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">funext</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">a</span> *.) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_equiv_V</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">left_identity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Here's a different proof that directly upgrades an H-space structure, leaving the multiplication and left-identity definitionally the same, but changing the right-identity. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscohhspace_hspace</span> (<span class="id" title="var">A</span> : <span class="id" title="var">pType</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">m</span> : <span class="id" title="var">IsHSpace</span> <span class="id" title="var">A</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">a</span> *.)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsCohHSpace</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsCohHSpace</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsHSpace</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (@<span class="id" title="var">hspace_op</span> <span class="id" title="var">A</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (@<span class="id" title="var">hspace_left_identity</span> <span class="id" title="var">A</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">a</span> *.) (<span class="id" title="var">hspace_right_identity</span> <span class="id" title="var">pt</span>))^.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">a</span> *.) (<span class="id" title="var">hspace_left_identity</span> <span class="id" title="var">pt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hspace_right_identity</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">IsCoherent</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">concat_A1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @@ 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cancelR</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">hspace_left_identity</span> <span class="id" title="var">pt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">concat_A1p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>