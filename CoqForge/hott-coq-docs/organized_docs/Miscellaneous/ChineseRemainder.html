<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>ChineseRemainder</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library ChineseRemainder</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Classes.interfaces.canonical_names</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Modalities.ReflectiveSubuniverse</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.AbGroups</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Rings.Ring</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Rings.Ideal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Rings.QuotientRing</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Rings.CRing</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab213"></a><h1 class="section">Chinese remainder theorem</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Ideal.Notation</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">wc_iso_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">ChineseRemainderTheorem</span>.<br/>

<br/>
</div>

<div class="doc">
We assume <span class="inlinecode"><span class="id" title="var">Univalence</span></span> in order to work with quotients. We also need it for <span class="inlinecode"><span class="id" title="var">Funext</span></span> in a few places.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We need two coprime ideals <span class="inlinecode"><span class="id" title="var">I</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span> to state the theorem. We don't introduce the coprimeness assumption as of yet in order to show something slightly stronger. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
We begin with the homomorphism which will show to be a surjection. Using the first isomorphism theorem for rings we can improve this to be the isomorphism we want.  This is the corecursion of the two quotient maps 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">rng_homo_crt</span> : <span class="id" title="var">R</span> $-&gt; (<span class="id" title="var">R</span> / <span class="id" title="var">I</span>) × (<span class="id" title="var">R</span> / <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ring_product_corec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">rng_quotient_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Since we are working with quotients, we make the following notation to make working with the proof somewhat easier. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> &quot;[ x ]" := (<span class="id" title="var">rng_quotient_map</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
We then need to prove the following lemma. The hypotheses here can be derived by coprimality of <span class="inlinecode"><span class="id" title="var">I</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span>. But we don't need that here. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">issurjection_rng_homo_crt'</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">q1</span> : <span class="id" title="var">rng_homo_crt</span> <span class="id" title="var">x</span> = (0, 1)) (<span class="id" title="var">q2</span> : <span class="id" title="var">rng_homo_crt</span> <span class="id" title="var">y</span> = (1, 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsSurjection</span> <span class="id" title="var">rng_homo_crt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
In order to show that <span class="inlinecode"><span class="id" title="var">rng_homo_crt</span></span> is a surjection, we need to show that its propositional truncation of the fiber at any point is contractible. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span>; <span class="id" title="var">srapply</span> <span class="id" title="var">QuotientRing_ind_hprop</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span>; <span class="id" title="var">srapply</span> <span class="id" title="var">QuotientRing_ind_hprop</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
</div>

<div class="doc">
We can think of <span class="inlinecode"><span class="id" title="var">a</span></span> and <span class="inlinecode"><span class="id" title="var">b</span></span> as the pair <span class="inlinecode">(<span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">mod</span></span> <span class="inlinecode"><span class="id" title="var">I</span>,</span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">mod</span></span> <span class="inlinecode"><span class="id" title="var">J</span>)</span>. We need to show that there merely exists some element in <span class="inlinecode"><span class="id" title="var">R</span></span> that gets mapped by  <span class="inlinecode"><span class="id" title="var">rng_homo_crt</span></span> to the pair. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Contr</span>; [|<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_ishprop</span>].<br/>
</div>

<div class="doc">
We make this choice and show it maps as desired. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">exists</span> (<span class="id" title="var">b</span> * <span class="id" title="var">x</span> + <span class="id" title="var">a</span> * <span class="id" title="var">y</span>).<br/>
</div>

<div class="doc">
Finally using some simple ring laws we can show it maps to our pair. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_homo_plus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">rng_homo_mult</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">q1</span>, <span class="id" title="var">q2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> ([<span class="id" title="var">b</span>] * 0 + [<span class="id" title="var">a</span>] * 1 = [<span class="id" title="var">a</span>] :&gt; <span class="id" title="var">R</span> / <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_one_r</span>, <span class="id" title="var">rng_mult_zero_r</span>, <span class="id" title="var">rng_plus_zero_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> ([<span class="id" title="var">b</span>] * 1 + [<span class="id" title="var">a</span>] * 0 = [<span class="id" title="var">b</span>] :&gt; <span class="id" title="var">R</span> / <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_one_r</span>, <span class="id" title="var">rng_mult_zero_r</span>, <span class="id" title="var">rng_plus_zero_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now we show that if <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1</span> for <span class="inlinecode"><span class="id" title="var">I</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> then we can satisfy the hypotheses of the previous lemma. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">rng_homo_crt_beta</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">R</span>) (<span class="id" title="var">ix</span> : <span class="id" title="var">I</span> <span class="id" title="var">x</span>) (<span class="id" title="var">iy</span> : <span class="id" title="var">J</span> <span class="id" title="var">y</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> + <span class="id" title="var">y</span> = 1).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rng_homo_crt_beta_left</span> : <span class="id" title="var">rng_homo_crt</span> <span class="id" title="var">x</span> = (0, 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_moveR_Mr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">I</span> (-<span class="id" title="var">x</span> + 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_negate_plus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">J</span> (-<span class="id" title="var">x</span> + 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rng_homo_crt_beta_right</span> : <span class="id" title="var">rng_homo_crt</span> <span class="id" title="var">y</span> = (1, 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_moveR_rM</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">I</span> (-<span class="id" title="var">y</span> + 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">J</span> (-<span class="id" title="var">y</span> + 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_negate_plus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">rng_homo_crt_beta</span>.<br/>

<br/>
</div>

<div class="doc">
We can now show the map is surjective from coprimality of <span class="inlinecode"><span class="id" title="var">I</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">issurjection_rng_homo_crt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Coprime</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> -&gt; <span class="id" title="var">IsSurjection</span> <span class="id" title="var">rng_homo_crt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>.<br/>
</div>

<div class="doc">
First we turn the coprimality assumption into an equivalent assumption about the mere existence of two elements of each ideal which sum to one. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_coprime_sum</span> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
</div>

<div class="doc">
Since the goal is a hprop we may strip the truncations. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
</div>

<div class="doc">
Now we can break apart the data of this witness. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">x</span> <span class="id" title="var">ix</span>] [<span class="id" title="var">y</span> <span class="id" title="var">jy</span>]] <span class="id" title="var">p</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">x</span> + <span class="id" title="var">y</span> = 1) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
</div>

<div class="doc">
Now we apply all our previous lemmas 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">issurjection_rng_homo_crt'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_homo_crt_beta_left</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">ix</span> <span class="id" title="var">jy</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">rng_homo_crt_beta_right</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">ix</span> <span class="id" title="var">jy</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now suppose <span class="inlinecode"><span class="id" title="var">I</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span> are coprime. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">c</span> : <span class="id" title="var">Coprime</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>

<br/>
</div>

<div class="doc">
The Chinese Remainder Theorem 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">chinese_remainder</span> : <span class="id" title="var">R</span> / (<span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span>)%<span class="id" title="var">ideal</span> ≅ (<span class="id" title="var">R</span> / <span class="id" title="var">I</span>) × (<span class="id" title="var">R</span> / <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
We use the first isomorphism theorem. Coq can already infer which map we wish to use, so for clarity we tell it not to do so. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">rng_first_iso'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">rng_homo_crt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
</div>

<div class="doc">
Finally we must show the ideal of this map is the intersection. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [<span class="id" title="var">i</span> <span class="id" title="var">j</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">change</span> (<span class="id" title="var">I</span> (- <span class="id" title="var">r</span> + 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">change</span> (<span class="id" title="var">J</span> (- <span class="id" title="var">r</span> + 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_prod</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_negate'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_plus_zero_r</span>.<br/>
</div>

<div class="doc">
Here we need to derive the relation from paths in the quotient. This is what requires univalence. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">related_quotient_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">related_quotient_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">ChineseRemainderTheorem</span>.<br/>

<br/>
</div>

<div class="doc">
We also have the same for products of ideals when in a commuatative ring. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">chinese_remainder_prod</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">CRing</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) (<span class="id" title="var">c</span> : <span class="id" title="var">Coprime</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">R</span> / (<span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span>)%<span class="id" title="var">ideal</span> ≅ (<span class="id" title="var">R</span> / <span class="id" title="var">I</span>) × (<span class="id" title="var">R</span> / <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">rapply</span> <span class="id" title="var">rng_quotient_invar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">ideal_intersection_is_product</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">chinese_remainder</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>