<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Separated</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Separated</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">HoTT.Basics</span> <span class="id" title="var">HoTT.Types</span> <span class="id" title="var">HoTT.Cubical.DPath</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">HFiber</span> <span class="id" title="var">Extensions</span> <span class="id" title="var">Factorization</span> <span class="id" title="var">Limits.Pullback</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Modality</span> <span class="id" title="var">Accessible</span> <span class="id" title="var">Descent</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Truncations.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Homotopy.Suspension</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">subuniverse_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1273"></a><h1 class="section">Subuniverses of separated types</h1>

<div class="paragraph"> </div>

 The basic reference for subuniverses of separated types is
<ul class="doclist">
<li> Christensen, Opie, Rijke, and Scoccola, "Localization in Homotopy Type Theory", https://arxiv.org/abs/1807.04155.

</li>
</ul>
hereinafter referred to as "CORS".  
<div class="paragraph"> </div>

<a id="lab1274"></a><h2 class="section">Definition</h2>

<div class="paragraph"> </div>

 The definition is in <span class="inlinecode"><span class="id" title="var">ReflectiveSubuniverse.v</span></span>. 
<div class="paragraph"> </div>

<a id="lab1275"></a><h2 class="section">Basic properties</h2>

<div class="paragraph"> </div>

 A function is (fiberwise) in <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> exactly when its diagonal is in <span class="inlinecode"><span class="id" title="var">O</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Diagonal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">O</span> : <span class="id" title="var">Subuniverse</span>) {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">mapinO_diagonal</span> `{<span class="id" title="var">MapIn</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>} : <span class="id" title="var">MapIn</span> <span class="id" title="var">O</span> (<span class="id" title="var">diagonal</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">_</span> (<span class="id" title="var">hfiber_diagonal</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">mapinO_from_diagonal</span> `{<span class="id" title="var">MapIn</span> <span class="id" title="var">O</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">diagonal</span> <span class="id" title="var">f</span>)} : <span class="id" title="var">MapIn</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x2</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">_</span> (<span class="id" title="var">hfiber_diagonal</span> <span class="id" title="var">f</span> (<span class="id" title="var">u</span>.1; <span class="id" title="var">x2</span>; <span class="id" title="var">u</span>.2))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Diagonal</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 2.15 of CORS: If <span class="inlinecode"><span class="id" title="var">O</span></span> is accessible, so is <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>.  Its generators are the suspension of those of <span class="inlinecode"><span class="id" title="var">O</span></span>, in the following sense: 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">susp_localgen</span> (<span class="id" title="var">f</span> : <span class="id" title="var">LocalGenerators@</span>{<span class="id" title="var">a</span>}) : <span class="id" title="var">LocalGenerators@</span>{<span class="id" title="var">a</span>}.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">functor_susp</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isaccrsu_sep</span> (<span class="id" title="var">O</span> : <span class="id" title="var">Subuniverse</span>) `{<span class="id" title="var">IsAccRSU</span> <span class="id" title="var">O</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsAccRSU</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">susp_localgen</span> (<span class="id" title="var">acc_lgen</span> <span class="id" title="var">O</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">A_inO</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ooextendable_iff_functor_susp</span> (<span class="id" title="var">acc_lgen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ooextendable_postcompose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">apply</span> <span class="id" title="var">inO_iff_islocal</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">A_inO</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">dp_const</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">inO_iff_islocal</span> <span class="id" title="var">O</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">A_inO</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ooextendable_postcompose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">ooextendable_iff_functor_susp</span> (<span class="id" title="var">acc_lgen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span>) <span class="id" title="var">_</span>) <span class="id" title="var">A_inO</span> (<span class="id" title="var">x</span>,<span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">dp_const</span>. }<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">susp_nullgen</span> (<span class="id" title="var">S</span> : <span class="id" title="var">NullGenerators@</span>{<span class="id" title="var">a</span>}) : <span class="id" title="var">NullGenerators@</span>{<span class="id" title="var">a</span>}.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Susp</span> (<span class="id" title="var">S</span> <span class="id" title="var">i</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isaccmodality_sep</span> (<span class="id" title="var">O</span> : <span class="id" title="var">Subuniverse</span>) `{<span class="id" title="var">IsAccModality</span> <span class="id" title="var">O</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsAccModality</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">susp_nullgen</span> (<span class="id" title="var">acc_ngen</span> <span class="id" title="var">O</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">A_inO</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ooextendable_compose</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_susp</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>:<span class="id" title="var">acc_ngen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">tt</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>:<span class="id" title="var">Susp</span> <span class="id" title="var">Unit</span> =&gt; <span class="id" title="var">tt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">apply</span> <span class="id" title="var">ooextendable_equiv</span>, <span class="id" title="var">isequiv_contr_contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ooextendable_iff_functor_susp</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>:<span class="id" title="var">acc_ngen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">tt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ooextendable_postcompose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">apply</span> <span class="id" title="var">inO_iff_isnull</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">A_inO</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">dp_const</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">inO_iff_isnull</span> <span class="id" title="var">O</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">A_inO</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ee</span> : <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_susp</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>:<span class="id" title="var">acc_ngen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">tt</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">cancelL_ooextendable</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>) <span class="id" title="var">_</span> <span class="id" title="var">A_inO</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ooextendable_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isequiv_contr_contr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">fst</span> (<span class="id" title="var">ooextendable_iff_functor_susp</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span>:<span class="id" title="var">acc_ngen</span> <span class="id" title="var">O</span> <span class="id" title="var">i</span> =&gt; <span class="id" title="var">tt</span>) <span class="id" title="var">_</span>) <span class="id" title="var">ee</span> (<span class="id" title="var">x</span>,<span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ooextendable_postcompose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">dp_const</span>. }<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Remark 2.16(1) of CORS 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">O_leq_SepO</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">O</span> &lt;= <span class="id" title="var">Sep</span> <span class="id" title="var">O</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> ? <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Part of Remark 2.16(2) of CORS 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">in_SepO_embedding</span> (<span class="id" title="var">O</span> : <span class="id" title="var">Subuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>} `{<span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_ap_isembedding</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)^-1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;As&nbsp;a&nbsp;special&nbsp;case,&nbsp;if&nbsp;X&nbsp;embeds&nbsp;into&nbsp;an&nbsp;n-type&nbsp;for&nbsp;n&nbsp;&gt;=&nbsp;-1&nbsp;then&nbsp;X&nbsp;is&nbsp;an&nbsp;n-type.&nbsp;Note&nbsp;that&nbsp;this&nbsp;doesn't&nbsp;hold&nbsp;for&nbsp;n&nbsp;=&nbsp;-2.&nbsp;*)</span><br/>
<span class="id" title="keyword">Corollary</span> <span class="id" title="var">istrunc_embedding_trunc</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">n</span> : <span class="id" title="var">trunc_index</span>} `{<span class="id" title="var">istr</span> : <span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) `{<span class="id" title="var">isem</span> : <span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>} : <span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<span class="id" title="var">in_SepO_embedding</span> (<span class="id" title="var">Tr</span> <span class="id" title="var">n</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">isem</span> <span class="id" title="var">istr</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">in_SepO_hprop</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">IsHProp</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">in_SepO_embedding</span> <span class="id" title="var">O</span> (<span class="id" title="var">const_tt</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Remark 2.16(4) of CORS 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sigma_closed_SepO</span> (<span class="id" title="var">O</span> : <span class="id" title="var">Modality</span>) {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="var">A_inO</span> : <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">A</span>} `{<span class="id" title="var">B_inO</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) (<span class="id" title="var">B</span> <span class="id" title="var">a</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) (<span class="id" title="var">sig</span> <span class="id" title="var">B</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">u</span>] [<span class="id" title="var">y</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">A_inO</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span>:<span class="id" title="var">x</span>=<span class="id" title="var">y</span> =&gt; <span class="id" title="var">B_inO</span> <span class="id" title="var">y</span> (<span class="id" title="var">p</span> # <span class="id" title="var">u</span>) <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> @<span class="id" title="var">inO_sigma</span>. <span class="comment">(*&nbsp;Speed&nbsp;up&nbsp;typeclass&nbsp;search.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_path_sigma</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 2.17 of CORS 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">issurjective_to_SepO</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>) (<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="var">Reflects</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsSurjection</span> (<span class="id" title="var">to</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">im</span> := <span class="id" title="var">himage</span> (<span class="id" title="var">to</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">in_SepO_embedding</span> <span class="id" title="var">O</span> (<span class="id" title="var">factor2</span> <span class="id" title="var">im</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">s</span> := <span class="id" title="var">O_rec</span> (<span class="id" title="var">factor1</span> <span class="id" title="var">im</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">factor2</span> <span class="id" title="var">im</span> <span class="id" title="var">o</span> <span class="id" title="var">s</span> == <span class="id" title="var">idmap</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">O_indpaths</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">O_rec_beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">fact_factors</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">BuildIsSurjection</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">h</span> <span class="id" title="var">z</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">w</span> := <span class="id" title="var">s</span> <span class="id" title="var">z</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w1</span> <span class="id" title="var">w2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">w2</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Proposition 2.18 of CORS. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">almost_inSepO_typeO@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span>} `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>) (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Type_@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span>} <span class="id" title="var">O</span>)<br/>
&nbsp;&nbsp;: { <span class="id" title="var">Z</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>} &amp; <span class="id" title="var">In</span> <span class="id" title="var">O</span> <span class="id" title="var">Z</span> * (<span class="id" title="var">Z</span> &lt;~&gt; (<span class="id" title="var">A</span> = <span class="id" title="var">B</span>)) }.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_TypeO</span> <span class="id" title="var">O</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_universe</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 2.21 of CORS 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">inSepO_sigma</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>} `{<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">O</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) (<span class="id" title="var">sig</span> <span class="id" title="var">P</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_path_sigma</span> <span class="id" title="var">P</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Proposition 2.22 of CORS (in funext-free form). 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflectsD_SepO</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Reflects</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ReflectsD</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">O</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">reflectsD_from_inO_sigma</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Once we know that <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> is a reflective subuniverse, this will mean that <span class="inlinecode"><span class="id" title="var">O</span></span> <span class="inlinecode">&lt;&lt;</span> <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>. 
<div class="paragraph"> </div>

 And now the version with funext. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isequiv_toSepO_inO</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Reflects</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">O_reflector</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span> -&gt; <span class="id" title="keyword">Type</span>) `{<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">O</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">P</span> <span class="id" title="var">y</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">to</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isequiv_ooextendable</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">extendable_to_OO</span> <span class="id" title="var">P</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_toSepO_inO</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Reflects</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">O_reflector</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span> -&gt; <span class="id" title="keyword">Type</span>) `{<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">In</span> <span class="id" title="var">O</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">P</span> <span class="id" title="var">y</span>) &lt;~&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">P</span> (<span class="id" title="var">to</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">isequiv_toSepO_inO</span> <span class="id" title="var">O</span> <span class="id" title="var">P</span>).<br/>

<br/>
</div>

<div class="doc">
TODO: Actually prove this, and put it somewhere more appropriate. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">JoinConstruction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Universes</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<span class="id" title="var">Y</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">j</span>}} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ls</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">y1</span> <span class="id" title="var">y2</span> : <span class="id" title="var">Y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">sig@</span>{<span class="id" title="var">j</span> <span class="id" title="var">j</span>} <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>} (<span class="id" title="keyword">fun</span> (<span class="id" title="var">Z</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) =&gt; <span class="id" title="var">Equiv@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span>} <span class="id" title="var">Z</span> (<span class="id" title="var">y1</span> = <span class="id" title="var">y2</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">jc_image@</span>{} : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">jc_factor1@</span>{} : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">jc_image</span>. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">jc_factor2@</span>{} : <span class="id" title="var">jc_image</span> -&gt; <span class="id" title="var">Y</span>. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">jc_factors@</span>{} : <span class="id" title="var">jc_factor2</span> <span class="id" title="var">o</span> <span class="id" title="var">jc_factor1</span> == <span class="id" title="var">f</span>. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">jc_factor1_issurj@</span>{} : <span class="id" title="var">IsSurjection</span> <span class="id" title="var">jc_factor1</span>. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">jc_factor2_isemb</span> : <span class="id" title="var">IsEmbedding</span> <span class="id" title="var">jc_factor2</span>. <span class="id" title="var">Admitted</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">JoinConstruction</span>.<br/>

<br/>
</div>

<div class="doc">
We'd like to say that the universe of <span class="inlinecode"><span class="id" title="var">O</span></span>-modal types is <span class="inlinecode"><span class="id" title="var">O</span></span>-separated, i.e. belongs to <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>.  But since a given subuniverse like <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> lives only on a single universe size, trying to say that in the naive way yields a universe inconsistency. 
</div>
<div class="code">
<span class="id" title="var">Fail</span> <span class="id" title="keyword">Goal</span> <span class="id" title="keyword">forall</span> (<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>), <span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) (<span class="id" title="var">Type_</span> <span class="id" title="var">O</span>).<br/>

<br/>
</div>

<div class="doc">
Instead, we do as in Lemma 2.19 of CORS and prove the morally-equivalent "descent" property, using Lemma 2.18 and the join construction. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">SepO_lex_leq</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">O</span> : <span class="id" title="var">ReflectiveSubuniverse</span>) {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Reflects</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Descends</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">O</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Type_</span> <span class="id" title="var">O</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">Q</span> : (<span class="id" title="var">O_reflector</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Type_</span> <span class="id" title="var">O</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Q</span> (<span class="id" title="var">to</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">X</span> <span class="id" title="var">x</span>) &lt;~&gt; <span class="id" title="var">P</span> <span class="id" title="var">x</span> }).<br/>
&nbsp;&nbsp;2:{ <span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P'</span> <span class="id" title="var">P_inO</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">P'</span> <span class="id" title="var">x</span>; <span class="id" title="var">P_inO</span> <span class="id" title="var">x</span>) : <span class="id" title="var">Type_</span> <span class="id" title="var">O</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">ee</span> := <span class="id" title="var">e</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">ee</span>.1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">ee</span>.2. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ls</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O</span>, { <span class="id" title="var">Z</span> : <span class="id" title="keyword">Type</span> &amp; <span class="id" title="var">Z</span> &lt;~&gt; (<span class="id" title="var">A</span> = <span class="id" title="var">B</span>) }).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">q</span> := <span class="id" title="var">almost_inSepO_typeO</span> <span class="id" title="var">O</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span>.1; <span class="id" title="var">snd</span> <span class="id" title="var">q</span>.2). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">p</span> := <span class="id" title="var">jc_factor2</span> <span class="id" title="var">P</span> <span class="id" title="var">ls</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">J</span> := <span class="id" title="var">jc_image</span> <span class="id" title="var">P</span> <span class="id" title="var">ls</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">In</span> (<span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">q</span> := <span class="id" title="var">almost_inSepO_typeO</span> <span class="id" title="var">O</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span>) (<span class="id" title="var">p</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">inO_equiv_inO'</span> <span class="id" title="var">q</span>.1 <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_ap_isembedding</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">q</span>.2). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">O_rec</span> (<span class="id" title="var">O</span> := <span class="id" title="var">Sep</span> <span class="id" title="var">O</span>) (<span class="id" title="var">jc_factor1</span> <span class="id" title="var">P</span> <span class="id" title="var">ls</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">p</span> <span class="id" title="var">o</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">p</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">O_rec_beta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">jc_factors</span> <span class="id" title="var">P</span> <span class="id" title="var">ls</span> <span class="id" title="var">x</span>)..1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Once we know that <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> is a reflective subuniverse, this will imply <span class="inlinecode"><span class="id" title="var">O</span></span> <span class="inlinecode">&lt;&lt;&lt;</span> <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>, and that if <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> is accessible (such as if <span class="inlinecode"><span class="id" title="var">O</span></span> is) then <span class="inlinecode"><span class="id" title="var">Type_</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span> belongs to its accessible lifting (see <span class="inlinecode"><span class="id" title="var">inO_TypeO_lex_leq</span></span>. 
<div class="paragraph"> </div>

<a id="lab1276"></a><h2 class="section">Reflectiveness of <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span></h2>

<div class="paragraph"> </div>

 TODO 
<div class="paragraph"> </div>

<a id="lab1277"></a><h2 class="section">Left-exactness properties</h2>

<div class="paragraph"> </div>

 Nearly all of these are true in the generality of a pair of reflective subuniverses with <span class="inlinecode"><span class="id" title="var">O</span></span> <span class="inlinecode">&lt;&lt;&lt;</span> <span class="inlinecode"><span class="id" title="var">O'</span></span> and/or <span class="inlinecode"><span class="id" title="var">O'</span></span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">Sep</span></span> <span class="inlinecode"><span class="id" title="var">O</span></span>, and as such can be found in <span class="inlinecode"><span class="id" title="var">Descent.v</span></span>. 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>