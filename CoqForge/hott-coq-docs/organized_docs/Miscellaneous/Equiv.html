<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Equiv</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Equiv</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics.Utf8</span> <span class="id" title="var">Basics.Overture</span> <span class="id" title="var">Basics.Tactics</span> <span class="id" title="var">Basics.Equivalences</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Opposite</span>.<br/>

<br/>
</div>

<div class="doc">
We declare a scope for printing <span class="inlinecode"><span class="id" title="var">CatEquiv</span></span> as <span class="inlinecode">â‰…</span> 
</div>
<div class="code">
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">wc_iso_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1851"></a><h1 class="section">Equivalences in wild categories</h1>

<div class="paragraph"> </div>

 We could define equivalences in any wild 1-category as bi-invertible maps, or in a wild 2-category as half-adjoint equivalences.  However, in concrete cases there is often an equivalent definition of equivalences that we want to use instead, and the important property we need is that it's logically equivalent to (quasi-)isomorphism. In <span class="inlinecode"><span class="id" title="var">cat_hasequivs</span></span> below, we show that bi-invertible maps do provide a <span class="inlinecode"><span class="id" title="var">HasEquivs</span></span> structure for any wild 1-category. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">HasEquivs</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">CatEquiv'</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span> <span class="id" title="keyword">where</span> &quot;a $&lt;~&gt; b" := (<span class="id" title="var">CatEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">CatIsEquiv'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, (<span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) -&gt; <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_fun'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, (<span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) -&gt; (<span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_isequiv'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>), <span class="id" title="var">CatIsEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">cate_fun'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_buildequiv'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>), <span class="id" title="var">CatIsEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">CatEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_buildequiv_fun'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">fe</span> : <span class="id" title="var">CatIsEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cate_fun'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">cate_buildequiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> <span class="id" title="var">fe</span>) $== <span class="id" title="var">f</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_inv'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>), <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_issect'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cate_inv'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">cate_fun'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cate_isretr'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cate_fun'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">cate_inv'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">catie_adjointify'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>), <span class="id" title="var">CatIsEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Since apparently a field of a record can't be the source of a coercion (Coq complains about the uniform inheritance condition, although as officially stated that condition appears to be satisfied), we redefine all the fields of <span class="inlinecode"><span class="id" title="var">HasEquivs</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">CatEquiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">CatEquiv'</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;a $&lt;~&gt; b" := (<span class="id" title="var">CatEquiv</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Infix</span> &quot;â‰…" := <span class="id" title="var">CatEquiv</span> : <span class="id" title="var">wc_iso_scope</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">CatEquiv</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_fun</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">cate_fun'</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">cate_fun</span> : <span class="id" title="var">CatEquiv</span> &gt;-&gt; <span class="id" title="var">Hom</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Being&nbsp;an&nbsp;equivalence&nbsp;should&nbsp;be&nbsp;a&nbsp;typeclass,&nbsp;but&nbsp;we&nbsp;have&nbsp;to&nbsp;redefine&nbsp;it&nbsp;to&nbsp;work&nbsp;around&nbsp;https://github.com/coq/coq/issues/8994&nbsp;.&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">CatIsEquiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">catisequiv</span> : <span class="id" title="var">CatIsEquiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">cate_isequiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_isequiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_CatEquiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) {<span class="id" title="var">fe</span> : <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_buildequiv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> <span class="id" title="var">fe</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_buildequiv_fun</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) {<span class="id" title="var">fe</span> : <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">Build_CatEquiv</span> <span class="id" title="var">f</span>) $== <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_buildequiv_fun'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> <span class="id" title="var">fe</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">catie_adjointify</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">catie_adjointify'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_adjointify</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_CatEquiv</span> <span class="id" title="var">f</span> (<span class="id" title="var">fe</span>:=<span class="id" title="var">catie_adjointify</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>).<br/>

<br/>
</div>

<div class="doc">
This one we define to construct the whole inverse equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_adjointify</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_inv'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_issect'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_isretr'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;f ^-1$" := (<span class="id" title="var">cate_inv</span> <span class="id" title="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab1852"></a><h1 class="section">Opposite categories preserve having equivalences.</h1>

</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasequivs_op</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} : <span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>^<span class="id" title="var">op</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_HasEquivs</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">op</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">CatIsEquiv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_fun'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_isequiv'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">cate_buildequiv_fun'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_inv'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">cate_isretr'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">cate_issect'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">catie_adjointify</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_op</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) {<span class="id" title="var">ief</span> : <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: @<span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">A</span>^<span class="id" title="var">op</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ief</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_issect</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cate_issect'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_isretr</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>^-1$ $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_issect</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">g</span></span> is a section of an equivalence, then it is the inverse. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inverse_sect</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>^-1$ $== <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>^$) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_issect</span> <span class="id" title="var">f</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cat_idl</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">g</span></span> is a retraction of an equivalence, then it is the inverse. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inverse_retr</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>^-1$ $== <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_inverse_sect</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that the inverse of the equivalence you get by adjointification is homotopic to the inverse <span class="inlinecode"><span class="id" title="var">g</span></span> provided. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv_adjointify</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">cate_adjointify</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>)^-1$ $== <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_inverse_sect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">f</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The identity morphism is an equivalence 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">catie_id</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">catie_adjointify</span> (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>) (<span class="id" title="var">cat_idl</span> (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>)) (<span class="id" title="var">cat_idr</span> (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_cate</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_CatEquiv</span> (<span class="id" title="var">Id</span> <span class="id" title="var">a</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflexive_cate</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Reflexive</span> (@<span class="id" title="var">CatEquiv</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">id_cate</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">symmetric_cate</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Symmetric</span> (@<span class="id" title="var">CatEquiv</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">cate_inv</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
Anything homotopic to an equivalence is an equivalence. This should not be an instance. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">catie_homotopic</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) `{!<span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">catie_adjointify</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Build_CatEquiv</span> <span class="id" title="var">f</span>)^-1$.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">p</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">f</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_isretr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">f</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_issect</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Equivalences can be composed.  In order to make use of duality, we factor out parts of the proof as two lemmas. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_catie_isretr</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $<span class="id" title="var">o</span> (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span>^-1$) $== <span class="id" title="var">Id</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_isretr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_catie_issect</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span>^-1$ $<span class="id" title="var">o</span> (<span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>) $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">compose_catie_isretr</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">compose_catie</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> (<span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">catie_adjointify</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span>^-1$) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_catie_isretr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_catie_issect</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">compose_catie'</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) `{!<span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">g</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) `{!<span class="id" title="var">CatIsEquiv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> (<span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">catie_homotopic</span> <span class="id" title="var">_</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_CatEquiv</span> (<span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;g $oE f" := (<span class="id" title="var">compose_cate</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_fun</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>) $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_funinv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">cate_fun</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">gpd_rev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_cate_fun</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">id_cate</span> <span class="id" title="var">a</span>) $== <span class="id" title="var">Id</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_assoc</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">c</span> $&lt;~&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> ((<span class="id" title="var">h</span> $<span class="id" title="var">oE</span> <span class="id" title="var">g</span>) $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>) $== <span class="id" title="var">cate_fun</span> (<span class="id" title="var">h</span> $<span class="id" title="var">oE</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $@ <span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> $@ <span class="id" title="var">_</span> $@<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose_cate_funinv</span> <span class="id" title="var">h</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">h</span> <span class="id" title="var">g</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">compose_cate_funinv</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_assoc_opp</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">c</span> $&lt;~&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">h</span> $<span class="id" title="var">oE</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>)) $== <span class="id" title="var">cate_fun</span> ((<span class="id" title="var">h</span> $<span class="id" title="var">oE</span> <span class="id" title="var">g</span>) $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="var">compose_catie_isretr</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">exact_no_check</span></span>&nbsp;just&nbsp;to&nbsp;save&nbsp;a&nbsp;small&nbsp;amount&nbsp;of&nbsp;time.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">exact_no_check</span> (<span class="id" title="var">compose_cate_assoc</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">d</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">d</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">h</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Transparent</span> <span class="id" title="var">compose_catie_isretr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_idl</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">id_cate</span> <span class="id" title="var">b</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>) $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> $@ <span class="id" title="var">_</span> $@ <span class="id" title="var">cat_idl</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_cate_idr</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">f</span> $<span class="id" title="var">oE</span> <span class="id" title="var">id_cate</span> <span class="id" title="var">a</span>) $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">compose_cate_idl</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">transitive_cate</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Transitive</span> (@<span class="id" title="var">CatEquiv</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
Some more convenient equalities for equivalences. The naming scheme is similar to <span class="inlinecode"><span class="id" title="var">PathGroupoids.v</span></span>.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_V_hh</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>) $== <span class="id" title="var">g</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ (<span class="id" title="var">cate_issect</span> <span class="id" title="var">f</span> $@<span class="id" title="var">R</span> <span class="id" title="var">g</span>) $@ <span class="id" title="var">cat_idl</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_h_Vh</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">c</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">f</span> $<span class="id" title="var">o</span> (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span>) $== <span class="id" title="var">g</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">f</span> $@<span class="id" title="var">R</span> <span class="id" title="var">g</span>) $@ <span class="id" title="var">cat_idl</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_hh_V</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>) $<span class="id" title="var">o</span> <span class="id" title="var">g</span>^-1$ $== <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cate_isretr</span> <span class="id" title="var">g</span>) $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">compose_hV_h</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>^-1$) $<span class="id" title="var">o</span> <span class="id" title="var">g</span> $== <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cate_issect</span> <span class="id" title="var">g</span>) $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
Equivalences are both monomorphisms and epimorphisms (but not the converse). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_monic_equiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Monic</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">compose_V_hh</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span> $@ <span class="id" title="var">compose_V_hh</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_epic_equiv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Epic</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_monic_equiv</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">e</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1853"></a><h2 class="section">Movement Lemmas</h2>

<div class="paragraph"> </div>

 These lemmas can be used to move equivalences around in an equation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_eM</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>^-1$ $== <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> <span class="id" title="var">e</span>^-1$).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> $@ (<span class="id" title="var">compose_hh_V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_eM</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>^-1$)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span> $== <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> <span class="id" title="var">e</span>^-1$).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">compose_hh_V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_Me</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">e</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveL_eM</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_Me</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">c</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">e</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveR_eM</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_eV</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span> $== <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>^-1$.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> $@ (<span class="id" title="var">compose_hV_h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_eV</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>^-1$ $== <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">compose_hV_h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_Ve</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">e</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveL_eV</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_Ve</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">e</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveR_eV</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">c</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">e</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_V1</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>^-1$.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_monic_equiv</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> $@ (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">e</span>)^$).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveL_1V</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>^-1$<br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveL_V1</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">f</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_V1</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">Id</span> <span class="id" title="var">_</span> $== <span class="id" title="var">e</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>^-1$ $== <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_monic_equiv</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">e</span> $@ <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_moveR_1V</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">Id</span> <span class="id" title="var">_</span> $== <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>^-1$ $== <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_moveR_V1</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">a</span>:=<span class="id" title="var">b</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">a</span>) <span class="id" title="var">f</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
Lemmas about the underlying map of an equivalence. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv2</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">e</span> <span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span> $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>^-1$ $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>^-1$.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_moveL_V1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">p</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">cate_isretr</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv_compose</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">f</span> $<span class="id" title="var">oE</span> <span class="id" title="var">e</span>)^-1$ $== <span class="id" title="var">cate_fun</span> (<span class="id" title="var">e</span>^-1$ $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>^-1$).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_inv_adjointify</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv_compose'</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">f</span> $<span class="id" title="var">oE</span> <span class="id" title="var">e</span>)^-1$ $== <span class="id" title="var">e</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f</span>^-1$.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">cate_inv_compose</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_inv_V</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">e</span>^-1$)^-1$ $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_moveR_V1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_issect</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Any sufficiently coherent functor preserves equivalences.  
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">iemap</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">CatIsEquiv</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">catie_adjointify</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>) (<span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>^-1$) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>^-1$ <span class="id" title="var">f</span>)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">F</span> (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">fmap_id</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span>^-1$)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">F</span> (<span class="id" title="var">cate_issect</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">fmap_id</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">F</span> <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">F</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_CatEquiv</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap_id</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> (<span class="id" title="var">id_cate</span> <span class="id" title="var">a</span>)) $== <span class="id" title="var">cate_fun</span> (<span class="id" title="var">id_cate</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap2</span> <span class="id" title="var">F</span> (<span class="id" title="var">id_cate_fun</span> <span class="id" title="var">a</span>) $@ <span class="id" title="var">_</span> $@ (<span class="id" title="var">id_cate_fun</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>))^$).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap_id</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap_compose</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>)) $== <span class="id" title="var">fmap</span> <span class="id" title="var">F</span> (<span class="id" title="var">cate_fun</span> <span class="id" title="var">g</span>) $<span class="id" title="var">o</span> <span class="id" title="var">fmap</span> <span class="id" title="var">F</span> (<span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap2</span> <span class="id" title="var">F</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap_comp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A variant. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap_compose'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $&lt;~&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> (<span class="id" title="var">g</span> $<span class="id" title="var">oE</span> <span class="id" title="var">f</span>)) $== <span class="id" title="var">cate_fun</span> ((<span class="id" title="var">emap</span> <span class="id" title="var">F</span> <span class="id" title="var">g</span>) $<span class="id" title="var">oE</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">emap_compose</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap_inv</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span>)^-1$ $== <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span>^-1$).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_inv_adjointify</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>)^$.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">emap_inv'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">emap</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span>)^-1$ $== <span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span>^-1$<br/>
&nbsp;&nbsp;:= <span class="id" title="var">emap_inv</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span> $@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
When we have equivalences, we can define what it means for a category to be univalent. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cat_equiv_path</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">a</span> = <span class="id" title="var">b</span>) -&gt; (<span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsUnivalent1Cat</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;:= { <span class="id" title="var">isequiv_cat_equiv_path</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">IsEquiv</span> (@<span class="id" title="var">cat_equiv_path</span> <span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) }.<br/>
<span class="id" title="keyword">Global Existing Instance</span> <span class="id" title="var">isequiv_cat_equiv_path</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cat_path_equiv</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">IsUnivalent1Cat</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">b</span>) -&gt; (<span class="id" title="var">a</span> = <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;:= (<span class="id" title="var">cat_equiv_path</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)^-1.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1854"></a><h2 class="section">Core of a 1-category</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">core</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) := { <span class="id" title="var">uncore</span> : <span class="id" title="var">A</span> }.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">uncore</span> {<span class="id" title="var">A</span>} <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">Build_core</span> {<span class="id" title="var">A</span>} <span class="id" title="var">a</span> : <span class="id" title="tactic">rename</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isgraph_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsGraph</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_IsGraph</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">uncore</span> <span class="id" title="var">a</span> $&lt;~&gt; <span class="id" title="var">uncore</span> <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is01Cat</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_Is01Cat</span> ; <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_cate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_cate</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is2graph_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is2Graph</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_IsGraph</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">cate_fun</span> <span class="id" title="var">f</span> $== <span class="id" title="var">cate_fun</span> <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_core_hom</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">core</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is01Cat</span> (<span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_Is01Cat</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Id</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">cat_comp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0gpd_core_hom</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">core</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Gpd</span> (<span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Gpd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> ; <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">gpd_rev</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_core_postcomp</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">core</span> <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">c</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">Is0Functor</span> (<span class="id" title="var">cat_postcomp</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">al</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">h</span> $@<span class="id" title="var">L</span> <span class="id" title="var">al</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">h</span> <span class="id" title="var">g</span>)^$).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_core_precomp</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">core</span> <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">Is0Functor</span> (<span class="id" title="var">cat_precomp</span> <span class="id" title="var">c</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">al</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
</div>

<div class="doc">
Why can't coq resolve this? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>)^$).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">al</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1cat_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is1Cat</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">Build_Is1Cat</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_cate_assoc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_cate_assoc_opp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_cate_idl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">compose_cate_idr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0gpd_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Gpd</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Gpd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span>^-1$).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1gpd_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is1Gpd</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is1Gpd</span>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span> $@ (<span class="id" title="var">id_cate_fun</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_issect</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_isretr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasequivs_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">HasEquivs</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_HasEquivs</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>). <span class="comment">(*&nbsp;In&nbsp;<span class="inlinecode"><span class="id" title="var">core</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>,&nbsp;i.e.&nbsp;<span class="inlinecode"><span class="id" title="var">CatEquiv'</span></span> <span class="inlinecode">(<span class="id" title="var">uncore</span></span> <span class="inlinecode"><span class="id" title="var">a</span>)</span> <span class="inlinecode">(<span class="id" title="var">uncore</span></span> <span class="inlinecode"><span class="id" title="var">b</span>)</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Unit</span>. <span class="comment">(*&nbsp;Or&nbsp;<span class="inlinecode"><span class="id" title="var">CatIsEquiv'</span></span> <span class="inlinecode">(<span class="id" title="var">uncore</span></span> <span class="inlinecode"><span class="id" title="var">a</span>)</span> <span class="inlinecode">(<span class="id" title="var">uncore</span></span> <span class="inlinecode"><span class="id" title="var">b</span>)</span> <span class="inlinecode">(<span class="id" title="var">cate_fun</span></span> <span class="inlinecode"><span class="id" title="var">f</span>)</span>?&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span>. <span class="comment">(*&nbsp;Or&nbsp;<span class="inlinecode"><span class="id" title="var">cate_isequiv'</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>?&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>^-1$.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_issect</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_cate_fun</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">compose_cate_fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_isretr</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_cate_fun</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasmorext_core</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">uncore</span> <span class="id" title="var">x</span> $&lt;~&gt; <span class="id" title="var">uncore</span> <span class="id" title="var">y</span>), <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">x</span> := <span class="id" title="var">f</span>) (<span class="id" title="var">y</span> := <span class="id" title="var">g</span>) <span class="id" title="var">cate_fun</span>)} <br/>
&nbsp;&nbsp;: <span class="id" title="var">HasMorExt</span> (<span class="id" title="var">core</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_HasMorExt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">isequiv_homotopic</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">GpdHom_path</span> <span class="id" title="var">o</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">f</span>) (<span class="id" title="var">y</span>:=<span class="id" title="var">g</span>) <span class="id" title="var">cate_fun</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">isequiv_compose</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1855"></a><h1 class="section">Initial objects and terminal objects are all respectively equivalent.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cate_isinitial</span> <span class="id" title="var">A</span> `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsInitial</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsInitial</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span> $&lt;~&gt; <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inx</span> <span class="id" title="var">iny</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">cate_adjointify</span> (<span class="id" title="var">inx</span> <span class="id" title="var">y</span>).1 (<span class="id" title="var">iny</span> <span class="id" title="var">x</span>).1).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (((<span class="id" title="var">iny</span> <span class="id" title="var">_</span>).2 <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">iny</span> <span class="id" title="var">_</span>).2 <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (((<span class="id" title="var">inx</span> <span class="id" title="var">_</span>).2 <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">inx</span> <span class="id" title="var">_</span>).2 <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cate_isterminal</span> <span class="id" title="var">A</span> `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsTerminal</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsTerminal</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">y</span> $&lt;~&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cate_isinitial</span> <span class="id" title="var">A</span>^<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinitial_cate</span> <span class="id" title="var">A</span> `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> $&lt;~&gt; <span class="id" title="var">y</span> -&gt; <span class="id" title="var">IsInitial</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsInitial</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">inx</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">inx</span> <span class="id" title="var">z</span>).1 $<span class="id" title="var">o</span> <span class="id" title="var">f</span>^-1$).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">compose_hh_V</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">inx</span> <span class="id" title="var">z</span>).2 <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isterminal_cate</span> <span class="id" title="var">A</span> `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">y</span> $&lt;~&gt; <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsTerminal</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">IsTerminal</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">isinitial_cate</span> <span class="id" title="var">A</span>^<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1856"></a><h1 class="section">There is a default notion of equivalence for a 1-category, namely bi-invertibility.</h1>

<div class="paragraph"> </div>

 We do not use the half-adjoint definition, since we can't prove adjointification for that definition. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Cat_IsBiInv</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">y</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_equiv_inv</span> : <span class="id" title="var">y</span> $-&gt; <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_eisretr</span> : <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">cat_equiv_inv</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_equiv_inv'</span> : <span class="id" title="var">y</span> $-&gt; <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_eissect'</span> : <span class="id" title="var">cat_equiv_inv'</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">x</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">cat_equiv_inv</span> {<span class="id" title="var">A</span>}%<span class="id" title="var">_type_scope</span> { <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">f</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">cat_eisretr</span> {<span class="id" title="var">A</span>}%<span class="id" title="var">_type_scope</span> { <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">f</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">cat_equiv_inv'</span> {<span class="id" title="var">A</span>}%<span class="id" title="var">_type_scope</span> { <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">f</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">cat_eissect'</span> {<span class="id" title="var">A</span>}%<span class="id" title="var">_type_scope</span> { <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">f</span> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">Build_Cat_IsBiInv</span> {<span class="id" title="var">A</span>}%<span class="id" title="var">_type_scope</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>} <span class="id" title="var">cat_equiv_inv</span> <span class="id" title="var">cat_eisretr</span> <span class="id" title="var">cat_equiv_inv'</span> <span class="id" title="var">cat_eissect'</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Cat_BiInv</span> <span class="id" title="var">A</span> `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_equiv_fun</span> :&gt; <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">cat_equiv_isequiv</span> : <span class="id" title="var">Cat_IsBiInv</span> <span class="id" title="var">cat_equiv_fun</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Global Existing Instance</span> <span class="id" title="var">cat_equiv_isequiv</span>.<br/>

<br/>
</div>

<div class="doc">
The two inverses are necessarily homotopic. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cat_inverses_homotopic</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">y</span>) {<span class="id" title="var">bif</span> : <span class="id" title="var">Cat_IsBiInv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">cat_equiv_inv</span> <span class="id" title="var">f</span> $== <span class="id" title="var">cat_equiv_inv'</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_prewhisker</span> (<span class="id" title="var">cat_eissect'</span> <span class="id" title="var">f</span>)^$ <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_postwhisker</span> <span class="id" title="var">_</span> (<span class="id" title="var">cat_eisretr</span> <span class="id" title="var">f</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cat_idr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore we can prove <span class="inlinecode"><span class="id" title="var">eissect</span></span> for the first inverse as well. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cat_eissect</span> {<span class="id" title="var">A</span>} `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">y</span>) {<span class="id" title="var">bif</span> : <span class="id" title="var">Cat_IsBiInv</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">cat_equiv_inv</span> <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">cat_inverses_homotopic</span> <span class="id" title="var">f</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f</span>) $@ <span class="id" title="var">cat_eissect'</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
This shows that any 1-category satisfies <span class="inlinecode"><span class="id" title="var">HasEquivs</span></span>.  We do not make it an instance, since we may want to use a different <span class="inlinecode"><span class="id" title="var">HasEquivs</span></span> structure in particular cases. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cat_hasequivs</span> <span class="id" title="var">A</span> `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} : <span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_HasEquivs</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">Cat_BiInv</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Cat_IsBiInv</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Cat_BiInv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">cat_equiv_inv</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cat_eissect</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cat_eisretr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Build_Cat_IsBiInv</span> <span class="id" title="var">g</span> <span class="id" title="var">r</span> <span class="id" title="var">g</span> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>