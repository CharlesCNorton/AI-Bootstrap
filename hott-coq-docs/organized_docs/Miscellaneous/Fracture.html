<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Fracture</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Fracture</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">HoTT.Basics</span> <span class="id" title="var">HoTT.Types</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Extensions</span> <span class="id" title="var">Limits.Pullback</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Modality</span> <span class="id" title="var">Lex</span> <span class="id" title="keyword">Open</span> <span class="id" title="var">Closed</span> <span class="id" title="var">Nullification</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1217"></a><h1 class="section">The lex-modal fracture theorem</h1>

<div class="paragraph"> </div>

 The fracture theorem for two modalities <span class="inlinecode"><span class="id" title="var">O1</span></span> and <span class="inlinecode"><span class="id" title="var">O2</span></span> and a type <span class="inlinecode"><span class="id" title="var">A</span></span>, when it holds, states that the naturality square

<div class="paragraph"> </div>

<pre>
 A   --&gt;   O1 A
 |          |
 |          |
 V          V
O2 A --&gt; O2 (O1 A)
</pre>

<div class="paragraph"> </div>

is a pullback.  This says in a certain precise sense that <span class="inlinecode"><span class="id" title="var">A</span></span> can be recovered from its <span class="inlinecode"><span class="id" title="var">O1</span></span>- and <span class="inlinecode"><span class="id" title="var">O2</span></span>-reflections together with some information about how they fit together.  If we think of <span class="inlinecode"><span class="id" title="var">O1</span></span> and <span class="inlinecode"><span class="id" title="var">O2</span></span> as subuniverses or subtoposes, then the fracture theorem says that their "union", or more precisely their *gluing*, is the whole universe.

<div class="paragraph"> </div>

We will prove the fracture theorem holds under the assumptions that <span class="inlinecode"><span class="id" title="var">O2</span></span> is lex, and that <span class="inlinecode"><span class="id" title="var">O1</span></span>-connected types are <span class="inlinecode"><span class="id" title="var">O2</span></span>-modal.  Note that like lex-ness, the latter is also a "large" hypothesis.  But also as with lex-ness, rather than hypothesize it polymorphically with a module type, we just hypothesize it in the obvious way and allow the polymophism of the resulting theorem to be computed automatically.  This actually gives more precise information: the fracture theorem for a particular type <span class="inlinecode"><span class="id" title="var">A</span></span> only depends on this hypothesis for types <span class="inlinecode"><span class="id" title="var">B</span></span> lying in the same universe as <span class="inlinecode"><span class="id" title="var">A</span></span>.  (In fact, as we will see, it only needs the special cases of the fibers of <span class="inlinecode"><span class="id" title="var">to</span></span> <span class="inlinecode"><span class="id" title="var">O1</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>, but in examples it seems no harder to verify the general case.)

<div class="paragraph"> </div>

It may sometimes happen that in addition, the "intersection" of <span class="inlinecode"><span class="id" title="var">O1</span></span> and <span class="inlinecode"><span class="id" title="var">O2</span></span> is trivial.  This is naturally expressed in the context of the fracture theorem by saying that <span class="inlinecode"><span class="id" title="var">O2</span></span>-modal types are <span class="inlinecode"><span class="id" title="var">O1</span></span>-connected, i.e. the converse of the second hypothesis of our fracture theorem.  When this also holds, we can show that the universe <span class="inlinecode"><span class="id" title="keyword">Type</span></span> can actually be reconstructed, up to equivalence, from the universes of <span class="inlinecode"><span class="id" title="var">O1</span></span>- and <span class="inlinecode"><span class="id" title="var">O2</span></span>-modal types and the <span class="inlinecode"><span class="id" title="var">O2</span></span>-reflection from the first to the second, using the "Artin gluing construction" from topos theory.  
<div class="paragraph"> </div>

<a id="lab1218"></a><h2 class="section">The fracture theorem</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">FractureTheorem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">O1</span> <span class="id" title="var">O2</span> : <span class="id" title="var">Modality</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_square</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">O_functor</span> <span class="id" title="var">O2</span> (<span class="id" title="var">to</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span>) <span class="id" title="var">o</span> <span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">A</span> == <span class="id" title="var">to</span> <span class="id" title="var">O2</span> (<span class="id" title="var">O1</span> <span class="id" title="var">A</span>) <span class="id" title="var">o</span> <span class="id" title="var">to</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">to_O_natural</span> <span class="id" title="var">O2</span> (<span class="id" title="var">to</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
Here are the hypotheses of the fracture theorem 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Lex</span> <span class="id" title="var">O2</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Gluable</span> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>), <span class="id" title="var">IsConnected</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">In</span> <span class="id" title="var">O2</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">ino2_isconnectedo1</span> : <span class="id" title="var">Gluable</span>).<br/>

<br/>
</div>

<div class="doc">
The fracture theorem. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ispullback_fracture_square</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsPullback</span> (<span class="id" title="var">fracture_square</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ispullback_symm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">ispullback_connmap_mapino_commsq</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3:<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="var">rapply</span> <span class="id" title="var">mapinO_between_inO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">refine</span> (<span class="id" title="var">ino2_isconnectedo1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1219"></a><h2 class="section">The fracture gluing theorem</h2>

<div class="paragraph"> </div>

 We now also assume the converse of the second hyopthesis 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Disjoint</span> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>), <span class="id" title="var">In</span> <span class="id" title="var">O2</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">IsConnected</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">isconnectedo1_ino2</span> : <span class="id" title="var">Disjoint</span>).<br/>

<br/>
</div>

<div class="doc">
This implies that the universe decomposes into an <span class="inlinecode"><span class="id" title="var">O1</span></span>-part, an <span class="inlinecode"><span class="id" title="var">O2</span></span>-part, and a gluing map.  We define these pieces separately in order to make the maps transparent but the homotopies opaque. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_glue_uncurried</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: { <span class="id" title="var">B</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O1</span> &amp; { <span class="id" title="var">C</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O2</span> &amp; <span class="id" title="var">C</span> -&gt; <span class="id" title="var">O2</span> <span class="id" title="var">B</span> }} -&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">BCf</span> =&gt; <span class="id" title="var">Pullback</span> <span class="id" title="var">BCf</span>.2.2 (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">BCf</span>.1).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_glue</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) `{<span class="id" title="var">HB</span>: <span class="id" title="var">In</span> <span class="id" title="var">O1</span> <span class="id" title="var">B</span>} `{<span class="id" title="var">HC</span>: <span class="id" title="var">In</span> <span class="id" title="var">O2</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">fracture_glue_uncurried</span> ((<span class="id" title="var">B</span>;<span class="id" title="var">HB</span>);((<span class="id" title="var">C</span>;<span class="id" title="var">HC</span>);<span class="id" title="var">f</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_unglue</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span> -&gt; { <span class="id" title="var">B</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O1</span> &amp; { <span class="id" title="var">C</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O2</span> &amp; <span class="id" title="var">C</span> -&gt; <span class="id" title="var">O2</span> <span class="id" title="var">B</span> }}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> =&gt; ((<span class="id" title="var">O1</span> <span class="id" title="var">A</span> ; <span class="id" title="var">O_inO</span> <span class="id" title="var">A</span>) ; ((<span class="id" title="var">O2</span> <span class="id" title="var">A</span> ; <span class="id" title="var">O_inO</span> <span class="id" title="var">A</span>) ; <span class="id" title="var">O_functor</span> <span class="id" title="var">O2</span> (<span class="id" title="var">to</span> <span class="id" title="var">O1</span> <span class="id" title="var">A</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_unglue_isretr</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">BCf</span> : { <span class="id" title="var">B</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O1</span> &amp; { <span class="id" title="var">C</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O2</span> &amp; <span class="id" title="var">C</span> -&gt; <span class="id" title="var">O2</span> <span class="id" title="var">B</span> }})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">fracture_unglue</span> (<span class="id" title="var">fracture_glue_uncurried</span> <span class="id" title="var">BCf</span>) = <span class="id" title="var">BCf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">BCf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">B</span> [<span class="id" title="var">C</span> <span class="id" title="var">f</span>]].<br/>
</div>

<div class="doc">
The first two components of our path will be applications of univalence.  We begin by observing that maps we will use are equivalences. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">IsEquiv</span> (<span class="id" title="var">O_rec</span> ((<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)^*' <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isequiv_O_rec_O_inverts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">O_inverts_conn_map</span>, <span class="id" title="var">conn_map_pullback'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ob</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isconnectedo1_ino2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">mapinO_between_inO</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">IsEquiv</span> (<span class="id" title="var">O_rec</span> (<span class="id" title="var">f</span>^* (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isequiv_O_rec_O_inverts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">O_inverts_conn_map</span>, <span class="id" title="var">conn_map_pullback</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Now we start building the path. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">path_sigma'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">path_TypeO</span>; <span class="id" title="tactic">unfold</span> ".1", ".2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">path_universe</span> (<span class="id" title="var">O_rec</span> ((<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)^*' <span class="id" title="var">f</span>))). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_sigma'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>); <span class="id" title="tactic">unfold</span> ".1", ".2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">path_sigma'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">path_TypeO</span>; <span class="id" title="tactic">unfold</span> ".1", ".2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">path_universe</span> (<span class="id" title="var">O_rec</span> (<span class="id" title="var">f</span>^* (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
It remains to identify the induced function with the given <span class="inlinecode"><span class="id" title="var">f</span></span>.  We begin with some boilerplate. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_arrow</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_arrow_toconst</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_arrow_fromconst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">X</span>:<span class="id" title="var">Type_</span> <span class="id" title="var">O1</span> =&gt; <span class="id" title="var">O2</span> <span class="id" title="var">X</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_compose</span> <span class="id" title="var">O2</span> (<span class="id" title="var">TypeO_pr1</span> <span class="id" title="var">O1</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_compose</span> <span class="id" title="var">idmap</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Now we have to compute through the action of <span class="inlinecode"><span class="id" title="var">ap</span></span> and <span class="inlinecode"><span class="id" title="var">transport</span></span> on paths in sigmas and the universe.  In applying these it helps to specify a couple of intermediate steps explicitly. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">transport</span> <span class="id" title="var">idmap</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ap</span> <span class="id" title="var">O2</span> (<span class="id" title="var">path_universe</span> (<span class="id" title="var">O_rec</span> ((<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)^*' <span class="id" title="var">f</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">O_functor</span> <span class="id" title="var">O2</span> (<span class="id" title="var">to</span> <span class="id" title="var">O1</span> (<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">O_rec</span> (<span class="id" title="var">f</span>^* (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))^-1 <span class="id" title="var">c</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">ap11</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">O_functor</span> <span class="id" title="var">O2</span> (<span class="id" title="var">O_rec</span> ((<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)^*' <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">O_functor</span> <span class="id" title="var">O2</span> (<span class="id" title="var">to</span> <span class="id" title="var">O1</span> (<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">O_rec</span> (<span class="id" title="var">f</span>^* (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)))^-1 <span class="id" title="var">c</span>))) ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">pr1_path_sigma_uncurried</span> <span class="id" title="var">_</span> @ <span class="id" title="var">eisretr</span> <span class="id" title="var">pr1</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_compose</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">TypeO_pr1</span> <span class="id" title="var">O2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">path_TypeO</span> <span class="id" title="var">O2</span> (<span class="id" title="var">O2</span> (<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>)); <span class="id" title="var">_</span>) <span class="id" title="var">C</span> <span class="id" title="var">_</span>)^<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">transport</span> <span class="id" title="var">idmap</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span>) (<span class="id" title="var">ap_V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">transport</span> <span class="id" title="var">idmap</span> <span class="id" title="var">p</span>^ <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1_path_sigma_uncurried</span> <span class="id" title="var">_</span> @ <span class="id" title="var">eisretr</span> <span class="id" title="var">pr1</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_path_universe_V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">transport</span> <span class="id" title="var">idmap</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ap_O_path_universe</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport_path_universe</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Now we're down to the real point. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> ((<span class="id" title="var">O_functor_compose</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">O_functor_homotopy</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">O_rec_beta</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">c</span>; <span class="id" title="var">equiv_intro</span> (<span class="id" title="var">O_rec</span> (<span class="id" title="var">f</span>^* (<span class="id" title="var">to</span> <span class="id" title="var">O2</span> <span class="id" title="var">B</span>))) <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> (<span class="id" title="var">eissect</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">O_indpaths</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">to_O_natural</span> <span class="id" title="var">O2</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> <span class="id" title="var">f</span> (<span class="id" title="var">O_rec_beta</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> [<span class="id" title="var">b</span> <span class="id" title="var">q</span>]]; <span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fracture_unglue_issect</span> `{<span class="id" title="var">Univalence</span>} (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">fracture_glue_uncurried</span> (<span class="id" title="var">fracture_unglue</span> <span class="id" title="var">A</span>) = <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_universe_uncurried</span>, <span class="id" title="var">equiv_inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pullback_corec</span> (<span class="id" title="var">fracture_square</span> <span class="id" title="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ispullback_fracture_square</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isequiv_fracture_unglue</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> <span class="id" title="var">fracture_unglue</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">isequiv_adjointify</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fracture_unglue</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fracture_glue_uncurried</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fracture_unglue_isretr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fracture_unglue_issect</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_fracture_unglue</span> `{<span class="id" title="var">Univalence</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">Type</span> &lt;~&gt; { <span class="id" title="var">B</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O1</span> &amp; { <span class="id" title="var">C</span> : <span class="id" title="var">Type_</span> <span class="id" title="var">O2</span> &amp; <span class="id" title="var">C</span> -&gt; <span class="id" title="var">O2</span> <span class="id" title="var">B</span> }}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fracture_unglue</span> <span class="id" title="var">isequiv_fracture_unglue</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">FractureTheorem</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1220"></a><h2 class="section">The propositional fracture theorem</h2>

<div class="paragraph"> </div>

 An easy example of the lex-modal fracture theorem is supplied by the open and closed modalities for an hprop <span class="inlinecode"><span class="id" title="var">U</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gluable_open_closed</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">U</span> : <span class="id" title="var">HProp</span>)<br/>
: <span class="id" title="var">Gluable</span> (<span class="id" title="var">Op</span> <span class="id" title="var">U</span>) (<span class="id" title="var">Cl</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">Contr</span> (<span class="id" title="var">U</span> -&gt; <span class="id" title="var">A</span>) -&gt; (<span class="id" title="var">U</span> -&gt; <span class="id" title="var">Contr</span> <span class="id" title="var">A</span>)); <span class="id" title="tactic">intros</span> ? <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Build_Contr</span> <span class="id" title="var">_</span> (<span class="id" title="var">center</span> (<span class="id" title="var">U</span> -&gt; <span class="id" title="var">A</span>) <span class="id" title="var">u</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap10</span> (<span class="id" title="var">path_contr</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">a</span>)) <span class="id" title="var">u</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disjoint_open_closed</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">U</span> : <span class="id" title="var">HProp</span>)<br/>
: <span class="id" title="var">Disjoint</span> (<span class="id" title="var">Op</span> <span class="id" title="var">U</span>) (<span class="id" title="var">Cl</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> ((<span class="id" title="var">U</span> -&gt; <span class="id" title="var">Contr</span> <span class="id" title="var">A</span>) -&gt; <span class="id" title="var">Contr</span> (<span class="id" title="var">U</span> -&gt; <span class="id" title="var">A</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">uc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Build_Contr</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">i</span> := <span class="id" title="var">uc</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span> <span class="id" title="var">center</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_arrow</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">uc</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">apply</span> <span class="id" title="var">path_contr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can also prove the same thing without funext if we use the nullification versions of these modalities. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gluable_open_closed'</span> (<span class="id" title="var">U</span> : <span class="id" title="var">HProp</span>)<br/>
: <span class="id" title="var">Gluable</span> (<span class="id" title="var">Op'</span> <span class="id" title="var">U</span>) (<span class="id" title="var">Cl'</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> ? <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">contr_inhabited_hprop</span> <span class="id" title="var">U</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Contr</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">contr_equiv</span> (<span class="id" title="var">Op'</span> <span class="id" title="var">U</span> <span class="id" title="var">A</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">O_rec</span> <span class="id" title="var">idmap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ooextendable_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_isequiv</span> (@<span class="id" title="var">equiv_contr_contr</span> <span class="id" title="var">U</span> <span class="id" title="var">Unit</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">isequiv_adjointify</span> <span class="id" title="var">_</span> (<span class="id" title="var">to</span> (<span class="id" title="var">Op'</span> <span class="id" title="var">U</span>) <span class="id" title="var">A</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">O_rec_beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">O_indpaths</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ooextendable_contr</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disjoint_open_closed'</span> (<span class="id" title="var">U</span> : <span class="id" title="var">HProp</span>)<br/>
: <span class="id" title="var">Disjoint</span> (<span class="id" title="var">Op'</span> <span class="id" title="var">U</span>) (<span class="id" title="var">Cl'</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">An</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isconnected_from_elim</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">Cn</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (@<span class="id" title="var">local_rec</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">Cn</span> <span class="id" title="var">tt</span> <span class="id" title="var">_</span> <span class="id" title="var">tt</span> ; <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span> (@<span class="id" title="var">local_rec</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">An</span> <span class="id" title="var">u</span> <span class="id" title="var">Empty_rec</span> <span class="id" title="var">tt</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<span class="id" title="var">local_indpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">Cn</span> <span class="id" title="var">tt</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tt</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ (@<span class="id" title="var">local_rec_beta</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">Cn</span> <span class="id" title="var">tt</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<span class="id" title="var">local_indpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">An</span> <span class="id" title="var">u</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">a</span>) <span class="id" title="var">_</span> (<span class="id" title="var">Empty_ind</span> <span class="id" title="var">_</span>) <span class="id" title="var">tt</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>