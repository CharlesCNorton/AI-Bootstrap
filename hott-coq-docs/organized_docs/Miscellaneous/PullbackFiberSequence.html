<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PullbackFiberSequence</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PullbackFiberSequence</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">HSet</span> <span class="id" title="var">HFiber</span> <span class="id" title="var">Limits.Pullback</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat</span> <span class="id" title="var">Pointed.Core</span> <span class="id" title="var">Homotopy.ExactSequence</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Groups.QuotientGroup</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">AbGroups.AbelianGroup</span> <span class="id" title="var">AbGroups.AbPullback</span> <span class="id" title="var">AbGroups.Biproduct</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">AbSES.Core</span> <span class="id" title="var">AbSES.Pullback</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Modalities.Identity</span> <span class="id" title="var">Modalities.Modality</span> <span class="id" title="var">Truncations.Core</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">pointed_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mc_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mc_add_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab155"></a><h1 class="section">The fiber sequence induced by pulling back along a short exact sequence</h1>

<div class="paragraph"> </div>

 We show that pulling back along a short exact sequence <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">AbSES</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> produces a fiber sequence <span class="inlinecode"><span class="id" title="var">AbSES</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">AbSES</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">AbSES</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. The associated long exact sequence of homotopy groups recovers the usual (contravariant) six-term exact sequence of Ext groups.

<div class="paragraph"> </div>

We will prove the analog of exactness in terms of path data, and deduce the usual notion. 
<div class="paragraph"> </div>

 If a short exact sequence <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">E</span></span> becomes trivial after pulling back along an inclusion <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">E</span></span>, then there is a "transpose" short exact sequence <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span>/<span class="id" title="var">B</span></span>. We begin by constructing the the map <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">abses_pullback_inclusion_transpose_map</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">E</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">F</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">o</span> <span class="id" title="var">p</span>^$.1 $<span class="id" title="var">o</span> <span class="id" title="var">ab_biprod_inr</span>.<br/>

<br/>
</div>

<div class="doc">
The comparison map <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">$-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span> is an embedding.  This comes up twice so we factor it out as a lemma. 
</div>
<div class="code">
<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">abses_pullback_inclusion_lemma</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">E</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEmbedding</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">o</span> <span class="id" title="var">p</span>^$.1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">istruncmap_compose</span> (-1) <span class="id" title="var">p</span>^$.1 (<span class="id" title="var">grp_pullback_pr1</span> (<span class="id" title="var">projection</span> <span class="id" title="var">F</span>) <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">rapply</span> <span class="id" title="var">istruncmap_mapinO_tr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The map <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span> is an inclusion. 
</div>
<div class="code">
<span class="id" title="keyword">Local Instance</span> <span class="id" title="var">abses_pullback_inclusion_transpose_embedding</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">E</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEmbedding</span> (<span class="id" title="var">abses_pullback_inclusion_transpose_map</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">istruncmap_compose</span> <span class="id" title="var">_</span> (<span class="id" title="var">ab_biprod_inr</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We define the cokernel <span class="inlinecode"><span class="id" title="var">F</span>/<span class="id" title="var">B</span></span>, which is what we need below. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">abses_pullback_inclusion_transpose_endpoint'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">E</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">AbGroup</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ab_cokernel_embedding</span> (<span class="id" title="var">abses_pullback_inclusion_transpose_map</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>

<br/>
</div>

<div class="doc">
The composite map <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">E</span></span> is homotopic to the original inclusion <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">E</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abses_pullback_inclusion_transpose_beta</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">E</span>) `{<span class="id" title="var">IsEmbedding</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">projection</span> <span class="id" title="var">F</span> $<span class="id" title="var">o</span> (<span class="id" title="var">abses_pullback_inclusion_transpose_map</span> <span class="id" title="var">i</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>) == <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ab_biprod_pr2</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">mon_unit</span>, <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pullback_commsq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">p</span>^$.2 <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Short exact sequences in the fiber of <span class="inlinecode"><span class="id" title="var">inclusion</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> descend along <span class="inlinecode"><span class="id" title="var">projection</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">abses_pullback_trivial_preimage</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_AbSES</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abses_pullback_inclusion_transpose_endpoint'</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_quotient_map</span> $<span class="id" title="var">o</span> <span class="id" title="var">inclusion</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">srapply</span> (<span class="id" title="var">ab_cokernel_embedding_rec</span> <span class="id" title="var">_</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span> $<span class="id" title="var">o</span> <span class="id" title="var">projection</span> <span class="id" title="var">F</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) (<span class="id" title="var">abses_pullback_inclusion_transpose_beta</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscomplex_abses</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isembedding_grouphomomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">q0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Since&nbsp;<span class="inlinecode"><span class="id" title="var">inclusion</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;is&nbsp;killed&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">grp_quotient_map</span></span>,&nbsp;its&nbsp;in&nbsp;the&nbsp;image&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">B</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">in_coset</span> := <span class="id" title="var">related_quotient_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">q0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Cleaning&nbsp;up&nbsp;the&nbsp;context&nbsp;facilitates&nbsp;later&nbsp;steps.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">in_coset</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">q1</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_unit_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Since&nbsp;both&nbsp;<span class="inlinecode"><span class="id" title="var">inclusion</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;factor&nbsp;through&nbsp;the&nbsp;mono&nbsp;<span class="inlinecode"><span class="id" title="var">ab_biprod</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">F</span></span>,&nbsp;we&nbsp;can&nbsp;lift&nbsp;<span class="inlinecode"><span class="id" title="var">q1</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">ab_biprod</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q2</span> : <span class="id" title="var">ab_biprod_inr</span>  <span class="id" title="var">b</span> = <span class="id" title="var">ab_biprod_inl</span> (-<span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">apply</span> (<span class="id" title="var">isinj_embedding</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">o</span> <span class="id" title="var">p</span>^$.1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">abses_pullback_inclusion_lemma</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">nrefine</span> (<span class="id" title="var">q1</span> @ <span class="id" title="var">_</span>); <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">fst</span> <span class="id" title="var">p</span>^$.2 (-<span class="id" title="var">a</span>)) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_homo_inv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Using&nbsp;<span class="inlinecode"><span class="id" title="var">q2</span></span>,&nbsp;we&nbsp;conclude.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">q3</span> := <span class="id" title="var">ap</span> <span class="id" title="var">negate</span> (<span class="id" title="var">fst</span> ((<span class="id" title="var">equiv_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">q2</span>))); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">negate_involutive</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">q3</span>^ @ <span class="id" title="var">negate_mon_unit</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">cancelR_conn_map</span> (<span class="id" title="var">Tr</span> (-1)) <span class="id" title="var">grp_quotient_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsExact</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">srapply</span> <span class="id" title="var">phomotopy_homotopy_hset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomplex_abses</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_homo_unit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">y</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">contr_inhabited_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;choose&nbsp;a&nbsp;preimage&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">grp_quotient_map</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : <span class="id" title="var">merely</span> (<span class="id" title="var">hfiber</span> <span class="id" title="var">grp_quotient_map</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">center</span>, <span class="id" title="var">issurj_class_of</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert_opaque</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_rec</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">q0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Since&nbsp;<span class="inlinecode"><span class="id" title="var">projection</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;is&nbsp;in&nbsp;the&nbsp;kernel&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">projection</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span>,&nbsp;we&nbsp;find&nbsp;a&nbsp;preimage&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">B</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">b</span> : <span class="id" title="var">merely</span> (<span class="id" title="var">hfiber</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) (<span class="id" title="var">projection</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="var">rapply</span> <span class="id" title="var">isexact_preimage</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> <span class="id" title="var">q0</span> @ <span class="id" title="var">q</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert_opaque</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_rec</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">b</span> <span class="id" title="var">q1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;difference&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">-</span> <span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;is&nbsp;in&nbsp;the&nbsp;kernel&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">projection</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span>,&nbsp;hence&nbsp;lies&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">A</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> : <span class="id" title="var">merely</span> (<span class="id" title="var">hfiber</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sg_op</span> <span class="id" title="var">f</span> (-(<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">p</span>^$.1 (<span class="id" title="var">ab_biprod_inr</span> <span class="id" title="var">b</span>))))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="var">rapply</span> <span class="id" title="var">isexact_preimage</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_homo_op</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">_</span> + <span class="id" title="var">x</span>) (<span class="id" title="var">grp_homo_inv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">_</span> - <span class="id" title="var">x</span>) (<span class="id" title="var">abses_pullback_inclusion_transpose_beta</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> @ <span class="id" title="var">q1</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">right_inverse</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert_opaque</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_rec</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">q2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;It&nbsp;remains&nbsp;to&nbsp;show&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;is&nbsp;the&nbsp;desired&nbsp;preimage.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">tr</span> (<span class="id" title="var">a</span>; <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">apply</span> (@<span class="id" title="var">path_sigma_hprop</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_paths</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">group_isgroup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">grp_quotient_map</span> <span class="id" title="var">q2</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">q0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_homo_op</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveR_Mg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ (<span class="id" title="var">left_inverse</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">negate_involutive</span> <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
That <span class="inlinecode"><span class="id" title="var">abses_pullback_trivial_preimage</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> pulls back to <span class="inlinecode"><span class="id" title="var">F</span></span> is immediate from <span class="inlinecode"><span class="id" title="var">abses_pullback_component1_id</span></span> and the following map. As such, we've shown that sequences which become trivial after pulling back along <span class="inlinecode"><span class="id" title="var">inclusion</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> are in the image of pullback along <span class="inlinecode"><span class="id" title="var">projection</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">abses_pullback_inclusion0_map'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">AbSESMorphism</span> <span class="id" title="var">F</span> (<span class="id" title="var">abses_pullback_trivial_preimage</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_AbSESMorphism</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_homo_id</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_quotient_map</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For exactness we need not only a preimage of <span class="inlinecode"><span class="id" title="var">F</span></span> but a preimage of <span class="inlinecode">(<span class="id" title="var">F</span>,<span class="id" title="var">p</span>)</span> along <span class="inlinecode"><span class="id" title="var">cxfib</span></span>. We now define and prove this in terms of path data. 
<div class="paragraph"> </div>

 The analog of <span class="inlinecode"><span class="id" title="var">cxfib</span></span> induced by pullback in terms of path data. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cxfib'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">graph_hfiber</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>)) <span class="id" title="var">pt</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">abses_pullback_compose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Y</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">abses_pullback_homotopic'</span> <span class="id" title="var">_</span> <span class="id" title="var">grp_homo_const</span> <span class="id" title="var">_</span> <span class="id" title="var">Y</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">iscomplex_abses</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">abses_pullback_const'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">hfiber_cxfib'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;:= {<span class="id" title="var">Y</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span> &amp; <span class="id" title="var">hfiber_abses_path</span> (<span class="id" title="var">cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">F</span>; <span class="id" title="var">p</span>)}.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;is&nbsp;just&nbsp;<span class="inlinecode"><span class="id" title="var">idpath</span></span>,&nbsp;but&nbsp;Coq&nbsp;takes&nbsp;too&nbsp;long&nbsp;to&nbsp;see&nbsp;that.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">pr2_cxfib'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>} (<span class="id" title="var">U</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">equiv_ptransformation_phomotopy</span> (<span class="id" title="var">iscomplex_abses_pullback'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscomplex_abses</span> <span class="id" title="var">E</span>)) <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">equiv_path_abses_iso</span> (<span class="id" title="var">cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">U</span>).2.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">equiv_ptransformation_phomotopy</span> (<span class="id" title="var">iscomplex_abses_pullback'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscomplex_abses</span> <span class="id" title="var">E</span>)) <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">equiv_path_abses_iso</span> ((<span class="id" title="var">iscomplex_abses_pullback'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscomplex_abses</span> <span class="id" title="var">E</span>)).1 <span class="id" title="var">U</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> <span class="id" title="var">equiv_path_abses_iso</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">path_hom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">abses_pullback_compose'</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) <span class="id" title="var">U</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">trans_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">abses_pullback_homotopic'</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span> $<span class="id" title="var">o</span> <span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">grp_homo_const</span> (<span class="id" title="var">iscomplex_abses</span> <span class="id" title="var">E</span>) <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Making <span class="inlinecode"><span class="id" title="var">abses_pullback'</span></span> opaque speeds up the following proof. 
</div>
<div class="code">
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">abses_pullback'</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">eq_cxfib_cxfib'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>} (<span class="id" title="var">U</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">cxfib</span> (<span class="id" title="var">iscomplex_pullback_abses</span> <span class="id" title="var">E</span>) <span class="id" title="var">U</span> = <span class="id" title="var">equiv_hfiber_abses</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">path_sigma</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">zeta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">equiv_hfiber_abses</span>, <span class="id" title="var">equiv_functor_sigma_id</span>, <span class="id" title="var">equiv_functor_sigma'</span>, <span class="id" title="var">equiv_functor_sigma</span>, <span class="id" title="var">equiv_fun</span>, <span class="id" title="var">functor_sigma</span>, ".2".<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;goal&nbsp;looks&nbsp;identical&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">pr2_cxfib'</span></span>,&nbsp;but&nbsp;the&nbsp;implicit&nbsp;argument&nbsp;to&nbsp;<span class="inlinecode">@<span class="id" title="var">paths</span></span>&nbsp;is&nbsp;expressed&nbsp;differently,&nbsp;which&nbsp;is&nbsp;why&nbsp;the&nbsp;next&nbsp;line&nbsp;isn't&nbsp;faster.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<span class="id" title="var">pr2_cxfib'</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">E</span> <span class="id" title="var">U</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Transparent</span> <span class="id" title="var">abses_pullback'</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_hfiber_cxfib'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span> &lt;~&gt; <span class="id" title="var">hfiber</span> (<span class="id" title="var">cxfib</span> (<span class="id" title="var">iscomplex_pullback_abses</span> <span class="id" title="var">E</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">equiv_hfiber_abses</span> <span class="id" title="var">_</span> <span class="id" title="var">pt</span> (<span class="id" title="var">F</span>;<span class="id" title="var">p</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_functor_sigma_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">U</span>; <span class="id" title="tactic">lazy</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_hfiber_abses_pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_ap'</span> (<span class="id" title="var">equiv_hfiber_abses</span> <span class="id" title="var">_</span> <span class="id" title="var">pt</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_cxfib_cxfib'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The type of paths in <span class="inlinecode"><span class="id" title="var">hfiber_cxfib'</span></span> in terms of path data. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_hfiber_cxfib'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">hfiber_cxfib'</span> (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>) <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sig</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">q0</span> : <span class="id" title="var">X</span>.1 $== <span class="id" title="var">Y</span>.1 =&gt; <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fmap</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>)) <span class="id" title="var">q0</span>)^$ $@ <span class="id" title="var">X</span>.2.1 $== <span class="id" title="var">Y</span>.2.1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_hfiber_abses_path_cxfib'_l</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">U</span> <span class="id" title="var">V</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">U</span>.1 = <span class="id" title="var">V</span>.1)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">Y</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">hfiber_abses_path</span> (<span class="id" title="var">cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">F</span>; <span class="id" title="var">p</span>)) <span class="id" title="var">q</span> <span class="id" title="var">U</span>.2).1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">fmap</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>)) (<span class="id" title="var">equiv_path_abses_iso</span>^-1 <span class="id" title="var">q</span>^) $@ <span class="id" title="var">U</span>.2.1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">transport_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">fmap</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>)) <span class="id" title="var">x</span> $@ <span class="id" title="var">_</span>) <span class="id" title="var">equiv_path_absesV_1</span>^).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> $@ <span class="id" title="var">_</span>) (<span class="id" title="var">fmap_id_strong</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">cat_idr_strong</span> <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_hfiber_cxfib'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">U</span> <span class="id" title="var">V</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">path_hfiber_cxfib'</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> &lt;~&gt; <span class="id" title="var">U</span> = <span class="id" title="var">V</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_functor_sigma'</span> <span class="id" title="var">equiv_path_abses_iso</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">lazy</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_hfiber_abses_path_cxfib'_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: { <span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">fmap</span> (<span class="id" title="var">abses_pullback</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> $@ <span class="id" title="var">_</span>).1) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> (<span class="id" title="var">abses_path_data_V</span> <span class="id" title="var">q</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eissect</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: { <span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">x</span> $@ <span class="id" title="var">_</span>).1) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">gpd_strong_1functor_V</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_groupisomorphism</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The fibre of <span class="inlinecode"><span class="id" title="var">cxfib'</span></span> over <span class="inlinecode">(<span class="id" title="var">F</span>;<span class="id" title="var">p</span>)</span> is inhabited. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">hfiber_cxfib'_inhabited</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">abses_pullback_trivial_preimage</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>^$; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> (<span class="id" title="var">abses_pullback_component1_id'</span> (<span class="id" title="var">abses_pullback_inclusion0_map'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">lazy</span> <span class="id" title="keyword">beta</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">pr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">gpd_moveR_Vh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">gpd_moveL_hM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_ab_biprod_ind_homotopy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_pullback_rec_hset</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">class_of</span> <span class="id" title="var">_</span> <span class="id" title="var">o</span> <span class="id" title="var">pullback_pr1</span>) (<span class="id" title="var">fst</span> <span class="id" title="var">p</span>^$.2 <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">snd</span> <span class="id" title="var">p</span>^$.2 <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">qglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (-<span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveL_Vg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">grp_homo_op</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">o</span> <span class="id" title="var">p</span>^$.1 $<span class="id" title="var">o</span> <span class="id" title="var">ab_biprod_inr</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> (<span class="id" title="var">right_inverse</span> <span class="id" title="var">_</span>) @ <span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">p</span>^$.2 <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
To conclude exactness in terms of path data, we show that the fibre is a proposition, hence contractible. 
<div class="paragraph"> </div>

 Given a point <span class="inlinecode">(<span class="id" title="var">Y</span>;<span class="id" title="var">Q</span>)</span> in the fiber of <span class="inlinecode"><span class="id" title="var">cxfib'</span></span> over <span class="inlinecode">(<span class="id" title="var">F</span>;<span class="id" title="var">p</span>)</span> there is an induced map as follows. 
</div>
<div class="code">
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">hfiber_cxfib'_induced_map</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Y</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ab_biprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) <span class="id" title="var">Y</span>.1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_homo_compose</span> <span class="id" title="var">_</span> (<span class="id" title="var">grp_iso_inverse</span> <span class="id" title="var">p</span>.1)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $<span class="id" title="var">o</span> <span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span>.1^$.1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
There is "another" obvious induced map. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">abses_pullback_splits_induced_map'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ab_biprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) <span class="id" title="var">Y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">ab_biprod_rec</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">grp_pullback_corec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_homo_const</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomplex_abses</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fmap_hfiber_abses_lemma</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">B'</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">graph_hfiber</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) <span class="id" title="var">f</span>) <span class="id" title="var">pt</span>) (<span class="id" title="var">Q</span> : <span class="id" title="var">hfiber_abses_path</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">fmap</span> (<span class="id" title="var">abses_pullback</span> <span class="id" title="var">f</span>) <span class="id" title="var">Q</span>.1^$ $<span class="id" title="var">o</span> <span class="id" title="var">Y</span>.2^$ $== <span class="id" title="var">X</span>.2^$.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">equiv_intro</span> (<span class="id" title="var">equiv_hfiber_abses_pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">induced_map_eq</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Y</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">hfiber_cxfib'_induced_map</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span> <span class="id" title="var">Y</span> == <span class="id" title="var">abses_pullback_splits_induced_map'</span> <span class="id" title="var">E</span> <span class="id" title="var">Y</span>.1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">pullback_pr1</span> (<span class="id" title="var">fmap_hfiber_abses_lemma</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span>;<span class="id" title="var">p</span>) <span class="id" title="var">Y</span>.2 <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_path_pullback_hset</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span>)^.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given another point <span class="inlinecode">(<span class="id" title="var">Y</span>,<span class="id" title="var">Q</span>)</span> in the fibre of <span class="inlinecode"><span class="id" title="var">cxfib'</span></span> over <span class="inlinecode">(<span class="id" title="var">F</span>;<span class="id" title="var">p</span>)</span>, we get path data in <span class="inlinecode"><span class="id" title="var">AbSES</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">hfiber_cxfib'_induced_path'0</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Y</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">abses_pullback_trivial_preimage</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span> $== <span class="id" title="var">Y</span>.1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> <span class="id" title="var">Q</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">abses_path_data_to_iso</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>; (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> (<span class="id" title="var">ab_cokernel_embedding_rec</span> <span class="id" title="var">_</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>$<span class="id" title="var">o</span> (<span class="id" title="var">Q</span>.1^$).1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-3: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> (<span class="id" title="var">induced_map_eq</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span> (<span class="id" title="var">Y</span>;<span class="id" title="var">Q</span>) <span class="id" title="var">_</span>) @ <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span> @ <span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="var">grp_pullback_pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">fst</span> (<span class="id" title="var">Q</span>.1^$).2 <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_quotient_rec_beta'</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">F</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">nrapply</span> (<span class="id" title="var">conn_map_elim</span> <span class="id" title="var">_</span> <span class="id" title="var">grp_quotient_map</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">issurj_class_of</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_paths</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">group_isgroup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>) (<span class="id" title="var">snd</span> (<span class="id" title="var">Q</span>.1^$).2 <span class="id" title="var">f</span>) @ <span class="id" title="var">_</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pullback_commsq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ((<span class="id" title="var">Q</span>.1^$).1 <span class="id" title="var">f</span>))^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">hfiber_cxfib'_induced_path'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Y</span> : <span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">path_hfiber_cxfib'</span> (<span class="id" title="var">hfiber_cxfib'_inhabited</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>) <span class="id" title="var">Y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">hfiber_cxfib'_induced_path'0</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">gpd_moveR_Vh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">gpd_moveL_hM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">gpd_moveR_Vh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_path_pullback_hset</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">Y</span>.2.1^$.2 <span class="id" title="var">x</span>)^.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that <span class="inlinecode"><span class="id" title="var">hfiber_cxfib'</span></span> is contractible. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">contr_hfiber_cxfib'</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">AbSES</span> (<span class="id" title="var">middle</span> <span class="id" title="var">E</span>) <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>) <span class="id" title="var">F</span> $== <span class="id" title="var">pt</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Contr</span> (<span class="id" title="var">hfiber_cxfib'</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_Contr</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">hfiber_cxfib'_inhabited</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Y</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_hfiber_cxfib'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hfiber_cxfib'_induced_path'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
From this we deduce exactness. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isexact_abses_pullback</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">AbGroup</span>} {<span class="id" title="var">E</span> : <span class="id" title="var">AbSES</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsExact</span> <span class="id" title="var">purely</span> (<span class="id" title="var">abses_pullback_pmap</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">projection</span> <span class="id" title="var">E</span>)) (<span class="id" title="var">abses_pullback_pmap</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_IsExact</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomplex_pullback_abses</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_ind</span> (<span class="id" title="var">equiv_hfiber_abses</span> (<span class="id" title="var">abses_pullback</span> (<span class="id" title="var">inclusion</span> <span class="id" title="var">E</span>)) (<span class="id" title="var">point</span> (<span class="id" title="var">AbSES</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">F</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">contr_equiv'</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_hfiber_cxfib'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">contr_hfiber_cxfib'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>