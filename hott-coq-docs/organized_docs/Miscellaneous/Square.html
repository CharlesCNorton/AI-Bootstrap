<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Square</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Square</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics.Overture</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Equiv</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1919"></a><h1 class="section">Squares of morphisms in a Wild Category.</h1>

<div class="paragraph"> </div>

 These come up a lot as naturality squares. In this file we define basic operations on squares, to conveniently work with them. 
<div class="paragraph"> </div>

 A Square is a cubical 2-cell in a 1-category. The order of the arguments is left-right-top-bottom: <span class="inlinecode"><span class="id" title="var">Square</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span> <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>.  It is defined to be <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode">$<span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode">$==</span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">$<span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Square@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>}} `{<span class="id" title="var">Is1Cat@</span>{<span class="id" title="var">u</span> <span class="id" title="var">w</span> <span class="id" title="var">v</span>} <span class="id" title="var">A</span>} {<span class="id" title="var">x00</span> <span class="id" title="var">x20</span> <span class="id" title="var">x02</span> <span class="id" title="var">x22</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f01</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x02</span>) (<span class="id" title="var">f21</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x22</span>) (<span class="id" title="var">f10</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x20</span>) (<span class="id" title="var">f12</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x22</span>) <br/>
&nbsp;&nbsp;: <span class="id" title="var">Type@</span>{<span class="id" title="var">w</span>}<br/>
&nbsp;&nbsp;:= <span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span> $== <span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Squares</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;declare&nbsp;a&nbsp;context&nbsp;with&nbsp;a&nbsp;lot&nbsp;of&nbsp;variables:&nbsp;the&nbsp;first&nbsp;component&nbsp;is&nbsp;horizontal,&nbsp;the&nbsp;second&nbsp;vertical.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;x00&nbsp;f10&nbsp;x20&nbsp;f30&nbsp;x40<br/>
&nbsp;&nbsp;&nbsp;&nbsp;f01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f41<br/>
&nbsp;&nbsp;&nbsp;&nbsp;x02&nbsp;f12&nbsp;x22&nbsp;f32&nbsp;x42<br/>
&nbsp;&nbsp;&nbsp;&nbsp;f03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f43<br/>
&nbsp;&nbsp;&nbsp;&nbsp;x04&nbsp;f14&nbsp;x24&nbsp;f34&nbsp;x44&nbsp;<br/>
&nbsp;&nbsp;All&nbsp;morphisms&nbsp;are&nbsp;pointed&nbsp;to&nbsp;the&nbsp;right&nbsp;or&nbsp;down.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x00</span> <span class="id" title="var">x20</span> <span class="id" title="var">x40</span> <span class="id" title="var">x02</span> <span class="id" title="var">x22</span> <span class="id" title="var">x42</span> <span class="id" title="var">x04</span> <span class="id" title="var">x24</span> <span class="id" title="var">x44</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f10</span> <span class="id" title="var">f10'</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x20</span>} {<span class="id" title="var">f30</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x40</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f12</span> <span class="id" title="var">f12'</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x22</span>} {<span class="id" title="var">f32</span> : <span class="id" title="var">x22</span> $-&gt; <span class="id" title="var">x42</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f14</span> : <span class="id" title="var">x04</span> $-&gt; <span class="id" title="var">x24</span>} {<span class="id" title="var">f34</span> : <span class="id" title="var">x24</span> $-&gt; <span class="id" title="var">x44</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f01</span> <span class="id" title="var">f01'</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x02</span>} {<span class="id" title="var">f21</span> <span class="id" title="var">f21'</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x22</span>} {<span class="id" title="var">f41</span> <span class="id" title="var">f41'</span> : <span class="id" title="var">x40</span> $-&gt; <span class="id" title="var">x42</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f03</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x04</span>} {<span class="id" title="var">f23</span> : <span class="id" title="var">x22</span> $-&gt; <span class="id" title="var">x24</span>} {<span class="id" title="var">f43</span> : <span class="id" title="var">x42</span> $-&gt; <span class="id" title="var">x44</span>}.<br/>

<br/>
</div>

<div class="doc">
We give a "constructor" and "destructor" for squares. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Square</span> (<span class="id" title="var">p</span> : <span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span> $== <span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span> := <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">gpdhom_square</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) : <span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span> $== <span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span> := <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
Squares degenerate in two sides given by a single 2-morphism. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hdeg_square</span> {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x'</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">f'</span>) : <span class="id" title="var">Square</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> (<span class="id" title="var">Id</span> <span class="id" title="var">x</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_idr</span> <span class="id" title="var">f'</span> $@ <span class="id" title="var">p</span>^$ $@ (<span class="id" title="var">cat_idl</span> <span class="id" title="var">f</span>)^$.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vdeg_square</span> {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x'</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> $== <span class="id" title="var">f'</span>) : <span class="id" title="var">Square</span> (<span class="id" title="var">Id</span> <span class="id" title="var">x</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">x'</span>) <span class="id" title="var">f</span> <span class="id" title="var">f'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_idl</span> <span class="id" title="var">f</span> $@ <span class="id" title="var">p</span> $@ (<span class="id" title="var">cat_idr</span> <span class="id" title="var">f'</span>)^$.<br/>

<br/>
</div>

<div class="doc">
Squares degenerate in two sides given by the identity 2-morphism at some morphism. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hrefl</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x'</span>) : <span class="id" title="var">Square</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span> (<span class="id" title="var">Id</span> <span class="id" title="var">x</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">x'</span>) := <span class="id" title="var">hdeg_square</span> (<span class="id" title="var">Id</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vrefl</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x'</span>) : <span class="id" title="var">Square</span> (<span class="id" title="var">Id</span> <span class="id" title="var">x</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">x'</span>) <span class="id" title="var">f</span> <span class="id" title="var">f</span> := <span class="id" title="var">vdeg_square</span> (<span class="id" title="var">Id</span> <span class="id" title="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
The transpose of a square 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">transpose</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) : <span class="id" title="var">Square</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> := <span class="id" title="var">s</span>^$.<br/>

<br/>
</div>

<div class="doc">
Horizontal and vertical concatenation of squares 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hconcat</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f21</span> <span class="id" title="var">f41</span> <span class="id" title="var">f30</span> <span class="id" title="var">f32</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f41</span> (<span class="id" title="var">f30</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span>) (<span class="id" title="var">f32</span> $<span class="id" title="var">o</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">t</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f10</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f32</span> $@<span class="id" title="var">L</span> <span class="id" title="var">s</span>) $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vconcat</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f03</span> <span class="id" title="var">f23</span> <span class="id" title="var">f12</span> <span class="id" title="var">f14</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f03</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) (<span class="id" title="var">f23</span> $<span class="id" title="var">o</span> <span class="id" title="var">f21</span>) <span class="id" title="var">f10</span> <span class="id" title="var">f14</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f23</span> $@<span class="id" title="var">L</span> <span class="id" title="var">s</span>) $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">t</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f01</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
If the horiztonal morphisms in a square are equivalences then we can flip the square by inverting them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hinverse</span> {<span class="id" title="var">HE</span> : <span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>} (<span class="id" title="var">f10</span> : <span class="id" title="var">x00</span> $&lt;~&gt; <span class="id" title="var">x20</span>) (<span class="id" title="var">f12</span> : <span class="id" title="var">x02</span> $&lt;~&gt; <span class="id" title="var">x22</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f21</span> <span class="id" title="var">f01</span> <span class="id" title="var">f10</span>^-1$ <span class="id" title="var">f12</span>^-1$<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>)^$ $@ ((<span class="id" title="var">cate_issect</span> <span class="id" title="var">f12</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">s</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cate_isretr</span> <span class="id" title="var">f10</span>) $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
The following four declarations modify one side of a Square using a 2-cell. The L or R indicate the side of the 2-cell. This can be thought of as rewriting the sides of a square using a homotopy. 
<div class="paragraph"> </div>

 Rewriting the left edge. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hconcatL</span> (<span class="id" title="var">p</span> : <span class="id" title="var">f01'</span> $== <span class="id" title="var">f01</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01'</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ (<span class="id" title="var">f12</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>^$).<br/>

<br/>
</div>

<div class="doc">
Rewriting the right edge. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hconcatR</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">f21'</span> $== <span class="id" title="var">f21</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21'</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">p</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f10</span>) $@ <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
Rewriting the top edge. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vconcatL</span> (<span class="id" title="var">p</span> : <span class="id" title="var">f10'</span> $== <span class="id" title="var">f10</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10'</span> <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">f21</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>) $@ <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
Rewriting the bottom edge. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vconcatR</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">f12'</span> $== <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ (<span class="id" title="var">p</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">f01</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Squares</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Squares2</span>.<br/>

<br/>
</div>

<div class="doc">
We declare the context again, now that we can reuse some declarations where the variables have been inserted. This would not need to be done if coq could generalize variables within sections. Currently this is possible in Lean and Agda. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x00</span> <span class="id" title="var">x20</span> <span class="id" title="var">x40</span> <span class="id" title="var">x02</span> <span class="id" title="var">x22</span> <span class="id" title="var">x42</span> <span class="id" title="var">x04</span> <span class="id" title="var">x24</span> <span class="id" title="var">x44</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f10</span> <span class="id" title="var">f10'</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x20</span>} {<span class="id" title="var">f30</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x40</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f12</span> <span class="id" title="var">f12'</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x22</span>} {<span class="id" title="var">f32</span> : <span class="id" title="var">x22</span> $-&gt; <span class="id" title="var">x42</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f14</span> : <span class="id" title="var">x04</span> $-&gt; <span class="id" title="var">x24</span>} {<span class="id" title="var">f34</span> : <span class="id" title="var">x24</span> $-&gt; <span class="id" title="var">x44</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f01</span> <span class="id" title="var">f01'</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x02</span>} {<span class="id" title="var">f21</span> <span class="id" title="var">f21'</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x22</span>} {<span class="id" title="var">f41</span> <span class="id" title="var">f41'</span> : <span class="id" title="var">x40</span> $-&gt; <span class="id" title="var">x42</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f03</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x04</span>} {<span class="id" title="var">f23</span> : <span class="id" title="var">x22</span> $-&gt; <span class="id" title="var">x24</span>} {<span class="id" title="var">f43</span> : <span class="id" title="var">x42</span> $-&gt; <span class="id" title="var">x44</span>}.<br/>

<br/>
</div>

<div class="doc">
If the vertical morphisms in a square are equivalences then we can flip the square by inverting them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">vinverse</span> (<span class="id" title="var">f01</span> : <span class="id" title="var">x00</span> $&lt;~&gt; <span class="id" title="var">x02</span>) (<span class="id" title="var">f21</span> : <span class="id" title="var">x20</span> $&lt;~&gt; <span class="id" title="var">x22</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f01</span>^-1$) (<span class="id" title="var">f21</span>^-1$) <span class="id" title="var">f12</span> <span class="id" title="var">f10</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">transpose</span> (<span class="id" title="var">hinverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">transpose</span> <span class="id" title="var">s</span>)).<br/>

<br/>
</div>

<div class="doc">
Whisker a map in one of the corners. For the bottom-left and top-right we have two choices. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerTL</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x00</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f01</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">f21</span> (<span class="id" title="var">f10</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">s</span> $@<span class="id" title="var">R</span> <span class="id" title="var">f</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerBR</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x22</span> $-&gt; <span class="id" title="var">x</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f21</span>) <span class="id" title="var">f10</span> (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f</span> $@<span class="id" title="var">L</span> <span class="id" title="var">s</span>) $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerBL</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $&lt;~&gt; <span class="id" title="var">x02</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ ((<span class="id" title="var">compose_hh_V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">f01</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerLB</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x02</span> $&lt;~&gt; <span class="id" title="var">x</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>^-1$)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ ((<span class="id" title="var">compose_hV_h</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">f01</span>) $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerTR</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x20</span> $&lt;~&gt; <span class="id" title="var">x</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>^-1$) (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span>) <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f21</span> $@<span class="id" title="var">L</span> <span class="id" title="var">compose_V_hh</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">whiskerRT</span> {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> $&lt;~&gt; <span class="id" title="var">x20</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>) (<span class="id" title="var">f</span>^-1$ $<span class="id" title="var">o</span> <span class="id" title="var">f10</span>) <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">f21</span> $@<span class="id" title="var">L</span> <span class="id" title="var">compose_h_Vh</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">s</span>.<br/>

<br/>
</div>

<div class="doc">
Moving around maps in a square. Associativity laws. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">move_bottom_left</span> {<span class="id" title="var">f01</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x</span>} {<span class="id" title="var">f01'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x02</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> (<span class="id" title="var">f01'</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">move_left_bottom</span> {<span class="id" title="var">f12</span> : <span class="id" title="var">x02</span> $-&gt; <span class="id" title="var">x</span>} {<span class="id" title="var">f12'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x22</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12'</span> $<span class="id" title="var">o</span> <span class="id" title="var">f12</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">f12</span> $<span class="id" title="var">o</span> <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">s</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">move_right_top</span> {<span class="id" title="var">f10</span> : <span class="id" title="var">x00</span> $-&gt; <span class="id" title="var">x</span>} {<span class="id" title="var">f10'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x20</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> (<span class="id" title="var">f10'</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span>) <span class="id" title="var">f12</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10'</span>) <span class="id" title="var">f10</span> <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">move_top_right</span> {<span class="id" title="var">f21</span> : <span class="id" title="var">x20</span> $-&gt; <span class="id" title="var">x</span>} {<span class="id" title="var">f21'</span> : <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">x22</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21'</span> $<span class="id" title="var">o</span> <span class="id" title="var">f21</span>) <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21'</span> (<span class="id" title="var">f21</span> $<span class="id" title="var">o</span> <span class="id" title="var">f10</span>) <span class="id" title="var">f12</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">s</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">fmap_square</span> {<span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">f</span>} `{!<span class="id" title="var">Is1Functor</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">Square</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Square</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">f</span> <span class="id" title="var">f01</span>) (<span class="id" title="var">fmap</span> <span class="id" title="var">f</span> <span class="id" title="var">f21</span>) (<span class="id" title="var">fmap</span> <span class="id" title="var">f</span> <span class="id" title="var">f10</span>) (<span class="id" title="var">fmap</span> <span class="id" title="var">f</span> <span class="id" title="var">f12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">fmap_comp</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">f</span> <span class="id" title="var">s</span> $@ <span class="id" title="var">fmap_comp</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Squares2</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@h t" := (<span class="id" title="var">hconcat</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@v t" := (<span class="id" title="var">vconcat</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@hR p" := (<span class="id" title="var">hconcatR</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@hL p" := (<span class="id" title="var">hconcatL</span> <span class="id" title="var">p</span> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@vR p" := (<span class="id" title="var">vconcatR</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s $@vL p" := (<span class="id" title="var">vconcatL</span> <span class="id" title="var">p</span> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s ^h$" := (<span class="id" title="var">hinverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Notation</span> &quot;s ^v$" := (<span class="id" title="var">vinverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>