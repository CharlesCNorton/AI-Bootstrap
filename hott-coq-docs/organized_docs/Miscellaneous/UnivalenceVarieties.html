<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>UnivalenceVarieties</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library UnivalenceVarieties</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab1208"></a><h1 class="section">Varieties of univalence</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">HoTT.Basics</span> <span class="id" title="var">HoTT.Types</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Idempotents</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Metatheory.Core</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A weaker form that only asserts that we can make equivalences into paths with a computation rule (no uniqueness rule). 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">WeakUnivalence</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etop</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, (<span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>) -&gt; (<span class="id" title="var">A</span> = <span class="id" title="var">B</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>), <span class="id" title="var">equiv_path</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">etop</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>) = <span class="id" title="var">f</span> }.<br/>

<br/>
</div>

<div class="doc">
The same thing, stated with an incoherent notion of equivalence but a pointwise equality for the computation rule.  
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">IncoherentWeakUnivalence</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etop</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">idmap</span>) -&gt; (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">idmap</span>) -&gt; (<span class="id" title="var">A</span> = <span class="id" title="var">B</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>, <span class="id" title="var">equiv_path</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">etop</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>) == <span class="id" title="var">f</span> }.<br/>

<br/>
</div>

<div class="doc">
Finally, it even suffices to consider only just a few special cases. This is due to Ian Orton and Andrew Pitts. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">VeryWeakUnivalence</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="var">unit</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>, <span class="id" title="var">A</span> = { <span class="id" title="var">a</span> : <span class="id" title="var">A</span> &amp; <span class="id" title="var">Unit</span> };<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">flip</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">a</span> : <span class="id" title="var">A</span> &amp; { <span class="id" title="var">b</span> : <span class="id" title="var">B</span> &amp; <span class="id" title="var">C</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> }} = { <span class="id" title="var">b</span> : <span class="id" title="var">B</span> &amp; { <span class="id" title="var">a</span> : <span class="id" title="var">A</span> &amp; <span class="id" title="var">C</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> }};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contract</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>, <span class="id" title="var">Contr</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> = <span class="id" title="var">Unit</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unit_comp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span>, <span class="id" title="var">transport</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">unit</span> <span class="id" title="var">A</span>) <span class="id" title="var">a</span> = (<span class="id" title="var">a</span>;<span class="id" title="var">tt</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">flip_comp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> (<span class="id" title="var">a</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">b</span>:<span class="id" title="var">B</span>) (<span class="id" title="var">c</span> : <span class="id" title="var">C</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transport</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">flip</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) (<span class="id" title="var">a</span> ; (<span class="id" title="var">b</span> ; <span class="id" title="var">c</span>)) = (<span class="id" title="var">b</span> ; (<span class="id" title="var">a</span> ; <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">WeakUnivalence_implies_Univalence</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">WeakUnivalence</span> -&gt; <span class="id" title="var">Univalence_type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">etop</span> <span class="id" title="var">H</span>] <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isequiv_from_functor_sigma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_contr_contr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">contr_retracttype</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Build_RetractOf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Be</span> =&gt; (<span class="id" title="var">Be</span>.1 ; <span class="id" title="var">equiv_path</span> <span class="id" title="var">A</span> <span class="id" title="var">Be</span>.1 <span class="id" title="var">Be</span>.2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Bf</span> =&gt; (<span class="id" title="var">Bf</span>.1 ; <span class="id" title="var">etop</span> <span class="id" title="var">A</span> <span class="id" title="var">Bf</span>.1 <span class="id" title="var">Bf</span>.2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">B</span> <span class="id" title="var">f</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">path_sigma'</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">B</span> =&gt; <span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>) 1 (<span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For this one and the next one, we need to assume funext to start with (so that these forms of univalence, unlike the usual one, probably don't suffice to prove funext from). 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">IncoherentWeakUnivalence_implies_Univalence</span> `{<span class="id" title="var">Funext</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">IncoherentWeakUnivalence</span> -&gt; <span class="id" title="var">Univalence_type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">etop</span> <span class="id" title="var">K</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">WeakUnivalence_implies_Univalence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">transparent</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">etop'</span> : (<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, (<span class="id" title="var">A</span> &lt;~&gt; <span class="id" title="var">B</span>) -&gt; (<span class="id" title="var">A</span> = <span class="id" title="var">B</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">etop</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span>^-1 <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">eisretr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">eissect</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">etop'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_equiv</span>, <span class="id" title="var">path_arrow</span>, <span class="id" title="var">K</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">VeryWeakUnivalence_implies_Univalence</span> `{<span class="id" title="var">Funext</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">VeryWeakUnivalence</span> -&gt; <span class="id" title="var">Univalence_type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">vwu</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">WeakUnivalence_implies_Univalence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span>;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">unit</span> <span class="id" title="var">vwu</span> <span class="id" title="var">A</span> @ <span class="id" title="var">_</span> @ (<span class="id" title="var">unit</span> <span class="id" title="var">vwu</span> <span class="id" title="var">B</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">flip</span> <span class="id" title="var">vwu</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">path_arrow</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">rapply</span> (<span class="id" title="var">contract</span> <span class="id" title="var">vwu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">path_arrow</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">contract</span> <span class="id" title="var">vwu</span>); <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_equiv</span>, <span class="id" title="var">path_arrow</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">transport_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">moveR_transport_V</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">unit</span> <span class="id" title="var">vwu</span> <span class="id" title="var">B</span>) <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<span class="id" title="var">unit_comp</span> <span class="id" title="var">vwu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !(<span class="id" title="var">transport_compose</span> <span class="id" title="var">idmap</span> <span class="id" title="var">sig</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">transport_sigma'</span> (<span class="id" title="var">C</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">P</span> (<span class="id" title="var">a0</span>:<span class="id" title="var">A</span>) =&gt; <span class="id" title="var">P</span> <span class="id" title="var">a0</span>)); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:{ <span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">path_contr</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> ; 1)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">flip_comp</span> <span class="id" title="var">vwu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transport_sigma'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">path_contr</span>. }<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>