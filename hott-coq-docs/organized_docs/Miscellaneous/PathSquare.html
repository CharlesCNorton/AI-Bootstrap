<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PathSquare</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PathSquare</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Types.Paths</span> <span class="id" title="var">Types.Prod</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">DPath</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">square_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">square_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">square</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Unset</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Homogeneous&nbsp;squares&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x00&nbsp;----pi0----&nbsp;x01<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p0i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p1i<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x01-----pi1-----x11<br/>
&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Contents:<br/>
<br/>
&nbsp;&nbsp;*&nbsp;Definition&nbsp;of&nbsp;PathSquare&nbsp;<br/>
&nbsp;&nbsp;*&nbsp;Degenerate&nbsp;PathSquares&nbsp;as&nbsp;paths&nbsp;between&nbsp;paths<br/>
&nbsp;&nbsp;*&nbsp;Flipping&nbsp;squares&nbsp;horizontally&nbsp;and&nbsp;vertically<br/>
&nbsp;&nbsp;*&nbsp;PathSquare&nbsp;transpose<br/>
&nbsp;&nbsp;*&nbsp;PathSquare&nbsp;inverse<br/>
&nbsp;&nbsp;*&nbsp;PathSquare&nbsp;rotations<br/>
&nbsp;&nbsp;*&nbsp;Edge&nbsp;rewriting<br/>
&nbsp;&nbsp;*&nbsp;Concatenation<br/>
&nbsp;&nbsp;*&nbsp;Kan&nbsp;fillers<br/>
&nbsp;&nbsp;*&nbsp;natural&nbsp;squares&nbsp;from&nbsp;ap<br/>
<br/>
*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Definition&nbsp;of&nbsp;PathSquare&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;PathSquare&nbsp;left&nbsp;right&nbsp;up&nbsp;down&nbsp;*)</span><br/>
<span class="id" title="keyword">Cumulative Inductive</span> <span class="id" title="var">PathSquare</span> {<span class="id" title="var">A</span>} : <span class="id" title="keyword">forall</span> <span class="id" title="var">a00</span> {<span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>},<br/>
&nbsp;&nbsp;<span class="id" title="var">a00</span> = <span class="id" title="var">a10</span> -&gt; <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span> -&gt; <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span> -&gt; <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span> -&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">sq_id</span> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">x</span> : <span class="id" title="var">A</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PathSquare</span> <span class="id" title="var">x</span> 1 1 1 1.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">sq_id</span> {<span class="id" title="var">A</span> <span class="id" title="var">x</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">PathSquare</span> {<span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Notation</span> &quot;1" := <span class="id" title="var">sq_id</span> : <span class="id" title="var">square_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <span class="id" title="var">PathSquare_ind</span> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <span class="id" title="var">PathSquare</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">PathSquare_ind</span> {<span class="id" title="var">A</span>} <span class="id" title="var">P</span> <span class="id" title="var">f</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Scheme</span> <span class="id" title="var">PathSquare_rec</span> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <span class="id" title="var">PathSquare</span> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">PathSquare_rec</span> {<span class="id" title="var">A</span>} <span class="id" title="var">P</span> <span class="id" title="var">f</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquare_ind&nbsp;is&nbsp;an&nbsp;equivalence,&nbsp;similar&nbsp;to&nbsp;how&nbsp;paths_ind&nbsp;is&nbsp;*)</span><br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_PathSquare_ind</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>) (<span class="id" title="var">p0</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PathSquare</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">PathSquare_ind</span> <span class="id" title="var">P</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 8 (<span class="id" title="tactic">apply</span> <span class="id" title="var">path_forall</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquares&nbsp;can&nbsp;be&nbsp;given&nbsp;by&nbsp;2-dimensional&nbsp;paths&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_path</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">px0</span> @ <span class="id" title="var">p1x</span> = <span class="id" title="var">p0x</span> @ <span class="id" title="var">px1</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Equiv</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0x</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">e</span> @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e'</span>, <span class="id" title="var">px0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">sq_id</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_adjointify</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0x</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">e</span> @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">e''</span> := <span class="id" title="var">e'</span> @ (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<span class="id" title="var">transport</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e''</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span> <span class="id" title="var">e''</span>; <span class="id" title="var">hott_simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">clearbody</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e'</span>, <span class="id" title="var">px0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_path</span> := <span class="id" title="var">equiv_sq_path</span>.<br/>

<br/>
</div>

<div class="doc">
Squares in (n+2)-truncated types are n-truncated 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">istrunc_sq</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span>} `{!<span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">A</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span> (<span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> <span class="id" title="var">sq_path</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;can&nbsp;give&nbsp;degenerate&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">PathSquaresFromPaths</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">q</span> <span class="id" title="var">q'</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_G1</span>  : <span class="id" title="var">p</span> = <span class="id" title="var">p'</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> 1 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">sq_path</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_p1_1q</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_1G</span> : <span class="id" title="var">q</span> = <span class="id" title="var">q'</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> 1 1 <span class="id" title="var">q</span> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">sq_path</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_1p_q1</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">PathSquaresFromPaths</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_G1</span> := <span class="id" title="var">equiv_sq_G1</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_1G</span> := <span class="id" title="var">equiv_sq_1G</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">equiv_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquare&nbsp;horizontal&nbsp;reflexivity&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_refl_h</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">p</span> <span class="id" title="var">p</span> 1 1 := <span class="id" title="var">sq_G1</span> 1.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquare&nbsp;vertical&nbsp;reflexivity&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_refl_v</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> 1 1 <span class="id" title="var">p</span> <span class="id" title="var">p</span> := <span class="id" title="var">sq_1G</span> 1.<br/>

<br/>
<span class="comment">(*&nbsp;Horizontal&nbsp;flip&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_flip_h</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px1</span> <span class="id" title="var">px0</span> <span class="id" title="var">p0x</span>^ <span class="id" title="var">p1x</span>^.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p0x</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_G1</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_G1</span>^-1.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_flip_h</span> := <span class="id" title="var">equiv_sq_flip_h</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Vertical&nbsp;flip&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_flip_v</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span>^ <span class="id" title="var">px1</span>^ <span class="id" title="var">p1x</span> <span class="id" title="var">p0x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">px0</span>, <span class="id" title="var">px1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_1G</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_1G</span>^-1.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_flip_v</span> := <span class="id" title="var">equiv_sq_flip_v</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transpose&nbsp;of&nbsp;a&nbsp;square&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
We make a local definition that will never get unfolded 
</div>
<div class="code">
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">tr</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> -&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">tr</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_tr</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_adjointify</span> <span class="id" title="var">tr</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_tr</span> := <span class="id" title="var">equiv_sq_tr</span>.<br/>

<br/>
<span class="comment">(*&nbsp;NOTE:&nbsp;sq_tr&nbsp;ought&nbsp;to&nbsp;be&nbsp;some&nbsp;sort&nbsp;of&nbsp;involution&nbsp;but&nbsp;it&nbsp;obviously&nbsp;isn't<br/>
&nbsp;&nbsp;&nbsp;since&nbsp;it&nbsp;is&nbsp;not&nbsp;of&nbsp;the&nbsp;form&nbsp;A&nbsp;-&gt;&nbsp;A.&nbsp;Perhaps&nbsp;there&nbsp;is&nbsp;a&nbsp;more&nbsp;general<br/>
&nbsp;&nbsp;&nbsp;"involution"&nbsp;but&nbsp;between&nbsp;equivalent&nbsp;types?&nbsp;But&nbsp;then&nbsp;that&nbsp;very&nbsp;equivalence<br/>
&nbsp;&nbsp;&nbsp;is&nbsp;given&nbsp;by&nbsp;sq_tr&nbsp;so&nbsp;it&nbsp;seems&nbsp;a&nbsp;bit&nbsp;circular...&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_tr_refl_h</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">sq_tr</span> (<span class="id" title="var">sq_refl_h</span> <span class="id" title="var">p</span>) = <span class="id" title="var">sq_refl_v</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_tr_refl_v</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">sq_tr</span> (<span class="id" title="var">sq_refl_v</span> <span class="id" title="var">p</span>) = <span class="id" title="var">sq_refl_h</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Operations&nbsp;on&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">PathSquareOps</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Inverse&nbsp;square&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_V</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px1</span>^ <span class="id" title="var">px0</span>^ <span class="id" title="var">p1x</span>^ <span class="id" title="var">p0x</span>^.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_path</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_concat_lr</span> (<span class="id" title="var">inv_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ (<span class="id" title="var">inv_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_ap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_path</span>^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">sq_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Left&nbsp;rotation&nbsp;:&nbsp;left&nbsp;right&nbsp;top&nbsp;bottom&nbsp;&nbsp;-&gt;&nbsp;&nbsp;top&nbsp;bottom&nbsp;right&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_rot_l</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">p0x</span>^ <span class="id" title="var">p1x</span>^ <span class="id" title="var">px1</span> <span class="id" title="var">px0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_path</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_moveR_Vp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_moveL_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">sq_path</span>^-1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Right&nbsp;rotation&nbsp;:&nbsp;left&nbsp;right&nbsp;top&nbsp;bottom&nbsp;-&gt;&nbsp;bottom&nbsp;top&nbsp;left&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_rot_r</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> -&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">p1x</span> <span class="id" title="var">p0x</span> <span class="id" title="var">px0</span>^ <span class="id" title="var">px1</span>^.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_path</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_moveL_Vp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_moveR_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">sq_path</span>^-1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">PathSquareOps</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_V</span> := <span class="id" title="var">equiv_sq_V</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_rot_l</span>:= <span class="id" title="var">equiv_sq_rot_l</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_rot_r</span> := <span class="id" title="var">equiv_sq_rot_r</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;for&nbsp;rewriting&nbsp;sides&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">PathSquareRewriting</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;are&nbsp;all&nbsp;special&nbsp;cases&nbsp;of&nbsp;the&nbsp;following&nbsp;"rewrite&nbsp;all&nbsp;sides"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lemma&nbsp;which&nbsp;we&nbsp;prove&nbsp;is&nbsp;an&nbsp;equivalence&nbsp;giving&nbsp;us&nbsp;all&nbsp;special&nbsp;cases<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;equivalences&nbsp;too&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_GGGG</span> {<span class="id" title="var">px0'</span> <span class="id" title="var">px1'</span> <span class="id" title="var">p0x'</span> <span class="id" title="var">p1x'</span>} (<span class="id" title="var">qx0</span> : <span class="id" title="var">px0</span> = <span class="id" title="var">px0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">qx1</span> : <span class="id" title="var">px1</span> = <span class="id" title="var">px1'</span>) (<span class="id" title="var">q0x</span> : <span class="id" title="var">p0x</span> = <span class="id" title="var">p0x'</span>) (<span class="id" title="var">q1x</span> : <span class="id" title="var">p1x</span> = <span class="id" title="var">p1x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0'</span> <span class="id" title="var">px1'</span> <span class="id" title="var">p0x'</span> <span class="id" title="var">p1x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">qx0</span>, <span class="id" title="var">qx1</span>, <span class="id" title="var">q0x</span>, <span class="id" title="var">q1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">px0'</span> <span class="id" title="var">px1'</span> <span class="id" title="var">p0x'</span> <span class="id" title="var">p1x'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">qx0</span> : <span class="id" title="var">px0</span> = <span class="id" title="var">px0'</span>) (<span class="id" title="var">qx1</span> : <span class="id" title="var">px1</span> = <span class="id" title="var">px1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">q0x</span> : <span class="id" title="var">p0x</span> = <span class="id" title="var">p0x'</span>) (<span class="id" title="var">q1x</span> : <span class="id" title="var">p1x</span> = <span class="id" title="var">p1x'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_Gccc</span> := <span class="id" title="var">equiv_sq_GGGG</span> <span class="id" title="var">qx0</span> 1 1 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_cGcc</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 <span class="id" title="var">qx1</span> 1 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_ccGc</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 1 <span class="id" title="var">q0x</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_cccG</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 1 1 <span class="id" title="var">q1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_GGcc</span> := <span class="id" title="var">equiv_sq_GGGG</span> <span class="id" title="var">qx0</span> <span class="id" title="var">qx1</span> 1 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_GcGc</span> := <span class="id" title="var">equiv_sq_GGGG</span> <span class="id" title="var">qx0</span> 1 <span class="id" title="var">q0x</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_GccG</span> := <span class="id" title="var">equiv_sq_GGGG</span> <span class="id" title="var">qx0</span> 1 1 <span class="id" title="var">q1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_cGGc</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 <span class="id" title="var">qx1</span> <span class="id" title="var">q0x</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_cGcG</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 <span class="id" title="var">qx1</span> 1 <span class="id" title="var">q1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_ccGG</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 1 <span class="id" title="var">q0x</span> <span class="id" title="var">q1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_GGGc</span> := <span class="id" title="var">equiv_sq_GGGG</span> <span class="id" title="var">qx0</span> <span class="id" title="var">qx1</span> <span class="id" title="var">q0x</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_cGGG</span> := <span class="id" title="var">equiv_sq_GGGG</span> 1 <span class="id" title="var">qx1</span> <span class="id" title="var">q0x</span> <span class="id" title="var">q1x</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">PathSquareRewriting</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_GGGG</span> := <span class="id" title="var">equiv_sq_GGGG</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_Gccc</span> := <span class="id" title="var">equiv_sq_Gccc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_cGcc</span> := <span class="id" title="var">equiv_sq_cGcc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_ccGc</span> := <span class="id" title="var">equiv_sq_ccGc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_cccG</span> := <span class="id" title="var">equiv_sq_cccG</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_GGcc</span> := <span class="id" title="var">equiv_sq_GGcc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_GcGc</span> := <span class="id" title="var">equiv_sq_GcGc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_GccG</span> := <span class="id" title="var">equiv_sq_GccG</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_cGGc</span> := <span class="id" title="var">equiv_sq_cGGc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_cGcG</span> := <span class="id" title="var">equiv_sq_cGcG</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_ccGG</span> := <span class="id" title="var">equiv_sq_ccGG</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_GGGc</span> := <span class="id" title="var">equiv_sq_GGGc</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_cGGG</span> := <span class="id" title="var">equiv_sq_cGGG</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">MovePaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x00</span> <span class="id" title="var">x20</span> <span class="id" title="var">x02</span> <span class="id" title="var">x22</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">f10</span> : <span class="id" title="var">x00</span> = <span class="id" title="var">x20</span>} {<span class="id" title="var">f12</span> : <span class="id" title="var">x02</span> = <span class="id" title="var">x22</span>} {<span class="id" title="var">f01</span> : <span class="id" title="var">x00</span> = <span class="id" title="var">x02</span>} {<span class="id" title="var">f21</span> : <span class="id" title="var">x20</span> = <span class="id" title="var">x22</span>}.<br/>
</div>

<div class="doc">
Operations to move paths around a square. We define all these operations immediately as equvialences. The naming first number indicates in which argument the path that moves is on the left of the equivalence, and the second number where it is on the right. The equivalences are all set up so that on the right, there is no path inversion. For the <span class="inlinecode">24</span> and <span class="inlinecode">13</span> equivalences there is a path inverse on the left. The corresponding equivalences <span class="inlinecode">42</span> and <span class="inlinecode">31</span> are the symmetric versions of these, but the path inverse is in another place. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_23</span> {<span class="id" title="var">f12''</span> : <span class="id" title="var">x02</span> = <span class="id" title="var">x</span>} {<span class="id" title="var">f12'</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x22</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12''</span> @ <span class="id" title="var">f12'</span>) <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12'</span> (<span class="id" title="var">f01</span> @ <span class="id" title="var">f12''</span>) <span class="id" title="var">f21</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f12</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f12''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cGcc</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>) <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_ccGc</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_14</span> {<span class="id" title="var">f10''</span> : <span class="id" title="var">x00</span> = <span class="id" title="var">x</span>} {<span class="id" title="var">f10'</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x20</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">f10''</span> @ <span class="id" title="var">f10'</span>) <span class="id" title="var">f12</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10''</span> <span class="id" title="var">f12</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f10'</span> @ <span class="id" title="var">f21</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f10</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f10'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cccG</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_Gccc</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_24</span> {<span class="id" title="var">f12''</span> : <span class="id" title="var">x02</span> = <span class="id" title="var">x</span>} {<span class="id" title="var">f12'</span> : <span class="id" title="var">x22</span> = <span class="id" title="var">x</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12''</span> @ <span class="id" title="var">f12'</span>^) <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12''</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21</span> @ <span class="id" title="var">f12'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f12</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f12'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cccG</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cGcc</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_42</span> {<span class="id" title="var">f12''</span> : <span class="id" title="var">x02</span> = <span class="id" title="var">x</span>} {<span class="id" title="var">f12'</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x22</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> <span class="id" title="var">f12''</span> <span class="id" title="var">f01</span> (<span class="id" title="var">f21</span> @ <span class="id" title="var">f12'</span>^) &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10</span> (<span class="id" title="var">f12''</span> @ <span class="id" title="var">f12'</span>) <span class="id" title="var">f01</span> <span class="id" title="var">f21</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f12</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f12'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cGcc</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_cccG</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_13</span> {<span class="id" title="var">f10''</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x00</span>} {<span class="id" title="var">f10'</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x20</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">f10''</span>^ @ <span class="id" title="var">f10'</span>) <span class="id" title="var">f12</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10'</span> <span class="id" title="var">f12</span> (<span class="id" title="var">f10''</span> @ <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f10</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f10''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_ccGc</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_Gccc</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_move_31</span> {<span class="id" title="var">f10''</span> : <span class="id" title="var">x00</span> = <span class="id" title="var">x</span>} {<span class="id" title="var">f10'</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x20</span>} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">f10'</span> <span class="id" title="var">f12</span> (<span class="id" title="var">f10''</span>^ @ <span class="id" title="var">f01</span>) <span class="id" title="var">f21</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> (<span class="id" title="var">f10''</span> @ <span class="id" title="var">f10'</span>) <span class="id" title="var">f12</span> <span class="id" title="var">f01</span> <span class="id" title="var">f21</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">f10</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f10''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_Gccc</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_ccGc</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MovePaths</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_23</span> := <span class="id" title="var">equiv_sq_move_23</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_14</span> := <span class="id" title="var">equiv_sq_move_14</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_24</span> := <span class="id" title="var">equiv_sq_move_24</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_42</span> := <span class="id" title="var">equiv_sq_move_42</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_13</span> := <span class="id" title="var">equiv_sq_move_13</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_move_31</span> := <span class="id" title="var">equiv_sq_move_31</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Depdent&nbsp;path&nbsp;product&nbsp;definition&nbsp;of&nbsp;PathSquare&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_dp_prod</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">xy</span> =&gt; <span class="id" title="var">fst</span> <span class="id" title="var">xy</span> = <span class="id" title="var">snd</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">path_prod'</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>) <span class="id" title="var">px0</span> <span class="id" title="var">px1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">dp_paths_FlFr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">sq_path</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">sq_ccGG</span> (<span class="id" title="var">ap_fst_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">ap_snd_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_dp_prod</span> := <span class="id" title="var">equiv_sq_dp_prod</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Concatenation&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">PathSquareConcat</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Horizontal&nbsp;concatenation&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_concat_h</span>  {<span class="id" title="var">a02</span> <span class="id" title="var">a12</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p0y</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a02</span>} {<span class="id" title="var">p1y</span> : <span class="id" title="var">a11</span> = <span class="id" title="var">a12</span>} {<span class="id" title="var">px2</span> : <span class="id" title="var">a02</span> = <span class="id" title="var">a12</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> -&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px1</span> <span class="id" title="var">px2</span> <span class="id" title="var">p0y</span> <span class="id" title="var">p1y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px2</span> (<span class="id" title="var">p0x</span> @ <span class="id" title="var">p0y</span>) (<span class="id" title="var">p1x</span> @ <span class="id" title="var">p1y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_ccGG</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">inverse</span>, <span class="id" title="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;@@h" := <span class="id" title="var">sq_concat_h</span> : <span class="id" title="var">square_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Vertical&nbsp;concatenation&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_concat_v</span> {<span class="id" title="var">a20</span> <span class="id" title="var">a21</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">py0</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a20</span>} {<span class="id" title="var">py1</span> : <span class="id" title="var">a11</span> = <span class="id" title="var">a21</span>} {<span class="id" title="var">p2x</span> : <span class="id" title="var">a20</span> = <span class="id" title="var">a21</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> -&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">py0</span> <span class="id" title="var">py1</span> <span class="id" title="var">p1x</span> <span class="id" title="var">p2x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">PathSquare</span> (<span class="id" title="var">px0</span> @ <span class="id" title="var">py0</span>) (<span class="id" title="var">px1</span> @ <span class="id" title="var">py1</span>) <span class="id" title="var">p0x</span> <span class="id" title="var">p2x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">sq_GGcc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">inverse</span>, <span class="id" title="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;@@v" := <span class="id" title="var">sq_concat_v</span> : <span class="id" title="var">square_scope</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">PathSquareConcat</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Horizontal&nbsp;groupoid&nbsp;laws&nbsp;for&nbsp;concatenation&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">GroupoidLawsH</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;There&nbsp;are&nbsp;many&nbsp;more&nbsp;laws&nbsp;to&nbsp;write,&nbsp;but&nbsp;it&nbsp;seems&nbsp;we&nbsp;don't&nbsp;really&nbsp;need&nbsp;them&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> <span class="id" title="var">a02</span> <span class="id" title="var">a12</span> <span class="id" title="var">a20</span> <span class="id" title="var">a21</span> <span class="id" title="var">a03</span> <span class="id" title="var">a13</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px2</span> : <span class="id" title="var">a02</span> = <span class="id" title="var">a12</span>} {<span class="id" title="var">p0y</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a02</span>} {<span class="id" title="var">p1y</span> : <span class="id" title="var">a11</span> = <span class="id" title="var">a12</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px3</span> : <span class="id" title="var">a03</span> = <span class="id" title="var">a13</span>} {<span class="id" title="var">p0z</span> : <span class="id" title="var">a02</span> = <span class="id" title="var">a03</span>} {<span class="id" title="var">p1z</span> : <span class="id" title="var">a12</span> = <span class="id" title="var">a13</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">square_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">hr</span> := (<span class="id" title="var">sq_refl_h</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_concat_h_s1</span> : <span class="id" title="var">sq_concat_h</span> <span class="id" title="var">s</span> <span class="id" title="var">hr</span> = <span class="id" title="var">sq_ccGG</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_concat_h_1s</span> : <span class="id" title="var">sq_concat_h</span> <span class="id" title="var">hr</span> <span class="id" title="var">s</span> = <span class="id" title="var">sq_ccGG</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">t</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px1</span> <span class="id" title="var">px2</span> <span class="id" title="var">p0y</span> <span class="id" title="var">p1y</span>) (<span class="id" title="var">u</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px2</span> <span class="id" title="var">px3</span> <span class="id" title="var">p0z</span> <span class="id" title="var">p1z</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_concat_h_ss_s</span> : <span class="id" title="var">sq_concat_h</span> (<span class="id" title="var">sq_concat_h</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>) <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">sq_ccGG</span> (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">sq_concat_h</span> <span class="id" title="var">s</span> (<span class="id" title="var">sq_concat_h</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>, <span class="id" title="var">u</span>, (<span class="id" title="var">sq_1G</span>^-1 <span class="id" title="var">t</span>), <span class="id" title="var">p0y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">GroupoidLawsH</span>.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquare&nbsp;Kan&nbsp;fillers&nbsp;~&nbsp;Every&nbsp;open&nbsp;box&nbsp;has&nbsp;a&nbsp;lid&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Kan</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prove&nbsp;groupoid&nbsp;laws&nbsp;about&nbsp;paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_l</span> (<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>) (<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>) (<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: {<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span> &amp; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">p0x</span> @ <span class="id" title="var">px1</span> @ <span class="id" title="var">p1x</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">px1</span>, <span class="id" title="var">p0x</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_l_uniq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0'</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} (<span class="id" title="var">s'</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0'</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">px0</span> = <span class="id" title="var">px0'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_path</span>^-1 <span class="id" title="tactic">in</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">s'</span>^ @ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_r</span> (<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>) (<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>) (<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span> &amp; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">p0x</span>^ @ <span class="id" title="var">px0</span> @ <span class="id" title="var">p1x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">px0</span>, <span class="id" title="var">p0x</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_r_uniq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">px1'</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} (<span class="id" title="var">s'</span> : <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1'</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">px1</span> = <span class="id" title="var">px1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_path</span>^-1 <span class="id" title="tactic">in</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">s'</span> @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_fill_lr</span> (<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>) (<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>) &lt;~&gt; (<span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_adjointify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">px0</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">sq_fill_r</span> <span class="id" title="var">px0</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">px1</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">sq_fill_l</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">px1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">sq_fill_r_uniq</span> (<span class="id" title="var">sq_fill_r</span> <span class="id" title="var">_</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sq_fill_l</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">px0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">sq_fill_l_uniq</span> (<span class="id" title="var">sq_fill_l</span> <span class="id" title="var">_</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sq_fill_r</span> <span class="id" title="var">px0</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>).2).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_t</span> (<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>) (<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>) (<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span> &amp; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">px0</span> @ <span class="id" title="var">p1x</span> @ <span class="id" title="var">px1</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">px0</span>, <span class="id" title="var">px1</span>, <span class="id" title="var">p1x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_fill_b</span> (<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>) (<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>) (<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span> &amp; <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">px0</span>^ @ <span class="id" title="var">p0x</span> @ <span class="id" title="var">px1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">px0</span>, <span class="id" title="var">px1</span>, <span class="id" title="var">p0x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Kan</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Apply&nbsp;a&nbsp;function&nbsp;to&nbsp;the&nbsp;sides&nbsp;of&nbsp;square&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_ap</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>} {<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span> -&gt; <span class="id" title="var">PathSquare</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">px0</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">px1</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p0x</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p1x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This preserves reflexivity 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_ap_refl_h</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">sq_ap</span> <span class="id" title="var">f</span> (<span class="id" title="var">sq_refl_h</span> <span class="id" title="var">p</span>) = <span class="id" title="var">sq_refl_h</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_ap_refl_v</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">sq_ap</span> <span class="id" title="var">f</span> (<span class="id" title="var">sq_refl_v</span> <span class="id" title="var">p</span>) = <span class="id" title="var">sq_refl_v</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;PathSquares&nbsp;respect&nbsp;products&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_prod</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a00</span> <span class="id" title="var">a10</span> <span class="id" title="var">a01</span> <span class="id" title="var">a11</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">px0</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a10</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">px1</span> : <span class="id" title="var">a01</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">p0x</span> : <span class="id" title="var">a00</span> = <span class="id" title="var">a01</span>} {<span class="id" title="var">p1x</span> : <span class="id" title="var">a10</span> = <span class="id" title="var">a11</span>} {<span class="id" title="var">b00</span> <span class="id" title="var">b10</span> <span class="id" title="var">b01</span> <span class="id" title="var">b11</span> : <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">qx0</span> : <span class="id" title="var">b00</span> = <span class="id" title="var">b10</span>} {<span class="id" title="var">qx1</span> : <span class="id" title="var">b01</span> = <span class="id" title="var">b11</span>} {<span class="id" title="var">q0x</span> : <span class="id" title="var">b00</span> = <span class="id" title="var">b01</span>} {<span class="id" title="var">q1x</span> : <span class="id" title="var">b10</span> = <span class="id" title="var">b11</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">PathSquare</span> <span class="id" title="var">px0</span> <span class="id" title="var">px1</span> <span class="id" title="var">p0x</span> <span class="id" title="var">p1x</span>) * (<span class="id" title="var">PathSquare</span> <span class="id" title="var">qx0</span> <span class="id" title="var">qx1</span> <span class="id" title="var">q0x</span> <span class="id" title="var">q1x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">PathSquare</span> (<span class="id" title="var">path_prod'</span> <span class="id" title="var">px0</span> <span class="id" title="var">qx0</span>) (<span class="id" title="var">path_prod'</span> <span class="id" title="var">px1</span> <span class="id" title="var">qx1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">path_prod'</span> <span class="id" title="var">p0x</span> <span class="id" title="var">q0x</span>) (<span class="id" title="var">path_prod'</span> <span class="id" title="var">p1x</span> <span class="id" title="var">q1x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> (<span class="id" title="var">equiv_functor_prod'</span> <span class="id" title="var">sq_path</span> <span class="id" title="var">sq_path</span>)^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_path_prod</span> (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_ap'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;3: <span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_path_prod</span> (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span>^ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> (<span class="id" title="var">path_prod_pp</span> (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> (<span class="id" title="var">path_prod_pp</span> (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) (<span class="id" title="var">_</span>,<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_path</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_prod</span> := <span class="id" title="var">equiv_sq_prod</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;natural&nbsp;square&nbsp;from&nbsp;an&nbsp;ap&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_nat</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">f</span> == <span class="id" title="var">f'</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f'</span> <span class="id" title="var">p</span>) (<span class="id" title="var">h</span> <span class="id" title="var">x</span>) (<span class="id" title="var">h</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">sq_1G</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;transpose&nbsp;of&nbsp;the&nbsp;natural&nbsp;square&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_nat'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">f</span> == <span class="id" title="var">f'</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">h</span> <span class="id" title="var">x</span>) (<span class="id" title="var">h</span> <span class="id" title="var">y</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">f'</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">sq_G1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;ap_compose&nbsp;fits&nbsp;naturally&nbsp;into&nbsp;a&nbsp;square&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_compose_sq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)) 1 1 := <span class="id" title="var">sq_G1</span> (<span class="id" title="var">ap_compose</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_idmap_sq</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) : <span class="id" title="var">PathSquare</span> (<span class="id" title="var">ap</span> <span class="id" title="var">idmap</span> <span class="id" title="var">p</span>) <span class="id" title="var">p</span> 1 1<br/>
&nbsp;&nbsp;:= <span class="id" title="var">sq_G1</span> (<span class="id" title="var">ap_idmap</span> <span class="id" title="var">p</span>).<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;DPath&nbsp;of&nbsp;a&nbsp;certain&nbsp;form&nbsp;can&nbsp;be&nbsp;turned&nbsp;into&nbsp;a&nbsp;square&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_sq_dp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">q1</span> : <span class="id" title="var">f</span> <span class="id" title="var">a1</span> = <span class="id" title="var">g</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">q2</span> : <span class="id" title="var">f</span> <span class="id" title="var">a2</span> = <span class="id" title="var">g</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">g</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span> &lt;~&gt; <span class="id" title="var">PathSquare</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">sq_G1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">sq_dp</span> := <span class="id" title="var">equiv_sq_dp</span>.<br/>

<br/>
<span class="comment">(*&nbsp;ap011&nbsp;fits&nbsp;into&nbsp;a&nbsp;square&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sq_ap011</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">a'</span>) {<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">q</span> : <span class="id" title="var">b</span> = <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">PathSquare</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>) <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">b'</span>) <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ap</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">q</span>) (<span class="id" title="var">ap</span> (<span class="id" title="var">f</span> <span class="id" title="var">a'</span>) <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sq_dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">apD</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">p</span>) <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>