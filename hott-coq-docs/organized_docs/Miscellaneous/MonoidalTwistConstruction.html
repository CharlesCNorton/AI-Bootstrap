<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>MonoidalTwistConstruction</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library MonoidalTwistConstruction</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics.Overture</span> <span class="id" title="var">Basics.Tactics</span> <span class="id" title="var">Types.Forall</span> <span class="id" title="var">WildCat.Monoidal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Core</span> <span class="id" title="var">WildCat.Bifunctor</span> <span class="id" title="var">WildCat.Prod</span> <span class="id" title="var">WildCat.Equiv</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.NatTrans</span> <span class="id" title="var">WildCat.Square</span> <span class="id" title="var">WildCat.Opposite</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1881"></a><h1 class="section">Building Symmetric Monoidal Categories</h1>

<div class="paragraph"> </div>

 The following construction is what we call the "twist construction". It is a way to build a symmetric monoidal category from simpler pieces than the axioms ask for.

<div class="paragraph"> </div>

The core observation is that the associator can be broken up into a <span class="inlinecode"><span class="id" title="var">braid</span></span> and what we call a <span class="inlinecode"><span class="id" title="var">twist</span></span> map. The twist map takes a right associated triple <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode">(<span class="id" title="var">B</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span>))</span> and swaps the first two factors <span class="inlinecode">(<span class="id" title="var">B</span>,</span> <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span>)</span>. Together with functoriality of the tensor and the braiding, here termed <span class="inlinecode"><span class="id" title="var">braid</span></span> we can simplify the axioms we ask for.

<div class="paragraph"> </div>

For instance, the hexagon identity is about associators, but if we unfold the definition and simplify the diagram, we get a diagram about only twists and braids.

<div class="paragraph"> </div>

This means in practice, you can show a category has a symmetric monoidal structure by proving some simpler axioms. This idea has been used in TriJoin.v to show the associativity of join for example. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">TwistConstruction</span>.<br/>
</div>

<div class="doc">
The aim of this section is to build a symmetric monoidal category. We do this piecewise so that the separate steps are useful in and of themselves.

<div class="paragraph"> </div>

  Our basic starting assumption is that we have a category with equivalences, a bifunctor called the tensor product, and a unit object.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cat_tensor</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">cat_tensor_unit</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{!<span class="id" title="var">Is0Bifunctor</span> <span class="id" title="var">cat_tensor</span>, !<span class="id" title="var">Is1Bifunctor</span> <span class="id" title="var">cat_tensor</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Next we postulate the existence of a <span class="inlinecode"><span class="id" title="var">braid</span></span> map. This takes a tensor pair and swaps the factors. We also postulate that <span class="inlinecode"><span class="id" title="var">braid</span></span> is natural in both factors and self-inverse. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">braid</span> : <span class="id" title="var">SymmetricBraiding</span> <span class="id" title="var">cat_tensor</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We postulate the existence of a <span class="inlinecode"><span class="id" title="var">twist</span></span> map. This takes a right associated triple <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode">(<span class="id" title="var">B</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span>))</span> and swaps the first two factors <span class="inlinecode">(<span class="id" title="var">B</span>,</span> <span class="inlinecode">(<span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span>)</span>. We also postulate that <span class="inlinecode"><span class="id" title="var">twist</span></span> is natural in all three factors and self-inverse. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>, <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) $-&gt; <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_twist</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>, <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> $== <span class="id" title="var">Id</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_nat</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">a'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">b'</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">c</span> $-&gt; <span class="id" title="var">c'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">twist</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span> <span class="id" title="var">c'</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap11</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">f</span> (<span class="id" title="var">fmap11</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">fmap11</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">g</span> (<span class="id" title="var">fmap11</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We assume that there is a natural isomorphism <span class="inlinecode"><span class="id" title="var">right_unitor</span></span> witnessing the right unit law. The left unit law will be derived from this one. We also assume a coherence called <span class="inlinecode"><span class="id" title="var">twist_unitor</span></span> which determines how the right_unitor interacts with <span class="inlinecode"><span class="id" title="var">braid</span></span> and <span class="inlinecode"><span class="id" title="var">twist</span></span>. This is the basis of the triangle axiom. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">right_unitor</span> : <span class="id" title="var">RightUnitor</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">cat_tensor_unit</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_unitor</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">right_unitor</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">braid</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">right_unitor</span> <span class="id" title="var">a</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">cat_tensor_unit</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The hexagon identity is about the interaction of associators and braids. We will derive this axiom from an analogous one for twists and braids. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_hexagon</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> (<span class="id" title="var">braid</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">braid</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">braid</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The 9-gon identity. TODO: explain this 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_9_gon</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> (<span class="id" title="var">braid</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">twist</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">braid</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">braid</span> <span class="id" title="var">b</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> (<span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> (<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">braid</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1882"></a><h3 class="section">Setup</h3>

<div class="paragraph"> </div>

 Before starting the proofs, we need to setup some useful definitions and helpful lemmas for working with diagrams. 
<div class="paragraph"> </div>

 We give notations and abbreviations to the morphisms that will appear in diagrams. This helps us read the goal and understand what is happening, otherwise it is too verbose. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">monoidal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Infix</span> &quot;⊗" := <span class="id" title="var">cat_tensor</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">monoidal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Infix</span> &quot;⊗R" := (<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">monoidal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Infix</span> &quot;⊗L" := (<span class="id" title="var">fmap10</span> <span class="id" title="var">cat_tensor</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">monoidal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> &quot;f ∘ g" := (<span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 61, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "f  '/' '∘'  g") : <span class="id" title="var">monoidal_scope</span>.<br/>
</div>

<div class="doc">
TODO: in 8.19 this notation causes issues, when updating to 8.20 we should uncomment this. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Local&nbsp;Notation&nbsp;"f&nbsp;==&nbsp;'/'&nbsp;&nbsp;'<span class="inlinecode"><span class="id" title="var">v'</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">'</span>'&nbsp;&nbsp;'/'&nbsp;:&gt;&nbsp;&nbsp;'<span class="inlinecode">'</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">'</span>'&nbsp;']'")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;long_path_scope.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">monoidal_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">twist</span></span> is an equivalence which we will call <span class="inlinecode"><span class="id" title="var">twiste</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">twiste</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) $&lt;~&gt; <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">cate_adjointify</span> (<span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">twist_twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) (<span class="id" title="var">twist_twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab1883"></a><h3 class="section">Finer naturality</h3>

<div class="paragraph"> </div>

 The naturality postulates we have for <span class="inlinecode"><span class="id" title="var">twist</span></span> are natural in all their arguments similtaneously. We show the finer naturality of <span class="inlinecode"><span class="id" title="var">twist</span></span> in each argument separately as this becomes more useful in practice. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">twist_nat_l</span> {<span class="id" title="var">a</span> <span class="id" title="var">a'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">a'</span>) <span class="id" title="var">b</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">twist</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap10</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">f</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">fmap10</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">f</span> <span class="id" title="var">c</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>^$) $@ <span class="id" title="var">twist_nat</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap10_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap11_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap10_is_fmap11</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">twist_nat_m</span> <span class="id" title="var">a</span> {<span class="id" title="var">b</span> <span class="id" title="var">b'</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">b</span> $-&gt; <span class="id" title="var">b'</span>) <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b'</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">fmap10</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">g</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">fmap10</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">g</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>^$) $@ <span class="id" title="var">twist_nat</span> <span class="id" title="var">a</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">c</span> <span class="id" title="var">c</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) <span class="id" title="var">g</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap10_is_fmap11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap10_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap11_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">twist_nat_r</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> {<span class="id" title="var">c</span> <span class="id" title="var">c'</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">c</span> $-&gt; <span class="id" title="var">c'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c'</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>^$) $@ <span class="id" title="var">twist_nat</span> <span class="id" title="var">a</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>) <span class="id" title="var">h</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap01_is_fmap11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_is_fmap11</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap01_is_fmap11</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1884"></a><h3 class="section">Movement lemmas</h3>

<div class="paragraph"> </div>

 Here we collect lemmas about moving morphisms around in a diagram. We could have created <span class="inlinecode"><span class="id" title="var">cate_moveL_eM</span></span>-style lemmas for <span class="inlinecode"><span class="id" title="var">CatIsEquiv</span></span> but this leads to a lot of unnecessary unfolding and duplication. It is typically easier to use a hand crafted lemma for each situation. 
<div class="paragraph"> </div>

 TODO: A lot of these proofs are copy and pasted between lemmas. We need to work out an efficient way of proving them. 
<div class="paragraph"> </div>

<a id="lab1885"></a><h4 class="section">Moving <span class="inlinecode"><span class="id" title="var">twist</span></span></h4>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveL_twistL</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">d</span> $-&gt; <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> -&gt; <span class="id" title="var">f</span> $== <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_monic_equiv</span> (<span class="id" title="var">twiste</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> ((<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">p</span> $@ <span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">_</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">twist_twist</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveL_twistR</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">_</span> $-&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $== <span class="id" title="var">g</span> -&gt; <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> (<span class="id" title="var">twiste</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>)^$)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">twist_twist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveR_twistL</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">d</span> $-&gt; <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistL</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveR_twistR</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">_</span> $-&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> $== <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistR</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveL_fmap01_twistL</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">e</span> $-&gt; <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">f</span> $== <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>) $<span class="id" title="var">o</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_monic_equiv</span> (<span class="id" title="var">emap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twiste</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span>^$ $@ (<span class="id" title="var">_</span>^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">twist_twist</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">p</span> $@ (<span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveL_fmap01_twistR</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">_</span> $-&gt; <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) $== <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cate_epic_equiv</span> (<span class="id" title="var">emap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twiste</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span>^$ $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>^$)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">twist_twist</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">p</span> $@ (<span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveR_fmap01_twistL</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">e</span> $-&gt; <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>) $<span class="id" title="var">o</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_twistL</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">moveR_fmap01_twistR</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> : <span class="id" title="var">_</span> $-&gt; <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">f</span> $== <span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>) $== <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_twistR</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1886"></a><h3 class="section">The associator</h3>

<div class="paragraph"> </div>

 Using <span class="inlinecode"><span class="id" title="var">braide</span></span> and <span class="inlinecode"><span class="id" title="var">twiste</span></span> we can build an associator. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">associator_twist'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) $&lt;~&gt; <span class="id" title="var">cat_tensor</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
We can build the associator out of <span class="inlinecode"><span class="id" title="var">braide</span></span> and <span class="inlinecode"><span class="id" title="var">twiste</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">braide</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">twiste</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $<span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">emap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">braide</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We would like to be able to unfold <span class="inlinecode"><span class="id" title="var">associator_twist'</span></span> to the underlying morphisms. We use this lemma to make that process easier. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">associator_twist'_unfold</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">cate_fun</span> (<span class="id" title="var">associator_twist'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">braid</span> <span class="id" title="var">c</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) $<span class="id" title="var">o</span> (<span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">braid</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@@ <span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cate_buildequiv_fun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now we can use <span class="inlinecode"><span class="id" title="var">associator_twist'</span></span> and show that it is a natural equivalence in each variable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">associator_twist</span> : <span class="id" title="var">Associator</span> <span class="id" title="var">cat_tensor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Associator</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">associator_twist'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> [[<span class="id" title="var">a</span> <span class="id" title="var">b</span>] <span class="id" title="var">c</span>] [[<span class="id" title="var">a'</span> <span class="id" title="var">b'</span>] <span class="id" title="var">c'</span>] [[<span class="id" title="var">f</span> <span class="id" title="var">g</span>] <span class="id" title="var">h</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">g</span>, <span class="id" title="var">h</span>.<br/>
</div>

<div class="doc">
To prove naturality it will be easier to reason about squares. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">w</span> $<span class="id" title="var">o</span> ?<span class="id" title="var">x</span> $== ?<span class="id" title="var">y</span> $<span class="id" title="var">o</span> ?<span class="id" title="var">z</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">Square</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
</div>

<div class="doc">
First we remove all the equivalences from the equation. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">hconcatL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">associator_twist'_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">hconcatR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">associator_twist'_unfold</span>.<br/>
</div>

<div class="doc">
The first square involving <span class="inlinecode"><span class="id" title="var">braid</span></span> on its own is a naturality square. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">vconcat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">rapply</span> <span class="id" title="var">braid_nat</span>.<br/>
</div>

<div class="doc">
The second square is just the naturality of twist. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">vconcat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">twist_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">hconcatL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">nrapply</span> <span class="id" title="var">hconcatR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">fmap01_is_fmap11</span>.<br/>
</div>

<div class="doc">
Leaving us with a square with a functor application. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">fmap11_square</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">vrefl</span>.<br/>
</div>

<div class="doc">
We are finally left with the naturality of braid. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We abbreviate the associator to <span class="inlinecode"><span class="id" title="var">α</span></span> for the remainder of the section. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <span class="id" title="var">α</span> := <span class="id" title="var">associator_twist</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1887"></a><h3 class="section">Unitors</h3>

<div class="paragraph"> </div>

 Since we assume the <span class="inlinecode"><span class="id" title="var">right_unitor</span></span> exists, we can derive the <span class="inlinecode"><span class="id" title="var">left_unitor</span></span> from it together with <span class="inlinecode"><span class="id" title="var">braid</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">left_unitor_twist</span> : <span class="id" title="var">LeftUnitor</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">cat_tensor_unit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatEquiv'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatTrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">right_unitor</span> <span class="id" title="var">a</span> $<span class="id" title="var">o</span> <span class="id" title="var">braid</span> <span class="id" title="var">cat_tensor_unit</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">w</span> $<span class="id" title="var">o</span> ?<span class="id" title="var">x</span> $== ?<span class="id" title="var">y</span> $<span class="id" title="var">o</span> ?<span class="id" title="var">z</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">Square</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">vconcat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">rapply</span> (<span class="id" title="var">isnat</span> <span class="id" title="var">right_unitor</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">compose_catie'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">catie_braid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1888"></a><h3 class="section">Triangle</h3>

<div class="paragraph"> </div>

 The triangle identity can easily be proven by rearranging the diagram, cancelling and using naturality of <span class="inlinecode"><span class="id" title="var">braid</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">triangle_twist</span> : <span class="id" title="var">TriangleIdentity</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">cat_tensor_unit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">associator_twist'_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> (<span class="id" title="var">cate_buildequiv_fun</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">twist_unitor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1889"></a><h3 class="section">Pentagon</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">long_path_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">pentagon_twist</span> : <span class="id" title="var">PentagonIdentity</span> <span class="id" title="var">cat_tensor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">twist_unitor</span> <span class="id" title="var">right_unitor</span> <span class="id" title="var">cat_tensor_unit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@@ <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span> $@ ((<span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>)^$ $@@ (<span class="id" title="var">_</span> $@@ (<span class="id" title="var">fmap20</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>))^$)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2,4,6,7: <span class="id" title="tactic">apply</span> <span class="id" title="var">associator_twist'_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">refine</span> (<span class="id" title="var">fmap10_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">fmap10_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
</div>

<div class="doc">
We use a notation defined above that shows the base type of the groupoid hom and formats the equation in a way that is easier to read.  Normalize brackets on LHS 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Normalize brackets on RHS 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Cancel two braids next to eachother. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_fmap01_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_braid</span>.<br/>
</div>

<div class="doc">

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_fmap01_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
</div>

<div class="doc">
Putting things back. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_fmap01_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_twistR</span>.<br/>
</div>

<div class="doc">
There are two braids on the RHS of the LHS that can be swapped. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_braidR</span>.<br/>
</div>

<div class="doc">
Naturality of twist on the RHS of the LHS. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">twist_nat_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Moving some things to the RHS so that we can braid and cancel on the LHS. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_nat_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap02</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap01_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_braid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_braidR</span>.<br/>
</div>

<div class="doc">
We are almost at the desired 9-gon. Now we cancel the inner braid on the LHS. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
Now we move terms around in order to get a homotopy in <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode">(<span class="id" title="var">b</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode">(<span class="id" title="var">d</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode"><span class="id" title="var">c</span>))</span> <span class="inlinecode">$-&gt;</span> <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode">(<span class="id" title="var">c</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode">(<span class="id" title="var">a</span></span> <span class="inlinecode">⊗</span> <span class="inlinecode"><span class="id" title="var">b</span>))</span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_braidL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">refine</span> ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">_</span>).<br/>
</div>

<div class="doc">
And finally, this is the 9-gon we asked for. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">twist_9_gon</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">long_path_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1890"></a><h3 class="section">Hexagon</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">hexagon_twist</span> : <span class="id" title="var">HexagonIdentity</span> <span class="id" title="var">cat_tensor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@@ (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>))^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,3,4: <span class="id" title="tactic">apply</span> <span class="id" title="var">associator_twist'_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">refine</span> (((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@ <span class="id" title="var">fmap2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">fmap_id</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">braid_braid</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ ((<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (((<span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>)^$ $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>^$)) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">braid_braid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (((<span class="id" title="var">braid_nat_r</span> <span class="id" title="var">_</span>)^$ $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span>) $@ (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_fmap01_braidR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">twist_hexagon</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1891"></a><h3 class="section">Conclusion</h3>

<div class="paragraph"> </div>

 In conclusion, we have proven the following: 
<div class="paragraph"> </div>

 There is a monoidal structure on <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">ismonoidal_twist</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsMonoidal</span> <span class="id" title="var">A</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">cat_tensor_unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
There is a symmetric monoidal category on <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <span class="id" title="var">issymmetricmonoidal_twist</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsSymmetricMonoidal</span> <span class="id" title="var">A</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">cat_tensor_unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
TODO: WIP 
<div class="paragraph"> </div>

 Here is a hexagon involving only twist 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">twist_hex'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> (<span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> (<span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;$== <span class="id" title="var">twist</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">fmap01</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span> (<span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<span class="id" title="var">o</span> <span class="id" title="var">twist</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">cat_tensor</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">twist_hexagon</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistL</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_fmap01_braidL</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">fmap02</span> <span class="id" title="var">cat_tensor</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">p</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>)); <span class="id" title="tactic">clear</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_twistL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ (<span class="id" title="var">fmap01_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^$).<br/>
</div>

<div class="doc">
TODO simplify 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_twistL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@ <span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">TwistConstruction</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>