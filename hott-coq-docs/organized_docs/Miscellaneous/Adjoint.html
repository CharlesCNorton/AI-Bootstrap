<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Adjoint</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Adjoint</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics.Utf8</span> <span class="id" title="var">Basics.Overture</span> <span class="id" title="var">Basics.Tactics</span> <span class="id" title="var">Basics.Equivalences</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.NatTrans</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Equiv</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Prod</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Opposite</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Yoneda</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.FunctorCat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Universe</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Types.Prod</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable Variables</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1808"></a><h2 class="section">Notions of adjunctions in wild categories.</h2>

<div class="paragraph"> </div>

 We try to capture a wild notion of (oo,1)-adjunctions since these are the ones that commonly appear in practice. Special cases include the standard 1-categorical adjunction.

<div class="paragraph"> </div>

There are notions of 2-adjunction/biadjunction/higher adjunction but it is not clear if this generality is useful.

<div class="paragraph"> </div>

We will define an adjunction to be an equivalence (in Type) between corresponding hom-types. This is a more immediately useful definition than others we can consider.

<div class="paragraph"> </div>

We should also be able to define "F having a left adjoint" as the initial object of a slice category C / F. However this seems like too much work for now, and it is not immediately obvious how it ties back to the adjunction isomorphism.

<div class="paragraph"> </div>

In the future, it ought to be possible to generalize this definition to live inside a given bicategory, however due to current structural issues in the WildCat library, writing down a usable definition of bicategory requires a lot of effort.

<div class="paragraph"> </div>

<a id="lab1809"></a><h1 class="section">Definition of adjunction</h1>

<div class="paragraph"> </div>

<a id="lab1810"></a><h2 class="section">Definition of adjunction</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Adjunction</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>} :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">equiv_adjunction</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">D</span>) : (<span class="id" title="var">F</span> <span class="id" title="var">x</span> $-&gt; <span class="id" title="var">y</span>) &lt;~&gt; (<span class="id" title="var">x</span> $-&gt; <span class="id" title="var">G</span> <span class="id" title="var">y</span>) ;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
Naturality condition in both varibles seperately  The left variable is a bit trickier to state since we have opposite categories involved. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">is1natural_equiv_adjunction_l</span> (<span class="id" title="var">y</span> : <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">A</span> := <span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We have to explicitly give a witness to the functoriality of <span class="inlinecode"><span class="id" title="var">yon</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_F</span> := <span class="id" title="var">is0functor_compose</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">D</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">C</span>:=<span class="id" title="keyword">Type</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span>) ;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
Naturality in the right variable 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">is1natural_equiv_adjunction_r</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">opyon</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">opyon</span> <span class="id" title="var">x</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>) (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">x</span>) ; <br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">equiv_adjunction</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_C</span> <span class="id" title="var">is2graph_C</span> <span class="id" title="var">is01cat_C</span> <span class="id" title="var">is1cat_C</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_D</span> <span class="id" title="var">is2graph_D</span> <span class="id" title="var">is01cat_D</span> <span class="id" title="var">is1cat_D</span><br/>
&nbsp;&nbsp;<span class="id" title="var">is0functor_F</span> <span class="id" title="var">is0functor_G</span>} <span class="id" title="var">adj</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">is1natural_equiv_adjunction_l</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_C</span> <span class="id" title="var">is2graph_C</span> <span class="id" title="var">is01cat_C</span> <span class="id" title="var">is1cat_C</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_D</span> <span class="id" title="var">is2graph_D</span> <span class="id" title="var">is01cat_D</span> <span class="id" title="var">is1cat_D</span><br/>
&nbsp;&nbsp;<span class="id" title="var">is0functor_F</span> <span class="id" title="var">is0functor_G</span>} <span class="id" title="var">adj</span> <span class="id" title="var">y</span> : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">is1natural_equiv_adjunction_r</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_C</span> <span class="id" title="var">is2graph_C</span> <span class="id" title="var">is01cat_C</span> <span class="id" title="var">is1cat_C</span><br/>
&nbsp;&nbsp;<span class="id" title="var">isgraph_D</span> <span class="id" title="var">is2graph_D</span> <span class="id" title="var">is01cat_D</span> <span class="id" title="var">is1cat_D</span><br/>
&nbsp;&nbsp;<span class="id" title="var">is0functor_F</span> <span class="id" title="var">is0functor_G</span>} <span class="id" title="var">adj</span> <span class="id" title="var">x</span> : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Global Existing Instances</span><br/>
&nbsp;&nbsp;<span class="id" title="var">is1natural_equiv_adjunction_l</span><br/>
&nbsp;&nbsp;<span class="id" title="var">is1natural_equiv_adjunction_r</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;F ⊣ G" := (<span class="id" title="var">Adjunction</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>).<br/>

<br/>
</div>

<div class="doc">
TODO: move but where? 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fun01_profunctor</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is0Functor</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">F</span>, <span class="id" title="var">Is0Functor</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">G</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Fun01</span> (<span class="id" title="var">A</span>^<span class="id" title="var">op</span> * <span class="id" title="var">C</span>) (<span class="id" title="var">B</span>^<span class="id" title="var">op</span> * <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Fun01</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">is0functor_prod_functor</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fun01_hom</span> {<span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Is01Cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Fun01</span> (<span class="id" title="var">C</span>^<span class="id" title="var">op</span> * <span class="id" title="var">C</span>) <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">Build_Fun01</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">is0functor_hom</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1811"></a><h2 class="section">Natural equivalences coming from adjunctions.</h2>

<div class="paragraph"> </div>

 There are various bits of data we would like to extract from adjunctions. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">AdjunctionData</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>} {<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">C</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">G</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">adj</span> : <span class="id" title="var">Adjunction</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">natequiv_adjunction_l</span> (<span class="id" title="var">y</span> : <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">NatEquiv</span> (<span class="id" title="var">A</span> := <span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We have to explicitly give a witness to the functoriality of <span class="inlinecode"><span class="id" title="var">yon</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_F</span> := <span class="id" title="var">is0functor_compose</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">D</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">C</span>:=<span class="id" title="keyword">Type</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">Build_NatEquiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is1natural_equiv_adjunction_l</span> <span class="id" title="var">adj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">natequiv_adjunction_r</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">NatEquiv</span> (<span class="id" title="var">opyon</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">opyon</span> <span class="id" title="var">x</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">Build_NatEquiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is1natural_equiv_adjunction_r</span> <span class="id" title="var">adj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We also have the natural equivalence in both arguments at the same time.  In order to manage the typeclass instances, we have to bundle them up into Fun01. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">natequiv_adjunction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">NatEquiv</span> (<span class="id" title="var">A</span> := <span class="id" title="var">C</span>^<span class="id" title="var">op</span> * <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fun01_compose</span> <span class="id" title="var">fun01_hom</span> (<span class="id" title="var">fun01_profunctor</span> <span class="id" title="var">F</span> <span class="id" title="var">idmap</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fun01_compose</span> <span class="id" title="var">fun01_hom</span> (<span class="id" title="var">fun01_profunctor</span> <span class="id" title="var">idmap</span> <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatEquiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>]; <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>] [<span class="id" title="var">a'</span> <span class="id" title="var">b'</span>] [<span class="id" title="var">f</span> <span class="id" title="var">g</span>] <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">G</span> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">x</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1natural_equiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">g</span> <span class="id" title="var">K</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">is1natural_equiv_adjunction_l</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span> $<span class="id" title="var">o</span> <span class="id" title="var">K</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The counit of an adjunction 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">adjunction_counit</span> : <span class="id" title="var">NatTrans</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">G</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatTrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">x</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">GpdHom_path</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span>^ @ <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">is1natural_equiv_adjunction_l</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="var">is1natural_equiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>) (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_ap'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Square.vrefl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The unit of an adjunction 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">adjunction_unit</span> : <span class="id" title="var">NatTrans</span> (<span class="id" title="var">F</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>) <span class="id" title="var">idmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatTrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>) <span class="id" title="var">y</span>)^-1 (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">GpdHom_path</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span>^ @ <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">natequiv_inverse</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">G</span> <span class="id" title="var">y'</span>) <span class="id" title="var">_</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">G</span> <span class="id" title="var">f</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> (<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">natequiv_inverse</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_r</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_ap_inv'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Square.vrefl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">triangle_helper1</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> = <span class="id" title="var">fmap</span> <span class="id" title="var">G</span> <span class="id" title="var">f</span> $<span class="id" title="var">o</span> <span class="id" title="var">adjunction_counit</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">is1natural_equiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">cbv</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">cat_idr_strong</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">triangle_helper2</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)^-1 <span class="id" title="var">g</span> = <span class="id" title="var">adjunction_unit</span> <span class="id" title="var">y</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> (<span class="id" title="var">n1</span> := <span class="id" title="var">is1natural_natequiv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_inverse</span> (<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">n1</span>; <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">n1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">cat_idl_strong</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">adjunction_triangle1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Transformation</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_comp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_prewhisker</span> <span class="id" title="var">adjunction_unit</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_postwhisker</span> <span class="id" title="var">F</span> <span class="id" title="var">adjunction_counit</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> $-&gt; <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> $-&gt; <span class="id" title="var">Id</span> (<span class="id" title="var">F</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eissect</span> (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">Id</span> (<span class="id" title="var">F</span> <span class="id" title="var">c</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">triangle_helper2</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span> <span class="id" title="var">c</span>) (<span class="id" title="var">adjunction_counit</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">adjunction_triangle2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Transformation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_comp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_postwhisker</span> <span class="id" title="var">G</span> <span class="id" title="var">adjunction_unit</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_prewhisker</span> <span class="id" title="var">adjunction_counit</span> <span class="id" title="var">G</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> $-&gt; <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> $-&gt; <span class="id" title="var">Id</span> (<span class="id" title="var">G</span> <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eisretr</span> (<span class="id" title="var">equiv_adjunction</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">Id</span> (<span class="id" title="var">G</span> <span class="id" title="var">d</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">triangle_helper1</span> (<span class="id" title="var">G</span> <span class="id" title="var">d</span>) <span class="id" title="var">_</span> (<span class="id" title="var">adjunction_unit</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">AdjunctionData</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1812"></a><h2 class="section">Building adjunctions</h2>

<div class="paragraph"> </div>

 There are various ways to build an adjunction. 
<div class="paragraph"> </div>

 A natural equivalence between functors <span class="inlinecode"><span class="id" title="var">D</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> which is also natural in the left. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Adjunction_natequiv_nat_left</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>} <br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">NatEquiv</span> (<span class="id" title="var">opyon</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">opyon</span> <span class="id" title="var">x</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">is1nat_e</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">A</span> := <span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
We have to explicitly give a witness to the functoriality of <span class="inlinecode"><span class="id" title="var">yon</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><span class="id" title="var">F</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_F</span> := <span class="id" title="var">is0functor_compose</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">D</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">C</span>:=<span class="id" title="keyword">Type</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">Adjunction</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">is1nat_e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">e</span> <span class="id" title="var">x</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A natural equivalence between functors <span class="inlinecode"><span class="id" title="var">C</span>^<span class="id" title="var">op</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> which is also natural in the left. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Adjunction_natequiv_nat_right</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>} <br/>
&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <span class="id" title="var">NatEquiv</span> (<span class="id" title="var">A</span> := <span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>) (<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_F</span> := <span class="id" title="var">is0functor_compose</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">D</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">C</span>:=<span class="id" title="keyword">Type</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">is1nat_e</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">opyon</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">opyon</span> <span class="id" title="var">x</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">Adjunction</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">e</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">is1nat_e</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: A natural equivalence between functors <span class="inlinecode"><span class="id" title="var">C</span>^<span class="id" title="var">op</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">D</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">UnitCounitAdjunction</span>.<br/>

<br/>
</div>

<div class="doc">
From the data of an adjunction: unit, counit, left triangle, right triangle 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">Is1Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is1Functor</span> <span class="id" title="var">G</span>}<br/>
&nbsp;&nbsp;`{!<span class="id" title="var">HasMorExt</span> <span class="id" title="var">C</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ε</span> : <span class="id" title="var">NatTrans</span> (<span class="id" title="var">F</span> <span class="id" title="var">o</span> <span class="id" title="var">G</span>) <span class="id" title="var">idmap</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">η</span> : <span class="id" title="var">NatTrans</span> <span class="id" title="var">idmap</span> (<span class="id" title="var">G</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">t1</span> : <span class="id" title="var">Transformation</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_comp</span> (<span class="id" title="var">nattrans_prewhisker</span> <span class="id" title="var">ε</span> <span class="id" title="var">F</span>) (<span class="id" title="var">nattrans_postwhisker</span> <span class="id" title="var">F</span> <span class="id" title="var">η</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_id</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">t2</span> : <span class="id" title="var">Transformation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_comp</span> (<span class="id" title="var">nattrans_postwhisker</span> <span class="id" title="var">G</span> <span class="id" title="var">ε</span>) (<span class="id" title="var">nattrans_prewhisker</span> <span class="id" title="var">η</span> <span class="id" title="var">G</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nattrans_id</span> <span class="id" title="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
We can construct an equivalence between homs 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">γ</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : (<span class="id" title="var">F</span> <span class="id" title="var">a</span> $-&gt; <span class="id" title="var">b</span>) $&lt;~&gt; (<span class="id" title="var">a</span> $-&gt; <span class="id" title="var">G</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_adjointify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">fmap</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> $<span class="id" title="var">o</span> (<span class="id" title="var">η</span> : <span class="id" title="var">_</span> $=&gt; <span class="id" title="var">_</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">ε</span> : <span class="id" title="var">_</span> $=&gt; <span class="id" title="var">_</span>) <span class="id" title="var">b</span> $<span class="id" title="var">o</span> <span class="id" title="var">fmap</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fmap_comp</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> (<span class="id" title="var">isnat</span> <span class="id" title="var">η</span> <span class="id" title="var">f</span>)^$) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">R</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">cat_idl</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">t2</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_hom</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">fmap_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc_opp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (((<span class="id" title="var">isnat</span> <span class="id" title="var">ε</span> <span class="id" title="var">g</span>) $@<span class="id" title="var">R</span> <span class="id" title="var">_</span>) $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cat_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> $@<span class="id" title="var">L</span> <span class="id" title="var">_</span> $@ <span class="id" title="var">cat_idr</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">t1</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Which is natural in the left 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is1natural_γ_l</span> (<span class="id" title="var">y</span> : <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>) (<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_F</span> := <span class="id" title="var">is0functor_compose</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">C</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">D</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">C</span>:=<span class="id" title="keyword">Type</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is0functor_G</span> := <span class="id" title="var">is0functor_yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">C</span>^<span class="id" title="var">op</span> =&gt; <span class="id" title="var">γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">natequiv_inverse</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Build_NatEquiv</span> (<span class="id" title="var">yon</span> (<span class="id" title="var">G</span> <span class="id" title="var">y</span>)) (<span class="id" title="var">yon</span> <span class="id" title="var">y</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">γ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)^-1$) <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">is1natural_yoneda</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">is1functor_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">nrapply</span> <span class="id" title="var">is1functor_op</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">is1functor_opyon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">hasmorext_op</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And natural in the right. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is1natural_γ_r</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Is1Natural</span> (<span class="id" title="var">opyon</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x0</span> : <span class="id" title="var">D</span> =&gt; <span class="id" title="var">opyon</span> <span class="id" title="var">x</span> (<span class="id" title="var">G</span> <span class="id" title="var">x0</span>)) (<span class="id" title="var">γ</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">is1natural_opyoneda</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Together this constructs an adjunction. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_Adjunction_unit_counit</span> : <span class="id" title="var">Adjunction</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">γ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is1natural_γ_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is1natural_γ_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">UnitCounitAdjunction</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1813"></a><h1 class="section">Properties of adjunctions</h1>

<div class="paragraph"> </div>

<a id="lab1814"></a><h2 class="section">Postcomposition adjunction</h2>
 There are at least two easy proofs of the following on paper:
 1. Using ends: Hom(F*x,y) ≃ ∫<i>c Hom(Fxc,yc) ≃ ∫<i>c Hom(xc,Gyc) ≃ Hom(x,G*y)
 2. 2-cat theory: postcomp (-)* is a 2-functor so preserves adjunctions.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">adjunction_postcomp</span> (<span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">J</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">C</span>, <span class="id" title="var">HasEquivs</span> <span class="id" title="var">D</span>, <span class="id" title="var">Is01Cat</span> <span class="id" title="var">J</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">Fun11</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">Fun11</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{!<span class="id" title="var">HasMorExt</span> <span class="id" title="var">C</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">D</span>, !<span class="id" title="var">HasMorExt</span> (<span class="id" title="var">Fun01</span> <span class="id" title="var">J</span> <span class="id" title="var">C</span>), !<span class="id" title="var">HasMorExt</span> (<span class="id" title="var">Fun01</span> <span class="id" title="var">J</span> <span class="id" title="var">D</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G</span> -&gt; <span class="id" title="var">fun11_fun01_postcomp</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">J</span>) <span class="id" title="var">F</span> ⊣ <span class="id" title="var">fun11_fun01_postcomp</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">J</span>) <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">adj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_Adjunction_unit_counit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatTrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">nattrans_prewhisker</span> (<span class="id" title="var">adjunction_unit</span> <span class="id" title="var">adj</span>) <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> <span class="id" title="var">K'</span> <span class="id" title="var">θ</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">GpdHom_path</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">natequiv_inverse</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">is1natural_natequiv</span> (<span class="id" title="var">natequiv_inverse</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span>(<span class="id" title="var">cat_idl_strong</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cat_idr_strong</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_NatTrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">nattrans_prewhisker</span> (<span class="id" title="var">adjunction_counit</span> <span class="id" title="var">adj</span>) <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Is1Natural</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> <span class="id" title="var">K'</span> <span class="id" title="var">θ</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">GpdHom_path</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">is1natural_natequiv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">is1natural_natequiv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span>(<span class="id" title="var">cat_idl_strong</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cat_idr_strong</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">trans_prewhisker</span> (<span class="id" title="var">adjunction_triangle1</span> <span class="id" title="var">adj</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">trans_prewhisker</span> (<span class="id" title="var">adjunction_triangle2</span> <span class="id" title="var">adj</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can compose adjunctions. Notice how the middle category must have equivalences. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">adjunction_compose</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">F'</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">G'</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">A</span>, <span class="id" title="var">HasEquivs</span> <span class="id" title="var">B</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;`{!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F'</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G'</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G</span> -&gt; <span class="id" title="var">F'</span> ⊣ <span class="id" title="var">G'</span> -&gt; <span class="id" title="var">F'</span> <span class="id" title="var">o</span> <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G</span> <span class="id" title="var">o</span> <span class="id" title="var">G'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">adj1</span> <span class="id" title="var">adj2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction_natequiv_nat_right</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">natequiv_compose</span> (<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">adj1</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">natequiv_prewhisker</span> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>^<span class="id" title="var">op</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">adj2</span> <span class="id" title="var">y</span>) <span class="id" title="var">F</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">is1natural_comp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> (<span class="id" title="var">is1natural_prewhisker</span> <span class="id" title="var">G'</span> (<span class="id" title="var">natequiv_adjunction_r</span> <span class="id" title="var">adj1</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">is1natural_equiv_adjunction_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Replace the left functor in an adjunction by a naturally equivalent one. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">adjunction_natequiv_left</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> <span class="id" title="var">F'</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Is1Cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">HasEquivs</span> <span class="id" title="var">D</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F'</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>} <br/>
&nbsp;&nbsp;: <span class="id" title="var">NatEquiv</span> <span class="id" title="var">F</span> <span class="id" title="var">F'</span> -&gt; <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G</span> -&gt; <span class="id" title="var">F'</span> ⊣ <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">adj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction_natequiv_nat_right</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">natequiv_compose</span> (<span class="id" title="var">natequiv_adjunction_l</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">natequiv_postwhisker</span> <span class="id" title="var">_</span> (<span class="id" title="var">natequiv_op</span> <span class="id" title="var">e</span>)). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">is1natural_comp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Replace the right functor in an adjunction by a naturally equivalent one. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">adjunction_natequiv_right</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">G</span> <span class="id" title="var">G'</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">HasEquivs</span> <span class="id" title="var">C</span>, <span class="id" title="var">Is1Cat</span> <span class="id" title="var">D</span>, !<span class="id" title="var">HasMorExt</span> <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<span class="id" title="var">Is0Functor</span> <span class="id" title="var">F</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G</span>, !<span class="id" title="var">Is0Functor</span> <span class="id" title="var">G'</span>} <br/>
&nbsp;&nbsp;: <span class="id" title="var">NatEquiv</span> <span class="id" title="var">G</span> <span class="id" title="var">G'</span> -&gt; <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G</span> -&gt; <span class="id" title="var">F</span> ⊣ <span class="id" title="var">G'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">adj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Adjunction_natequiv_nat_left</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">natequiv_compose</span> <span class="id" title="var">_</span> (<span class="id" title="var">natequiv_adjunction_r</span> <span class="id" title="var">adj</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">natequiv_postwhisker</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">is1natural_comp</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">is1natural_yoneda</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>