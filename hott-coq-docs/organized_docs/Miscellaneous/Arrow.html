<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Arrow</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Arrow</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab1640"></a><h1 class="section">Theorems about Non-dependent function types</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics.Overture</span> <span class="id" title="var">Basics.PathGroupoids</span> <span class="id" title="var">Basics.Decidable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Basics.Equivalences</span> <span class="id" title="var">Basics.Trunc</span> <span class="id" title="var">Basics.Tactics</span> <span class="id" title="var">Basics.Iff</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Types.Forall</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Universe</span> <span class="id" title="var">Minimization</span> <span class="id" title="var">ToSet</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable Variables</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">arrow@</span>{<span class="id" title="var">u</span> <span class="id" title="var">u0</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>}) (<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u0</span>}) := <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <span class="id" title="var">IsReflexive_arrow</span> : <span class="id" title="var">Reflexive</span> <span class="id" title="var">arrow</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">idmap</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <span class="id" title="var">IsTransitive_arrow</span> : <span class="id" title="var">Transitive</span> <span class="id" title="var">arrow</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">compose</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">AssumeFunext</span>.<br/>
<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Funext</span>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1641"></a><h2 class="section">Paths</h2>

<div class="paragraph"> </div>

 As for dependent functions, paths <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">g</span></span> in a function type <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">B</span></span> are equivalent to functions taking values in path types, <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">x</span>:<span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>, or concisely <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">==</span> <span class="inlinecode"><span class="id" title="var">g</span></span>.  These are all given in the <span class="inlinecode"><span class="id" title="var">Overture</span></span>, but we can give them separate names for clarity in the non-dependent case. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">f</span> == <span class="id" title="var">g</span>) -&gt; (<span class="id" title="var">f</span> = <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
</div>

<div class="doc">
There are a number of combinations of dependent and non-dependent for <span class="inlinecode"><span class="id" title="var">apD10_path_forall</span></span>; we list all of the combinations as helpful lemmas for rewriting. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap10_path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap10</span> (<span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>) == <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">apD10_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">apD10_path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD10</span> (<span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>) == <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">apD10_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap10_path_forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap10</span> (<span class="id" title="var">path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>) == <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">apD10_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eta_path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> = <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap10</span> <span class="id" title="var">p</span>) = <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">eta_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_arrow_1</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; 1)) = 1<br/>
&nbsp;&nbsp;:= <span class="id" title="var">eta_path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span> 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_ap10</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">f</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;: (<span class="id" title="var">f</span> = <span class="id" title="var">g</span>) &lt;~&gt; (<span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<span class="id" title="var">ap10</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) | 0<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isequiv_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">f</span> == <span class="id" title="var">g</span>) &lt;~&gt; (<span class="id" title="var">f</span> = <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
</div>

<div class="doc">
Function extensionality for two-variable functions 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_arrow2</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">g</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) &lt;~&gt; <span class="id" title="var">f</span> = <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_arrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_forall_id</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_arrow</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap100_path_arrow2</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">Z</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">g</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap100</span> (<span class="id" title="var">equiv_path_arrow2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> = <span class="id" title="var">h</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ap100</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">ap10</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">apD10_path_arrow</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">apD10_path_arrow</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1642"></a><h2 class="section">Path algebra</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_arrow_pp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">g</span> == <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">p</span> <span class="id" title="var">x</span> @ <span class="id" title="var">q</span> <span class="id" title="var">x</span>) = <span class="id" title="var">path_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> @ <span class="id" title="var">path_arrow</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">path_forall_pp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1643"></a><h2 class="section">Transport</h2>

<div class="paragraph"> </div>

 Transporting in non-dependent function types is somewhat simpler than in dependent ones. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_arrow</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x1</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span>) <span class="id" title="var">y</span>  =  <span class="id" title="var">p</span> # (<span class="id" title="var">f</span> (<span class="id" title="var">p</span>^ # <span class="id" title="var">y</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is an improvement to <span class="inlinecode"><span class="id" title="var">transport_arrow</span></span>.  That result only shows that the functions are homotopic, but even without funext, we can prove that these functions are equal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_arrow'</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span> = <span class="id" title="var">transport</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">transport</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span>^.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_arrow_toconst</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span>) <span class="id" title="var">y</span>  =  <span class="id" title="var">f</span> (<span class="id" title="var">p</span>^ # <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is an improvement to <span class="inlinecode"><span class="id" title="var">transport_arrow_toconst</span></span>.  That result shows that the functions are homotopic, but even without funext, we can prove that these functions are equal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_arrow_toconst'</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span> = <span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">transport</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span>^.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">transport_arrow_fromconst</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x1</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span>) <span class="id" title="var">y</span>  =  <span class="id" title="var">p</span> # (<span class="id" title="var">f</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And some naturality and coherence for these laws. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_transport_arrow_toconst</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span>) {<span class="id" title="var">y1</span> <span class="id" title="var">y2</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span>} (<span class="id" title="var">q</span> : <span class="id" title="var">y1</span> = <span class="id" title="var">y2</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span>) <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">transport_arrow_toconst</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">y2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transport_arrow_toconst</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">y1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">f</span> (<span class="id" title="var">p</span>^ # <span class="id" title="var">y</span>)) <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1644"></a><h2 class="section">Dependent paths</h2>

<div class="paragraph"> </div>

 Usually, a dependent path over <span class="inlinecode"><span class="id" title="var">p</span>:<span class="id" title="var">x1</span>=<span class="id" title="var">x2</span></span> in <span class="inlinecode"><span class="id" title="var">P</span>:<span class="id" title="var">A</span>-&gt;<span class="id" title="keyword">Type</span></span> between <span class="inlinecode"><span class="id" title="var">y1</span>:<span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">x1</span></span> and <span class="inlinecode"><span class="id" title="var">y2</span>:<span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span> is a path <span class="inlinecode"><span class="id" title="var">transport</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">y1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">y2</span></span> in <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span>.  However, when <span class="inlinecode"><span class="id" title="var">P</span></span> is a function space, these dependent paths have a more convenient description: rather than transporting the argument of <span class="inlinecode"><span class="id" title="var">y1</span></span> forwards and backwards, we transport only forwards but on both sides of the equation, yielding a "naturality square". 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dpath_arrow</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span>:<span class="id" title="var">A</span>} (<span class="id" title="var">p</span>:<span class="id" title="var">x1</span>=<span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x1</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> (<span class="id" title="var">y1</span>:<span class="id" title="var">B</span> <span class="id" title="var">x1</span>), <span class="id" title="var">transport</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span> (<span class="id" title="var">f</span> <span class="id" title="var">y1</span>) = <span class="id" title="var">g</span> (<span class="id" title="var">transport</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span> <span class="id" title="var">y1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span> = <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_arrow</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap10_dpath_arrow</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x1</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">y1</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span>), <span class="id" title="var">transport</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span> (<span class="id" title="var">f</span> <span class="id" title="var">y1</span>) = <span class="id" title="var">g</span> (<span class="id" title="var">transport</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span> <span class="id" title="var">y1</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">u</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap10</span> (<span class="id" title="var">dpath_arrow</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>) (<span class="id" title="var">p</span> # <span class="id" title="var">u</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transport_arrow</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> (<span class="id" title="var">p</span> # <span class="id" title="var">u</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">p</span> # (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">transport_Vp</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span> <span class="id" title="var">u</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">h</span> <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">ap10</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">apD10_path_forall</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">u</span> @ (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1645"></a><h2 class="section">Maps on paths</h2>

<div class="paragraph"> </div>

 The action of maps given by application. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_apply_l</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">z</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">z</span>) <span class="id" title="var">p</span> = <span class="id" title="var">ap10</span> <span class="id" title="var">p</span> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_apply_Fl</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">z</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">M</span> <span class="id" title="var">a</span>) <span class="id" title="var">z</span>) <span class="id" title="var">p</span> = <span class="id" title="var">ap10</span> (<span class="id" title="var">ap</span> <span class="id" title="var">M</span> <span class="id" title="var">p</span>) <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> 1 =&gt; 1 <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_apply_Fr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">z</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">N</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">z</span> (<span class="id" title="var">N</span> <span class="id" title="var">a</span>)) <span class="id" title="var">p</span> = <span class="id" title="var">ap01</span> <span class="id" title="var">z</span> (<span class="id" title="var">ap</span> <span class="id" title="var">N</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;:= (<span class="id" title="var">ap_compose</span> <span class="id" title="var">N</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_apply_FlFr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">N</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">M</span> <span class="id" title="var">a</span>) (<span class="id" title="var">N</span> <span class="id" title="var">a</span>)) <span class="id" title="var">p</span> = <span class="id" title="var">ap11</span> (<span class="id" title="var">ap</span> <span class="id" title="var">M</span> <span class="id" title="var">p</span>) (<span class="id" title="var">ap</span> <span class="id" title="var">N</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> 1 =&gt; 1 <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The action of maps given by lambda. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_lambda</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">M</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">path_arrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">M</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_arrow_1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1646"></a><h2 class="section">Functorial action</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_arrow</span> `(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>) `(<span class="id" title="var">g</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">C</span>) -&gt; (<span class="id" title="var">B</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">functor_forall</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">D</span>) <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">not_contrapositive</span> `(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">not</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="var">not</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">functor_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">idmap</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iff_not@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">k</span> | <span class="id" title="var">u</span> &lt;= <span class="id" title="var">k</span>, <span class="id" title="var">v</span> &lt;= <span class="id" title="var">k</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>}) (<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">v</span>})<br/>
&nbsp;&nbsp;: <span class="id" title="var">A</span> &lt;-&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">iff@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">k</span>} (~<span class="id" title="var">A</span>) (~<span class="id" title="var">B</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">not_contrapositive@</span>{<span class="id" title="var">_</span> <span class="id" title="var">k</span>}, <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_functor_arrow</span> `(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>) `(<span class="id" title="var">g</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">h</span> <span class="id" title="var">h'</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">h</span> == <span class="id" title="var">h'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> (<span class="id" title="var">functor_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">path_arrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">path_arrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">ap</span> <span class="id" title="var">g</span> (<span class="id" title="var">p</span> (<span class="id" title="var">f</span> <span class="id" title="var">b</span>)))<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">ap_functor_forall</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">g</span>) <span class="id" title="var">h</span> <span class="id" title="var">h'</span> <span class="id" title="var">p</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1647"></a><h2 class="section">Truncatedness: functions into an n-type is an n-type</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">contr_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">Contr</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Contr</span> (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) | 100<br/>
&nbsp;&nbsp;:= <span class="id" title="var">contr_forall</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">istrunc_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span> (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) | 100<br/>
&nbsp;&nbsp;:= <span class="id" title="var">istrunc_forall</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1648"></a><h2 class="section">Functions from a contractible type</h2>

<div class="paragraph"> </div>

 This also follows from <span class="inlinecode"><span class="id" title="var">equiv_contr_forall</span></span>, but this proof has a better inverse map. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_arrow_from_contr</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) `{<span class="id" title="var">Contr</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) &lt;~&gt; <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_adjointify</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">f</span> (<span class="id" title="var">center</span> <span class="id" title="var">A</span>)) <span class="id" title="var">const</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>; <span class="id" title="var">funext</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">const</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span>), <span class="id" title="var">contr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1649"></a><h2 class="section">Equivalences</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_functor_arrow</span> `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span>} `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">g</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">functor_arrow</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) | 1000<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">isequiv_functor_forall</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_functor_arrow</span> `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span>} `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">g</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">C</span>) &lt;~&gt; (<span class="id" title="var">B</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">equiv_functor_forall</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">g</span>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_functor_arrow'</span> `(<span class="id" title="var">f</span> : <span class="id" title="var">B</span> &lt;~&gt; <span class="id" title="var">A</span>) `(<span class="id" title="var">g</span> : <span class="id" title="var">C</span> &lt;~&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">C</span>) &lt;~&gt; (<span class="id" title="var">B</span> -&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;:= @<span class="id" title="var">equiv_functor_forall'</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">B</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">g</span>).<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;could&nbsp;do&nbsp;something&nbsp;like&nbsp;this&nbsp;notation,&nbsp;but&nbsp;it's&nbsp;not&nbsp;clear&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;that&nbsp;useful,&nbsp;and&nbsp;might&nbsp;be&nbsp;confusing.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Notation&nbsp;"f&nbsp;-&gt;&nbsp;g"&nbsp;:=&nbsp;(equiv_functor_arrow'&nbsp;f&nbsp;g)&nbsp;:&nbsp;equiv_scope.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">AssumeFunext</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1650"></a><h2 class="section">Decidability</h2>

<div class="paragraph"> </div>

 This doesn't require funext 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">decidable_arrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">Decidable</span> <span class="id" title="var">A</span>} `{<span class="id" title="var">Decidable</span> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Decidable</span> (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">dec</span> <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x2</span>|<span class="id" title="var">y2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">inl</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">x2</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">dec</span> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x1</span>|<span class="id" title="var">y1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">inr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">y2</span> (<span class="id" title="var">f</span> <span class="id" title="var">x1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">inl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">y1</span> <span class="id" title="var">x1</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>