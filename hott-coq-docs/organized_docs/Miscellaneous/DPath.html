<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>DPath</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library DPath</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Types.Paths</span> <span class="id" title="var">Types.Sigma</span> <span class="id" title="var">Types.Forall</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">dpath_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">dpath_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">dpath</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DPath</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">transport</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>.<br/>

<br/>
</div>

<div class="doc">
This allows DPaths to collapse to paths under cbn 
</div>
<div class="code">
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">DPath</span> <span class="id" title="var">_</span> / <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">istrunc_dp</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">n</span> : <span class="id" title="var">trunc_index</span>}<br/>
&nbsp;{<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} `{<span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span>.+1 (<span class="id" title="var">P</span> <span class="id" title="var">a0</span>)}<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span>.+1 (<span class="id" title="var">P</span> <span class="id" title="var">a1</span>)} : <span class="id" title="var">IsTrunc</span> <span class="id" title="var">n</span> (<span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>) := <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_ishprop</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} `{<span class="id" title="var">IsHProp</span> (<span class="id" title="var">P</span> <span class="id" title="var">a0</span>)} `{<span class="id" title="var">IsHProp</span> (<span class="id" title="var">P</span> <span class="id" title="var">a1</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_ishprop</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We have reflexivity for DPaths, this helps coq guess later 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_id</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">P</span> <span class="id" title="var">a</span>} : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> 1 <span class="id" title="var">x</span> <span class="id" title="var">x</span> := 1%<span class="id" title="var">path</span>.<br/>

<br/>
</div>

<div class="doc">
Although <span class="inlinecode">1%<span class="id" title="var">dpath</span></span> is definitionally <span class="inlinecode">1%<span class="id" title="var">path</span></span>, when <span class="inlinecode">1%<span class="id" title="var">path</span></span> is used where a dependent path is expected, Coq sometimes has trouble interpreting this. So we make a custom notation for <span class="inlinecode">1</span> in <span class="inlinecode"><span class="id" title="var">dpath_scope</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> &quot;1" := <span class="id" title="var">dp_id</span> : <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
</div>

<div class="doc">
DPath induction 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DPath_ind</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P0</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>) (<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>), <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">P</span> <span class="id" title="var">x</span>), <span class="id" title="var">P0</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span> 1%<span class="id" title="var">path</span> <span class="id" title="var">y</span> <span class="id" title="var">y</span> 1) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>) (<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>), <span class="id" title="var">P0</span> <span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">a0</span> <span class="id" title="var">a1</span> [] <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> []; <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A DPath over a constant family is just a path 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_const</span> {<span class="id" title="var">A</span> <span class="id" title="var">C</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span>) <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_const</span> := <span class="id" title="var">equiv_dp_const</span>.<br/>

<br/>
</div>

<div class="doc">
dp_apD of a non-dependent map is just a constant DPath 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_const</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>) : <span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> = <span class="id" title="var">dp_const</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
An alternate version useful for proving recursion computation rules from induction ones 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_const'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} : <span class="id" title="var">dp_const</span>^-1 (<span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) = <span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_equiv_V</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">dp_apD_const</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Concatenation of dependent paths 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) <span class="id" title="var">b0</span> <span class="id" title="var">b2</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">concat</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x '@Dp' y" := (<span class="id" title="var">dp_concat</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Concatenation of dependent paths with non-dependent paths 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_r</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> -&gt; (<span class="id" title="var">b1</span> = <span class="id" title="var">b2</span>) -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b2</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">concat</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x '@Dr' y" := (<span class="id" title="var">dp_concat_r</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_l</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a1</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">b0</span> <span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>) -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b0</span> <span class="id" title="var">b2</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">concat</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x '@Dl' y" := (<span class="id" title="var">dp_concat_l</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Inverse of dependent paths 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_inverse</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> -&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span>^ <span class="id" title="var">b1</span> <span class="id" title="var">b0</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">inverse</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x '^D'" := (<span class="id" title="var">dp_inverse</span> <span class="id" title="var">x</span>) : <span class="id" title="var">dpath_scope</span>.<br/>

<br/>
</div>

<div class="doc">
dp_apD distributes over concatenation 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_pp</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD</span> <span class="id" title="var">f</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) = (<span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) @<span class="id" title="var">Dp</span> (<span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
dp_apD respects inverses 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_V</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>) : <span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>^ = (<span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)^<span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">dp_const</span></span> preserves concatenation 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_const_pp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">y</span> = <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">dp_const</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) (<span class="id" title="var">r</span> @ <span class="id" title="var">s</span>) = (<span class="id" title="var">dp_const</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>) <span class="id" title="var">r</span>) @<span class="id" title="var">Dp</span> (<span class="id" title="var">dp_const</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">q</span>) <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>,<span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">dp_const</span></span> preserves inverses 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_const_V</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">dp_const</span> <span class="id" title="var">r</span>^ = (<span class="id" title="var">dp_const</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>) <span class="id" title="var">r</span>)^<span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Horizontal composition and whiskering of dependent paths 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat2</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">r</span> <span class="id" title="var">r'</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>} {<span class="id" title="var">s</span> <span class="id" title="var">s'</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">r</span> = <span class="id" title="var">r'</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">s</span> = <span class="id" title="var">s'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">r</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s</span> = <span class="id" title="var">r'</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>, <span class="id" title="var">k</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_whiskerL</span> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>) {<span class="id" title="var">s</span> <span class="id" title="var">s'</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">s</span> = <span class="id" title="var">s'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">r</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s</span> = <span class="id" title="var">r</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s'</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">dp_concat2</span> 1 <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_whiskerR</span> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">r</span> <span class="id" title="var">r'</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>} (<span class="id" title="var">s</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">r</span> = <span class="id" title="var">r'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">r</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s</span> = <span class="id" title="var">r'</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">dp_concat2</span> <span class="id" title="var">h</span> 1.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">DGroupoid</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">b0</span> : <span class="id" title="var">P</span> <span class="id" title="var">a0</span>} {<span class="id" title="var">b1</span> : <span class="id" title="var">P</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">dp</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_p1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>) (<span class="id" title="var">concat_p1</span> <span class="id" title="var">p</span>) (<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> 1) <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_1p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span>) (<span class="id" title="var">concat_1p</span> <span class="id" title="var">p</span>) (1 @<span class="id" title="var">Dp</span> <span class="id" title="var">dp</span>) <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_1p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_Vp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a1</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b1</span> <span class="id" title="var">b1</span>) (<span class="id" title="var">concat_Vp</span> <span class="id" title="var">p</span>) (<span class="id" title="var">dp</span>^<span class="id" title="var">D</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dp</span>) 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_Vp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_pV</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a0</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b0</span> <span class="id" title="var">b0</span>) (<span class="id" title="var">concat_pV</span> <span class="id" title="var">p</span>) (<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dp</span>^<span class="id" title="var">D</span>) 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_pV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Concat</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a2</span> <span class="id" title="var">a3</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">r</span> : <span class="id" title="var">a2</span> = <span class="id" title="var">a3</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">b2</span> : <span class="id" title="var">P</span> <span class="id" title="var">a2</span>} {<span class="id" title="var">b3</span> : <span class="id" title="var">P</span> <span class="id" title="var">a3</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dq</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>) (<span class="id" title="var">dr</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span>  <span class="id" title="var">r</span> <span class="id" title="var">b2</span> <span class="id" title="var">b3</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_pp_p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a3</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b0</span> <span class="id" title="var">b3</span>) (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dq</span>) @<span class="id" title="var">Dp</span> <span class="id" title="var">dr</span>) (<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> (<span class="id" title="var">dq</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_pp_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_concat_p_pp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a3</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span> <span class="id" title="var">b0</span> <span class="id" title="var">b3</span>) (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> (<span class="id" title="var">dq</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dr</span>)) ((<span class="id" title="var">dp</span> @<span class="id" title="var">Dp</span> <span class="id" title="var">dq</span>) @<span class="id" title="var">Dp</span> <span class="id" title="var">dr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_p_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Concat</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">DGroupoid</span>.<br/>

<br/>
</div>

<div class="doc">
Dependent paths over paths  These can be found under names such as dp_paths_l akin to transport_paths_l 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_l</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">y</span>) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">p</span>^ @ <span class="id" title="var">q</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_l</span> := <span class="id" title="var">equiv_dp_paths_l</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_r</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">y1</span> = <span class="id" title="var">y2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y1</span>) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;:  <span class="id" title="var">q</span> @ <span class="id" title="var">p</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_r</span> := <span class="id" title="var">equiv_dp_paths_r</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_lr</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x1</span>) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;: (<span class="id" title="var">p</span>^ @ <span class="id" title="var">q</span>) @ <span class="id" title="var">p</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_lr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_lr</span> := <span class="id" title="var">equiv_dp_paths_lr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_Fl</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">y</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x1</span> = <span class="id" title="var">y</span>) <span class="id" title="var">r</span> :  (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)^ @ <span class="id" title="var">q</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_Fl</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_Fl</span> := <span class="id" title="var">equiv_dp_paths_Fl</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_Fr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">y1</span> <span class="id" title="var">y2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">y1</span> = <span class="id" title="var">y2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">q</span> : <span class="id" title="var">x</span> = <span class="id" title="var">g</span> <span class="id" title="var">y1</span>) <span class="id" title="var">r</span> :  <span class="id" title="var">q</span> @ <span class="id" title="var">ap</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">g</span> <span class="id" title="var">y</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_Fr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_Fr</span> := <span class="id" title="var">equiv_dp_paths_Fr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_FFlr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x1</span>) = <span class="id" title="var">x1</span>) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;: ((<span class="id" title="var">ap</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>))^ @ <span class="id" title="var">q</span>) @ <span class="id" title="var">p</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) = <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_FFlr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_FFlr</span> := <span class="id" title="var">equiv_dp_paths_FFlr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_FlFr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x1</span> = <span class="id" title="var">g</span> <span class="id" title="var">x1</span>) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;: ((<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)^ @ <span class="id" title="var">q</span>) @ <span class="id" title="var">ap</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">g</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_FlFr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_FlFr</span> := <span class="id" title="var">equiv_dp_paths_FlFr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_lFFr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">A</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} <br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x1</span>)) <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;:  (<span class="id" title="var">p</span>^ @ <span class="id" title="var">q</span>) @ <span class="id" title="var">ap</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) = <span class="id" title="var">r</span> &lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_lFFr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_lFFr</span> := <span class="id" title="var">equiv_dp_paths_lFFr</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_paths_FlFr_D</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">B</span> <span class="id" title="var">a</span>) <br/>
&nbsp;&nbsp;{<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x1</span> = <span class="id" title="var">g</span> <span class="id" title="var">x1</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">f</span> <span class="id" title="var">x2</span> = <span class="id" title="var">g</span> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;: ((<span class="id" title="var">apD</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)^ @ <span class="id" title="var">ap</span> (<span class="id" title="var">transport</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>) @ <span class="id" title="var">apD</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> = <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">g</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_concat_l</span>, <span class="id" title="var">transport_paths_FlFr_D</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_paths_FlFr_D</span> := <span class="id" title="var">equiv_dp_paths_FlFr_D</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_compose'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">y</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> = <span class="id" title="var">q</span>) {<span class="id" title="var">u</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)} {<span class="id" title="var">v</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">p</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> &lt;~&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>, <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_compose'</span> := <span class="id" title="var">equiv_dp_compose'</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_compose</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) {<span class="id" title="var">u</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)} {<span class="id" title="var">v</span> : <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">p</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> &lt;~&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) <span class="id" title="var">u</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">dp_compose'</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> (<span class="id" title="var">idpath</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_compose</span> := <span class="id" title="var">equiv_dp_compose</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_compose'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">y</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> = <span class="id" title="var">q</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">p</span> = (<span class="id" title="var">dp_compose'</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">r</span>)^-1 (<span class="id" title="var">apD</span> <span class="id" title="var">g</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>, <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_compose</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">p</span> = (<span class="id" title="var">dp_compose</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span>)^-1 (<span class="id" title="var">apD</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>))<br/>
&nbsp;&nbsp;:= <span class="id" title="var">dp_apD_compose'</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> (<span class="id" title="var">idpath</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)) <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_compose_inv'</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">y</span>} (<span class="id" title="var">r</span> : <span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> = <span class="id" title="var">q</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD</span> <span class="id" title="var">g</span> <span class="id" title="var">q</span> = (<span class="id" title="var">dp_compose'</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">r</span>) (<span class="id" title="var">apD</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>, <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dp_apD_compose_inv</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>} (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">apD</span> <span class="id" title="var">g</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) = (<span class="id" title="var">dp_compose</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span>) (<span class="id" title="var">apD</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">dp_apD_compose_inv'</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> (<span class="id" title="var">idpath</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)) <span class="id" title="var">g</span>.<br/>

<br/>
</div>

<div class="doc">
Type constructors 
<div class="paragraph"> </div>

 Many of these lemmas exist already for transports but we prove them for
   DPaths anyway. If we change the definition of DPath to the transport,
   then these will no longer be needed. It is however, far more readable
   to keep such lemmas seperate, since it is difficult to otherwise search
   for a DPath lemma if they are all written using transports. 
<div class="paragraph"> </div>

 A version of <span class="inlinecode"><span class="id" title="var">equiv_path_sigma</span></span> for <span class="inlinecode"><span class="id" title="var">DPath</span></span>s 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_sigma_dp</span> {<span class="id" title="var">A</span> <span class="id" title="var">P</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">y</span> : <span class="id" title="var">P</span> <span class="id" title="var">x</span>} {<span class="id" title="var">y'</span> : <span class="id" title="var">P</span> <span class="id" title="var">x'</span>}<br/>
&nbsp;&nbsp;: {<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x'</span> &amp; <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span>} &lt;~&gt; (<span class="id" title="var">x</span>; <span class="id" title="var">y</span>) = (<span class="id" title="var">x'</span>; <span class="id" title="var">y'</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_path_sigma</span> <span class="id" title="var">P</span> (<span class="id" title="var">x</span>; <span class="id" title="var">y</span>) (<span class="id" title="var">x'</span>; <span class="id" title="var">y'</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">path_sigma_dp</span> := <span class="id" title="var">equiv_path_sigma_dp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ap_pr1_path_sigma_dp</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">y</span> : <span class="id" title="var">P</span> <span class="id" title="var">x</span>} {<span class="id" title="var">y'</span> : <span class="id" title="var">P</span> <span class="id" title="var">x'</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x'</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ap</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">path_sigma_dp</span> (<span class="id" title="var">p</span>; <span class="id" title="var">q</span>)) = <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap_pr1_path_sigma</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;DPath&nbsp;over&nbsp;a&nbsp;forall&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_forall</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">C</span> (<span class="id" title="var">a1</span>; <span class="id" title="var">x</span>)} {<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">C</span> (<span class="id" title="var">a2</span>; <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <span class="id" title="var">B</span> <span class="id" title="var">a1</span>) (<span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">a2</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">DPath</span> <span class="id" title="var">C</span> (<span class="id" title="var">path_sigma_dp</span> (<span class="id" title="var">p</span>; <span class="id" title="var">q</span>)) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">g</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">C</span> (<span class="id" title="var">a</span>; <span class="id" title="var">x</span>)) <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_compose'</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_apD10</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_forall_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_adjointify</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? ? [].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">F</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span> 1).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_forall</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_forall</span> := <span class="id" title="var">equiv_dp_forall</span>.<br/>

<br/>
<span class="comment">(*&nbsp;DPath&nbsp;over&nbsp;an&nbsp;arrow&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_arrow</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>} {<span class="id" title="var">f</span> :  <span class="id" title="var">B</span> <span class="id" title="var">a1</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">a1</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> <span class="id" title="var">a2</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">a2</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">DPath</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">g</span> (<span class="id" title="var">p</span> # <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">C</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_forall</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_arrow</span> := <span class="id" title="var">equiv_dp_arrow</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Restricted&nbsp;version&nbsp;allowing&nbsp;us&nbsp;to&nbsp;pull&nbsp;the&nbsp;domain&nbsp;of&nbsp;a&nbsp;forall&nbsp;out&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_forall_domain</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">D</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">D</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <span class="id" title="var">D</span>} {<span class="id" title="var">d</span> : <span class="id" title="var">t1</span> = <span class="id" title="var">t2</span>} {<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">B</span> <span class="id" title="var">t1</span> <span class="id" title="var">x</span>} {<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">B</span> <span class="id" title="var">t2</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span>) <span class="id" title="var">d</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">g</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span>) <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_forall</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_forall_domain</span> := <span class="id" title="var">equiv_dp_forall_domain</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_dp_sigma</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">x1</span> = <span class="id" title="var">x2</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">y1</span> : { <span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">x1</span> &amp; <span class="id" title="var">C</span> (<span class="id" title="var">x1</span>; <span class="id" title="var">y</span>) }) (<span class="id" title="var">y2</span> : { <span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">x2</span> &amp; <span class="id" title="var">C</span> (<span class="id" title="var">x2</span>; <span class="id" title="var">y</span>) })<br/>
&nbsp;&nbsp;: {<span class="id" title="var">n</span> : <span class="id" title="var">DPath</span> <span class="id" title="var">B</span> <span class="id" title="var">p</span> <span class="id" title="var">y1</span>.1 <span class="id" title="var">y2</span>.1 &amp; <span class="id" title="var">DPath</span> <span class="id" title="var">C</span> (<span class="id" title="var">path_sigma_dp</span> (<span class="id" title="var">p</span>; <span class="id" title="var">n</span>)) <span class="id" title="var">y1</span>.2 <span class="id" title="var">y2</span>.2}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">DPath</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; { <span class="id" title="var">y</span> : <span class="id" title="var">B</span> <span class="id" title="var">x</span> &amp; <span class="id" title="var">C</span> (<span class="id" title="var">x</span>; <span class="id" title="var">y</span>) }) <span class="id" title="var">p</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">path_sigma_dp</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_functor_sigma_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y11</span> <span class="id" title="var">y12</span>], <span class="id" title="var">y2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y21</span> <span class="id" title="var">y22</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">dp_sigma</span> := <span class="id" title="var">equiv_dp_sigma</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>