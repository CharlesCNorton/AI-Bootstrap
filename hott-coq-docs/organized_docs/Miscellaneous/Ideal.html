<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Ideal</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Ideal</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span> <span class="id" title="keyword">Types</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Spaces.Finite.Fin</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Classes.interfaces.canonical_names</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Rings.Ring</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.Groups.Subgroup</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Algebra.AbGroups</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat.Core</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mc_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">ideal_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ideal_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ideal</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ideal_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab219"></a><h1 class="section">Left, Right and Two-sided Ideals</h1>

<div class="paragraph"> </div>

<a id="lab220"></a><h2 class="section">Definition of Ideals</h2>

<div class="paragraph"> </div>

 An additive subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is a left ideal when it is closed under multiplciation on the left. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsLeftIdeal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isleftideal</span> (<span class="id" title="var">r</span> <span class="id" title="var">x</span> : <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">I</span> (<span class="id" title="var">r</span> * <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
An additive subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is a right ideal when it is closed under multiplication on the right. We define this using the opposite ring allowing us to reduce redundancy between left and right ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsRightIdeal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isrightideal_isleftideal_op</span> :: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrightideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) (<span class="id" title="var">x</span> <span class="id" title="var">r</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">I</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">I</span> (<span class="id" title="var">x</span> * <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">isleftideal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">r</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
An additive subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is a two-sided ideal when it is both a left and right ideal. In this case we just call it an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsIdeal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">ideal_isleftideal</span> :: <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">I</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">ideal_isrightideal</span> :: <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">I</span>;<br/>
}.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_IsIdeal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">IsIdeal</span> <span class="id" title="var">I</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>
<span class="id" title="keyword">Hint Immediate</span> <span class="id" title="var">Build_IsIdeal</span> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
Any two-sided ideal is also a two-sided ideal of the opposite ring. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_op</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> <span class="id" title="var">I</span> -&gt; <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A left ideal of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is a subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of <span class="inlinecode"><span class="id" title="var">R</span></span> which is closed under left multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">LeftIdeal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">leftideal_subgroup</span> :&gt; <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">leftideal_isleftideal</span> :: <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">leftideal_subgroup</span>;<br/>
}.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_LeftIdeal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
A right ideal of a ring <span class="inlinecode"><span class="id" title="var">R</span></span> is a subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of <span class="inlinecode"><span class="id" title="var">R</span></span> which is closed under right multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">RightIdeal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) := <span class="id" title="var">LeftIdeal</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightdeal_rightideal</span> {<span class="id" title="var">R</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">leftideal_isleftideal</span> <span class="id" title="var">_</span> <span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_RightIdeal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_LeftIdeal</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_RightIdeal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: {<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>&amp; <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span>} &lt;~&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
A two-sided ideal of a ring <span class="inlinecode"><span class="id" title="var">R</span></span>, or just an ideal, is a subgroup <span class="inlinecode"><span class="id" title="var">I</span></span> of <span class="inlinecode"><span class="id" title="var">R</span></span> which is closed under both left and right multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">Ideal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) := {<br/>
&nbsp;&nbsp;<span class="id" title="var">ideal_subgroup</span> :&gt; <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">ideal_isideal</span> :: <span class="id" title="var">IsIdeal</span> <span class="id" title="var">ideal_subgroup</span>;<br/>
}.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_Ideal</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_op</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> =&gt; <span class="id" title="var">Build_Ideal</span> (<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ideal_op</span> : <span class="id" title="var">Ideal</span> &gt;-&gt; <span class="id" title="var">Ideal</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab221"></a><h3 class="section">Truncatedness properties</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">IdealTrunc</span>.<br/>
</div>

<div class="doc">
Assuming <span class="inlinecode"><span class="id" title="var">Funext</span></span> we can show that the ideal predicates are propositions. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Funext</span>}.<br/>

<br/>
</div>

<div class="doc">
Being a left ideal is a proposition. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_isleftideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">I</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsLeftIdeal</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
Being a right ideal is a proposition. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_isrightideal</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">I</span>) :=  <span class="id" title="var">ishprop_isleftideal</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Being a two-sided ideal is a proposition. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_isideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">IsIdeal</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">issig_IsIdeal</span> <span class="id" title="var">I</span>).<br/>

<br/>
</div>

<div class="doc">
Assuming <span class="inlinecode"><span class="id" title="var">Univalence</span></span> we can show that the ideal types are sets. Note that univalence is only used to prove that the type of <span class="inlinecode"><span class="id" title="var">Subgroup</span></span>s is a set. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Univalence</span>}.<br/>

<br/>
</div>

<div class="doc">
The type of left ideals is a set. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishset_leftideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">IsHSet</span> (<span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">issig_LeftIdeal</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
The type of right ideals is a set. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishset_rightideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">IsHSet</span> (<span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The type of ideals is a set. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishset_ideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">IsHSet</span> (<span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">issig_Ideal</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">IdealTrunc</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab222"></a><h3 class="section">Conversion between Ideals</h3>

<div class="paragraph"> </div>

 Every ideal is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_of_ideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> =&gt; <span class="id" title="var">Build_LeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">leftideal_of_ideal</span> : <span class="id" title="var">Ideal</span> &gt;-&gt; <span class="id" title="var">LeftIdeal</span>.<br/>

<br/>
</div>

<div class="doc">
Every ideal is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_of_ideal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> =&gt; <span class="id" title="var">Build_RightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">rightideal_of_ideal</span> : <span class="id" title="var">Ideal</span> &gt;-&gt; <span class="id" title="var">RightIdeal</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab223"></a><h3 class="section">Easy properties of ideals</h3>

<div class="paragraph"> </div>

 Here are some lemmas for proving certain elements are in an ideal. They are just special cases of the underlying subgroup lemmas. We write them out for clarity. Note that <span class="inlinecode"><span class="id" title="var">I</span></span> isn't actually assumed to be an ideal but only a subgroup. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">IdealElements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_zero</span> : <span class="id" title="var">I</span> <span class="id" title="var">ring_zero</span> := <span class="id" title="var">subgroup_in_unit</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_plus</span> : <span class="id" title="var">I</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">I</span> (<span class="id" title="var">a</span> + <span class="id" title="var">b</span>) := <span class="id" title="var">subgroup_in_op</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_negate</span>  : <span class="id" title="var">I</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">I</span> (- <span class="id" title="var">a</span>) := <span class="id" title="var">subgroup_in_inv</span>  <span class="id" title="var">I</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_negate'</span> : <span class="id" title="var">I</span> (- <span class="id" title="var">a</span>) -&gt; <span class="id" title="var">I</span> <span class="id" title="var">a</span> := <span class="id" title="var">subgroup_in_inv'</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_plus_negate</span> : <span class="id" title="var">I</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">I</span> (<span class="id" title="var">a</span> - <span class="id" title="var">b</span>) := <span class="id" title="var">subgroup_in_op_inv</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_negate_plus</span> : <span class="id" title="var">I</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">I</span> (-<span class="id" title="var">a</span> + <span class="id" title="var">b</span>) := <span class="id" title="var">subgroup_in_inv_op</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_plus_l</span> : <span class="id" title="var">I</span> (<span class="id" title="var">a</span> + <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">I</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">a</span> := <span class="id" title="var">subgroup_in_op_l</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_in_plus_r</span> : <span class="id" title="var">I</span> (<span class="id" title="var">a</span> + <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">I</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">I</span> <span class="id" title="var">b</span> := <span class="id" title="var">subgroup_in_op_r</span> <span class="id" title="var">I</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">IdealElements</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab224"></a><h2 class="section">Constructions of ideals</h2>

<div class="paragraph"> </div>

<a id="lab225"></a><h3 class="section">Zero Ideal</h3>

<div class="paragraph"> </div>

 The trivial subgroup is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_trivial_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">R</span>) <span class="id" title="var">trivial_subgroup</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">rng_mult_zero_r</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The trivial subgroup is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_trivial_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">R</span>) <span class="id" title="var">trivial_subgroup</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_trivial_subgroup</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The trivial subgroup is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_trivial_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">R</span>) <span class="id" title="var">trivial_subgroup</span><br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
We call the trivial subgroup the "zero ideal". 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_zero</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> := <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab226"></a><h3 class="section">The unit ideal</h3>

<div class="paragraph"> </div>

 The maximal subgroup is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_maximal_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">R</span>) <span class="id" title="var">maximal_subgroup</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">done</span>).<br/>

<br/>
</div>

<div class="doc">
The maximal subgroup is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_maximal_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">R</span> := <span class="id" title="var">R</span>) <span class="id" title="var">maximal_subgroup</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_maximal_subgroup</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The maximal subgroup is an ideal.  
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_maximal_subgroup</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">maximal_subgroup</span><br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
We call the maximal subgroup the "unit ideal". 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_unit</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> (<span class="id" title="var">isideal_maximal_subgroup</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab227"></a><h3 class="section">Intersection of ideals</h3>

<div class="paragraph"> </div>

 Intersections of underlying subgroups of left ideals are again left ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_subgroup_intersection</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_intersection</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Intersections of underlying subgroups of right ideals are again right ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_subgroup_intersection</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_intersection</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_subgroup_intersection</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Intersections of underlying subgroups of ideals are again ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_subgroup_intersection</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">subgroup_intersection</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Intersection of left ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_intersection</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_LeftIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_intersection</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Intersection of right ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_intersection</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">leftideal_intersection</span>.<br/>

<br/>
</div>

<div class="doc">
Intersection of ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_intersection</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_intersection</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab228"></a><h3 class="section">Sum of ideals</h3>

<div class="paragraph"> </div>

 The subgroup product of left ideals is again an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_subgroup_product</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_product</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">subgroup_product_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">IHp</span> <span class="id" title="var">IHq</span>; <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">subgroup_in_op_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The subgroup product of right ideals is again an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_subgroup_product</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_product</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_subgroup_product</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The subgroup product of ideals is again an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_subgroup_product</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">subgroup_product</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Sum of left ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_sum</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_LeftIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_product</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Sum of right ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_sum</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">leftideal_sum</span>.<br/>

<br/>
</div>

<div class="doc">
Sum of ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_sum</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_product</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_sum_ind</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">ideal_sum</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P_I_in</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span> (<span class="id" title="var">tr</span> (<span class="id" title="var">sgt_in</span> (<span class="id" title="var">inl</span> <span class="id" title="var">y</span>))))<br/>
&nbsp;&nbsp;(<span class="id" title="var">P_J_in</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span> (<span class="id" title="var">tr</span> (<span class="id" title="var">sgt_in</span> (<span class="id" title="var">inr</span> <span class="id" title="var">y</span>))))<br/>
&nbsp;&nbsp;(<span class="id" title="var">P_unit</span> : <span class="id" title="var">P</span> <span class="id" title="var">mon_unit</span> (<span class="id" title="var">tr</span> <span class="id" title="var">sgt_unit</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">P_op</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span> (<span class="id" title="var">tr</span> <span class="id" title="var">h</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">y</span> (<span class="id" title="var">tr</span> <span class="id" title="var">k</span>) -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>) (<span class="id" title="var">tr</span> (<span class="id" title="var">sgt_op</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>)))<br/>
&nbsp;&nbsp;`{<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">IsHProp</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ideal_sum</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">x</span>), <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">subgroup_product_ind</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">P</span> <span class="id" title="var">P_I_in</span> <span class="id" title="var">P_J_in</span> <span class="id" title="var">P_unit</span> <span class="id" title="var">P_op</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab229"></a><h3 class="section">Product of ideals</h3>

<div class="paragraph"> </div>

 First we form the "naive" product of ideals { a * b | a ∈ I /\ b ∈ J }. Note that this is not an ideal, but we can fix this. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ideal_product_naive_type</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span> :=<br/>
| <span class="id" title="var">ipn_in</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">I</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">J</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">ideal_product_naive_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>

<br/>
</div>

<div class="doc">
We instead consider the subgroup generated by this naive product and later prove it happens to be an ideal. Note that the subgroup generated by a set and the ideal generated by a set are not the same in general. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_product_type</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">subgroup_generated</span> (<span class="id" title="var">G</span> := <span class="id" title="var">R</span>) (<span class="id" title="var">ideal_product_naive_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>

<br/>
</div>

<div class="doc">
The product of left ideals is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_ideal_product_type</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">ideal_product_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">functor_subgroup_generated</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">grp_homo_rng_left_mult</span> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">ipn_in</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> (<span class="id" title="var">r</span> * <span class="id" title="var">s1</span>) <span class="id" title="var">s2</span> <span class="id" title="var">_</span> <span class="id" title="var">p2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The product of right ideals is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_ideal_product_type</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">ideal_product_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> (<span class="id" title="var">functor_subgroup_generated</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">grp_homo_rng_right_mult</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">ipn_in</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">s1</span> (<span class="id" title="var">s2</span> * <span class="id" title="var">r</span>) <span class="id" title="var">p1</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isrightideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The product of ideals is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_ideal_product_type</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">ideal_product_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Product of left ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_product</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_LeftIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">ideal_product_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Product of right ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_product</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">leftideal_product</span>.<br/>

<br/>
</div>

<div class="doc">
Product of ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_product</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">ideal_product_type</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab230"></a><h3 class="section">The kernel of a ring homomorphism</h3>

<div class="paragraph"> </div>

 The kernel of the underlying group homomorphism of a ring homomorphism is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_grp_kernel</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">grp_kernel</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">rng_homo_mult</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">rng_mult_zero_r</span> (<span class="id" title="var">f</span> <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The kernel of the underlying group homomorphism of a ring homomorphism is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_grp_kernel</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">grp_kernel</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_grp_kernel</span> (<span class="id" title="var">fmap</span> <span class="id" title="var">rng_op</span> <span class="id" title="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
The kernel of the underlying group homomorphism of a ring homomorphism is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_grp_kernel</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">grp_kernel</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
The kernel of a ring homomorphism is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_kernel</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">RingHomomorphism</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">grp_kernel</span> <span class="id" title="var">f</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab231"></a><h3 class="section">Ideal generated by a subset</h3>

<div class="paragraph"> </div>

 It seems tempting to define ideals generated by a subset in terms of subgroups generated by a subset but this does not work. Left ideals also have to be closed under left multiplciation by ring elements, and similarly for right and two sided ideals. Therefore we will do an analagous construction to the one done in Subgroup.v. 
<div class="paragraph"> </div>

 Underlying type family of a left ideal generated by subset. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">leftideal_generated_type</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">X</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span> :=<br/>
</div>

<div class="doc">
It should contain all elements of the original family. 
</div>
<div class="code">
| <span class="id" title="var">ligt_in</span> (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>) : <span class="id" title="var">X</span> <span class="id" title="var">r</span> -&gt; <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span><br/>
</div>

<div class="doc">
It should contain zero. 
</div>
<div class="code">
| <span class="id" title="var">ligt_zero</span> : <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">ring_zero</span><br/>
</div>

<div class="doc">
It should be closed under negation and addition. 
</div>
<div class="code">
| <span class="id" title="var">ligt_add_neg</span> (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> (<span class="id" title="var">r</span> - <span class="id" title="var">s</span>)<br/>
</div>

<div class="doc">
And finally, it should be closed under left multiplication. 
</div>
<div class="code">
| <span class="id" title="var">ligt_mul</span> (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> (<span class="id" title="var">r</span> * <span class="id" title="var">s</span>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">leftideal_generated_type</span> {<span class="id" title="var">R</span>} <span class="id" title="var">X</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ligt_in</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ligt_zero</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ligt_add_neg</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ligt_mul</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>}.<br/>

<br/>
</div>

<div class="doc">
Left ideal generated by a subset. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_generated@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring@</span>{<span class="id" title="var">u</span>}} (<span class="id" title="var">X</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">v</span>}) : <span class="id" title="var">LeftIdeal@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span>} <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_LeftIdeal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Subgroup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">merely</span> (<span class="id" title="var">leftideal_generated_type</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">ligt_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>; <span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">ligt_add_neg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_functor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ligt_mul</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Right ideal generated by a subset. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_generated@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring@</span>{<span class="id" title="var">u</span>}} (<span class="id" title="var">X</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">v</span>}) : <span class="id" title="var">RightIdeal@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span>} <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_RightIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">leftideal_generated</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">X</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Underlying type family of a two-sided ideal generated by subset. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ideal_generated_type</span> (<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>) (<span class="id" title="var">X</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span> :=<br/>
</div>

<div class="doc">
It should contain all elements of the original family. 
</div>
<div class="code">
| <span class="id" title="var">igt_in</span> (<span class="id" title="var">r</span> : <span class="id" title="var">R</span>) : <span class="id" title="var">X</span> <span class="id" title="var">r</span> -&gt; <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span><br/>
</div>

<div class="doc">
It should contain zero. 
</div>
<div class="code">
| <span class="id" title="var">igt_zero</span> : <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">ring_zero</span><br/>
</div>

<div class="doc">
It should be closed under negation and addition. 
</div>
<div class="code">
| <span class="id" title="var">igt_add_neg</span> (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> (<span class="id" title="var">r</span> - <span class="id" title="var">s</span>)<br/>
</div>

<div class="doc">
And finally, it should be closed under left and right multiplication. 
</div>
<div class="code">
| <span class="id" title="var">igt_mul_l</span> (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> (<span class="id" title="var">r</span> * <span class="id" title="var">s</span>)<br/>
| <span class="id" title="var">igt_mul_r</span> (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">R</span> <span class="id" title="var">X</span> (<span class="id" title="var">r</span> * <span class="id" title="var">s</span>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">ideal_generated_type</span> {<span class="id" title="var">R</span>} <span class="id" title="var">X</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">igt_in</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">igt_zero</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">igt_add_neg</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">igt_mul_l</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">igt_mul_r</span> {<span class="id" title="var">R</span> <span class="id" title="var">X</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>}.<br/>

<br/>
</div>

<div class="doc">
Two-sided ideal generated by a subset. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_generated</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">X</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Ideal</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Subgroup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">merely</span> (<span class="id" title="var">ideal_generated_type</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">igt_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>; <span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">igt_add_neg</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_functor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">igt_mul_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_functor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">igt_mul_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab232"></a><h3 class="section">Finitely generated ideal</h3>

<div class="paragraph"> </div>

 Finitely generated ideals 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_generated_finite</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">X</span> : <span class="id" title="var">Fin</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_generated</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiber</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab233"></a><h3 class="section">Principal ideals</h3>

<div class="paragraph"> </div>

 A principal ideal is an ideal generated by a single element. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_principal</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ideal_generated</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">x</span> = <span class="id" title="var">r</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab234"></a><h3 class="section">Ideal equality</h3>

<div class="paragraph"> </div>

 Classically, set based equality suffices for ideals. Since we are talking about predicates, we use pointwise iffs. This can of course be shown to be equivalent to the identity type. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_eq</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) := <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">I</span> <span class="id" title="var">x</span> &lt;-&gt; <span class="id" title="var">J</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
With univalence we can characterize equality of ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equiv_path_ideal</span> `{<span class="id" title="var">Univalence</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>} : <span class="id" title="var">ideal_eq</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> &lt;~&gt; <span class="id" title="var">I</span> = <span class="id" title="var">J</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">equiv_ap'</span> (<span class="id" title="var">issig_Ideal</span> <span class="id" title="var">R</span>)^-1 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">equiv_path_subgroup'</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Under funext, ideal equiality is a proposition. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_ideal_eq</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">ideal_eq</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) := <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Ideal equality is reflexive. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflexive_ideal_eq</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Reflexive</span> (@<span class="id" title="var">ideal_eq</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">I</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideal equality is symmetric. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">symmetric_ideal_eq</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Symmetric</span> (@<span class="id" title="var">ideal_eq</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideal equality is transitive. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">transitive_ideal_eq</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Transitive</span> (@<span class="id" title="var">ideal_eq</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">q</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> (<span class="id" title="var">J</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab235"></a><h3 class="section">Subset relation on ideals</h3>

<div class="paragraph"> </div>

 We define the subset relation on ideals in the usual way: 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_subset</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) := (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">I</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">J</span> <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
The subset relation is reflexive. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflexive_ideal_subset</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Reflexive</span> (@<span class="id" title="var">ideal_subset</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">idmap</span>.<br/>

<br/>
</div>

<div class="doc">
The subset relation is transitive. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">transitive_ideal_subset</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} : <span class="id" title="var">Transitive</span> (@<span class="id" title="var">ideal_subset</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span> <span class="id" title="var">a</span> <span class="id" title="var">o</span> <span class="id" title="var">p</span> <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can coerce equality to the subset relation, since equality is defined to be the subset relation in each direction. 
</div>
<div class="code">
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ideal_eq_subset</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} {<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>} : <span class="id" title="var">ideal_eq</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> -&gt; <span class="id" title="var">ideal_subset</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab236"></a><h3 class="section">Quotient (a.k.a colon) ideals</h3>

<div class="paragraph"> </div>

 The definitions here are not entirely standard, but will become so when considering only commutative rings. For the non-commutative case there isn't a lot written about ideal quotients. 
<div class="paragraph"> </div>

 The subgroup corresponding to the left ideal quotient. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subgroup_leftideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Subgroup'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">merely</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">J</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">I</span> (<span class="id" title="var">r</span> * <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_zero_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The left ideal quotient of a left ideal is a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_subgroup_leftideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) `{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_leftideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The left ideal quotient of a right ideal by a left ideal is a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_subgroup_leftideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) `{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_leftideal_quotient</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isleftideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We define the left ideal quotient as a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">leftideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_LeftIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_leftideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subgroup_rightideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">subgroup_leftideal_quotient</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">J</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_subgroup_rightideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) `{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_rightideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_subgroup_leftideal_quotient</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">J</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_subgroup_rightideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) `{<span class="id" title="var">H</span> : <span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>, <span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">J</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_rightideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">isrightideal_subgroup_leftideal_quotient</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We define the right ideal quotient as a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rightideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt; <span class="id" title="var">Build_RightIdeal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_rightideal_quotient</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span> <span class="id" title="var">J</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The ideal quotient is then the intersection of a left and right quotient of both two sided ideals. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_quotient</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subgroup_intersection</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">leftideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rightideal_quotient</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Build_IsIdeal</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab237"></a><h3 class="section">Annihilator</h3>

<div class="paragraph"> </div>

 The left annihilator of a subset is the set of elements that annihilate the subgroup with left multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subgroup_ideal_left_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Subgroup'</span>.<br/>
</div>

<div class="doc">
If we assume <span class="inlinecode"><span class="id" title="var">Funext</span></span>, then it isn't necessary to use <span class="inlinecode"><span class="id" title="var">merely</span></span> here. 
</div>
<div class="code">
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">merely</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">S</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">r</span> * <span class="id" title="var">x</span> = <span class="id" title="var">ring_zero</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_zero_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">rapply</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_zero_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">left_identity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The left annihilator of a subgroup of a ring is a left ideal of the ring. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_ideal_left_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_ideal_left_annihilator</span> <span class="id" title="var">I</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_assoc</span>, (<span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_mult_zero_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The left annihilator of a left ideal also happens to be a right ideal. In fact, left ideal could be weakened to subset closed under multplication, however we don't need this generality currently. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_ideal_left_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_ideal_left_annihilator</span> <span class="id" title="var">I</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>, <span class="id" title="var">isleftideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore the annihilator of a left ideal is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_ideal_left_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">subgroup_ideal_left_annihilator</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
The left annihilator of a left ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_left_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">LeftIdeal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_ideal_left_annihilator</span> <span class="id" title="var">I</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The right annihilator of a subset of a ring is the set of elements that annihilate the elements of the subset with right multiplication. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subgroup_ideal_right_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">subgroup_ideal_left_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
When the subset is a right ideal the right annihilator is a left ideal of the ring. This can be strengthened. See the comment in the left ideal version of this lemma above. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_ideal_right_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_ideal_right_annihilator</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isrightideal_ideal_left_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
The right annihilator is a right ideal of the ring. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_ideal_right_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">R</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_ideal_right_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_ideal_left_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) <span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore the annihilator of a right ideal is an ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_ideal_right_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;`{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">R</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">subgroup_ideal_right_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
The right annihilator of a right ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_right_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">RightIdeal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_ideal_right_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isideal_ideal_right_annihilator</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">R</span>) <span class="id" title="var">I</span>).<br/>

<br/>
</div>

<div class="doc">
The annihilator of an ideal is the intersection of the left and right annihilators. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_annihilator</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ideal_intersection</span> (<span class="id" title="var">ideal_left_annihilator</span> <span class="id" title="var">I</span>) (<span class="id" title="var">ideal_right_annihilator</span> <span class="id" title="var">I</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab238"></a><h2 class="section">Properties of ideals</h2>

<div class="paragraph"> </div>

<a id="lab239"></a><h3 class="section">Coprime ideals</h3>

<div class="paragraph"> </div>

 Two ideals are coprime if their sum is the unit ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Coprime</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ideal_eq</span> (<span class="id" title="var">ideal_sum</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>) (<span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Existing Class</span> <span class="id" title="var">Coprime</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_coprime</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">IsHProp</span> (<span class="id" title="var">Coprime</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Coprime</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equiv_coprime_sum</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Coprime</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span><br/>
&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">hexists</span> (<span class="id" title="keyword">fun</span> '(((<span class="id" title="var">i</span> ; <span class="id" title="var">p</span>) , (<span class="id" title="var">j</span> ; <span class="id" title="var">q</span>)) : <span class="id" title="var">sig</span> <span class="id" title="var">I</span> * <span class="id" title="var">sig</span> <span class="id" title="var">J</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="var">i</span> + <span class="id" title="var">j</span> = <span class="id" title="var">ring_one</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_iff_hprop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">c</span> <span class="id" title="var">ring_one</span>) <span class="id" title="var">tt</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">d</span>; <span class="id" title="var">clearbody</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> ((<span class="id" title="var">g</span> ; <span class="id" title="var">s</span>), (<span class="id" title="var">ring_zero</span>; <span class="id" title="var">ideal_in_zero</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_plus_zero_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> ((<span class="id" title="var">ring_zero</span>; <span class="id" title="var">ideal_in_zero</span> <span class="id" title="var">_</span>), (<span class="id" title="var">g</span> ; <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_plus_zero_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> ((<span class="id" title="var">ring_zero</span>; <span class="id" title="var">ideal_in_zero</span> <span class="id" title="var">_</span>), (<span class="id" title="var">ring_zero</span>; <span class="id" title="var">ideal_in_zero</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rng_plus_zero_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHd1</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">x</span> <span class="id" title="var">xi</span>] [<span class="id" title="var">y</span> <span class="id" title="var">yj</span>]] <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHd2</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">w</span> <span class="id" title="var">wi</span>] [<span class="id" title="var">z</span> <span class="id" title="var">zj</span>]] <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (((<span class="id" title="var">_</span>;<span class="id" title="var">_</span>),(<span class="id" title="var">_</span>;<span class="id" title="var">_</span>));<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">x</span> - <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">y</span> - <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap011</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">x</span> - <span class="id" title="var">y</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2 <span class="id" title="var">rng_plus_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">negate_sg_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_plus_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [[[<span class="id" title="var">x</span> <span class="id" title="var">xi</span>] [<span class="id" title="var">y</span> <span class="id" title="var">yj</span>]] <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_one_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">x</span> + <span class="id" title="var">y</span> = 1) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">sgt_op'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab240"></a><h3 class="section">Ideal notations</h3>

<div class="paragraph"> </div>

 We declare and import a module for various (unicode) ideal notations. These exist in their own special case, and can be imported and used in other files when needing to reason about ideals. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <span class="id" title="keyword">Notation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;⊆" := <span class="id" title="var">ideal_subset</span>       : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;↔" := <span class="id" title="var">ideal_eq</span>           : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;+" := <span class="id" title="var">ideal_sum</span>          : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;⋅" := <span class="id" title="var">ideal_product</span>      : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;∩" := <span class="id" title="var">ideal_intersection</span> : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> &quot;::" := <span class="id" title="var">ideal_quotient</span>    : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;〈 X 〉" := (<span class="id" title="var">ideal_generated</span> <span class="id" title="var">X</span>)  : <span class="id" title="var">ideal_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">Ann</span> := <span class="id" title="var">ideal_annihilator</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="keyword">Notation</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab241"></a><h3 class="section">Ideal lemmas</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">IdealLemmas</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="var">Ring</span>}.<br/>

<br/>
</div>

<div class="doc">
Subset relation is antisymmetric. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_subset_antisymm</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">J</span> ⊆ <span class="id" title="var">I</span> -&gt; <span class="id" title="var">I</span> ↔ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">revert</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The zero ideal is contained in all ideals. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_zero_subset</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">ideal_zero</span> <span class="id" title="var">R</span> ⊆ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The unit ideal contains all ideals. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_unit_subset</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Intersection includes into the left 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_intersection_subset_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span> ⊆ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">fst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Intersection includes into the right 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_intersection_subset_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span> ⊆ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">snd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Subsets of intersections 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_intersection_subset</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">K</span> ⊆ <span class="id" title="var">I</span> -&gt; <span class="id" title="var">K</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">K</span> ⊆ <span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">q</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span>); <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideals include into their sum on the left 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_subset_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ (<span class="id" title="var">I</span> + <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideals include into their sum on the right 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_subset_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">J</span> ⊆ (<span class="id" title="var">I</span> + <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 4 =&gt; <span class="id" title="tactic">progress</span> (<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">iota</span>) : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
Products of ideals are included in their left factor 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_subset_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span> ⊆ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isrightideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Products of ideals are included in their right factor. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_subset_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span> ⊆ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Products of ideals preserve subsets on the left 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_subset_pres_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">I</span> ⋅ <span class="id" title="var">K</span> ⊆ <span class="id" title="var">J</span> ⋅ <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Products of ideals preserve subsets on the right 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_subset_pres_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">K</span> ⋅ <span class="id" title="var">I</span> ⊆ <span class="id" title="var">K</span> ⋅ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
TODO:  The product of ideals is an associative operation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lemma&nbsp;ideal_product_assoc&nbsp;(I&nbsp;J&nbsp;K&nbsp;:&nbsp;Ideal&nbsp;R)&nbsp;:&nbsp;I&nbsp;⋅&nbsp;(J&nbsp;⋅&nbsp;K)&nbsp;↔&nbsp;(I&nbsp;⋅&nbsp;J)&nbsp;⋅&nbsp;K.<br/>
&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intros&nbsp;r;&nbsp;split;&nbsp;apply&nbsp;Trunc_functor.<br/>
&nbsp;&nbsp;Abort.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
Products of ideals are subsets of their intersection. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_subset_intersection</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span> ⊆ <span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Sums of ideals are the smallest ideal containing the summands. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_smallest</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">K</span> -&gt; <span class="id" title="var">J</span> ⊆ <span class="id" title="var">K</span> -&gt; (<span class="id" title="var">I</span> + <span class="id" title="var">J</span>) ⊆ <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ideal_sum_ind</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">K</span> <span class="id" title="var">x</span>) <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideals absorb themselves under sum. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_self</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> + <span class="id" title="var">I</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Sums preserve inclusions in the left summand. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_subset_pres_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; (<span class="id" title="var">I</span> + <span class="id" title="var">K</span>) ⊆ (<span class="id" title="var">J</span> + <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Sums preserve inclusions in the right summand. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_subset_pres_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; (<span class="id" title="var">K</span> + <span class="id" title="var">I</span>) ⊆ (<span class="id" title="var">K</span> + <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">J</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Products left distribute over sums  Note that this follows from left adjoints preserving colimits. The product of ideals is a functor whose right adjoint is the quotient ideal. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_dist_l</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⋅ (<span class="id" title="var">J</span> + <span class="id" title="var">K</span>) ↔ <span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span> + <span class="id" title="var">I</span> ⋅ <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
We split into two directions. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
</div>

<div class="doc">
We deal with the difficult inclusion first. The proof comes down to breaking down the definition and reassembling into the right. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">q</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">t</span> <span class="id" title="var">k</span> | | <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> | <span class="id" title="var">k</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_zero_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
This is the easy direction which can use previous lemmas. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_pres_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Products distribute over sums on the right.  The proof is very similar to the left version 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_dist_r</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : (<span class="id" title="var">I</span> + <span class="id" title="var">J</span>) ⋅ <span class="id" title="var">K</span> ↔ <span class="id" title="var">I</span> ⋅ <span class="id" title="var">K</span> + <span class="id" title="var">J</span> ⋅ <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">r</span> <span class="id" title="var">i</span> | | <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">t</span> <span class="id" title="var">k</span> | | <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">p1</span> <span class="id" title="var">IHp1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IHp2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> | <span class="id" title="var">k</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_zero_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_pres_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideal sums are commutative 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_comm</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> + <span class="id" title="var">J</span> ↔ <span class="id" title="var">J</span> + <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Zero ideal is left additive identity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_zero_l</span> <span class="id" title="var">I</span> : <span class="id" title="var">ideal_zero</span> <span class="id" title="var">R</span> + <span class="id" title="var">I</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_zero_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Zero ideal is right additive identity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_sum_zero_r</span> <span class="id" title="var">I</span> : <span class="id" title="var">I</span> + <span class="id" title="var">ideal_zero</span> <span class="id" title="var">R</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_smallest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_zero_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Unit ideal is left multiplicative identity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_unit_l</span> <span class="id" title="var">I</span> : <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span> ⋅ <span class="id" title="var">I</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_one_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Unit ideal is right multiplicative identity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_unit_r</span> <span class="id" title="var">I</span> : <span class="id" title="var">I</span> ⋅ <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_product_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_one_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>, <span class="id" title="var">sgt_in</span>, <span class="id" title="var">ipn_in</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Intersecting with unit ideal on the left does nothing. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_intresection_unit_l</span> <span class="id" title="var">I</span> : <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span> ∩ <span class="id" title="var">I</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_unit_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Intersecting with unit ideal on right does nothing. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_intersection_unit_r</span> <span class="id" title="var">I</span> : <span class="id" title="var">I</span> ∩ <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span> ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_unit_subset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Product of intersection and sum is subset of sum of products 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_product_intersection_sum_subset</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span>) ⋅ (<span class="id" title="var">I</span> + <span class="id" title="var">J</span>) ⊆ (<span class="id" title="var">I</span> ⋅ <span class="id" title="var">J</span> + <span class="id" title="var">J</span> ⋅ <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_dist_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_pres_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_product_subset_pres_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_pres_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_product_subset_pres_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_intersection_subset_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_comm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideals are subsets of their ideal quotients 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_subset</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ (<span class="id" title="var">I</span> :: <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">j</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isrightideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If J divides I then the ideal quotient of J by I is trivial. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_trivial</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">J</span> :: <span class="id" title="var">I</span> ↔ <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">cbv</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isleftideal</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">isrightideal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The ideal quotient of I by unit is I. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_unit_bottom</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">I</span> :: <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span>) ↔ <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">rng_mult_one_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> <span class="id" title="var">ring_one</span> <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_quotient_subset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The ideal quotient of unit by I is unit. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_unit_top</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span> :: <span class="id" title="var">I</span>) ↔ <span class="id" title="var">ideal_unit</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The ideal quotient by a sum is an intersection of ideal quotients. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_sum</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">I</span> :: (<span class="id" title="var">J</span> + <span class="id" title="var">K</span>)) ↔ (<span class="id" title="var">I</span> :: <span class="id" title="var">J</span>) ∩ (<span class="id" title="var">I</span> :: <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">jk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">p</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">q</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">p</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">q</span>; <span class="id" title="var">rapply</span> <span class="id" title="var">ideal_sum_subset_r</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [[<span class="id" title="var">p</span> <span class="id" title="var">q</span>] [<span class="id" title="var">u</span> <span class="id" title="var">v</span>]]; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">jk</span>; <span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">jk</span> <span class="id" title="keyword">as</span> [? [] | | ? ? ? ? ? ? ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">u</span>, <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">jk</span> <span class="id" title="keyword">as</span> [? [] | | ? ? ? ? ? ? ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">v</span>, <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">I</span> ((<span class="id" title="var">g</span> - <span class="id" title="var">h</span>) * <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_dist_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rng_mult_negate_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Ideal quotients distribute over intersections. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_quotient_intersection</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> <span class="id" title="var">K</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">I</span> ∩ <span class="id" title="var">J</span> :: <span class="id" title="var">K</span>) ↔ (<span class="id" title="var">I</span> :: <span class="id" title="var">K</span>) ∩ (<span class="id" title="var">J</span> :: <span class="id" title="var">K</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_subset_antisymm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,3: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> [[<span class="id" title="var">p</span> <span class="id" title="var">q</span>] [<span class="id" title="var">u</span> <span class="id" title="var">v</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Annihilators reverse the order of inclusion. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_annihilator_subset</span> (<span class="id" title="var">I</span> <span class="id" title="var">J</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">I</span> ⊆ <span class="id" title="var">J</span> -&gt; <span class="id" title="var">Ann</span> <span class="id" title="var">J</span> ⊆ <span class="id" title="var">Ann</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> [<span class="id" title="var">q</span> <span class="id" title="var">q'</span>]; <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>, <span class="id" title="var">q'</span>; <span class="id" title="var">strip_truncations</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q'</span>, <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The annihilator of an ideal is equal to a quotient of zero. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ideal_annihilator_zero_quotient</span> (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">Ann</span> <span class="id" title="var">I</span> ↔ <span class="id" title="var">ideal_zero</span> <span class="id" title="var">R</span> :: <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]; <span class="id" title="var">strip_truncations</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">q</span> <span class="id" title="var">y</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">IdealLemmas</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab242"></a><h2 class="section">Preimage of ideals under ring homomorphisms</h2>

<div class="paragraph"> </div>

 The preimage of an ideal under a ring homomorphism is also itself an ideal. This is also known as the contraction of an ideal. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isleftideal_preimage</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">S</span>) `{<span class="id" title="var">IsLeftIdeal</span> <span class="id" title="var">S</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsLeftIdeal</span> (<span class="id" title="var">subgroup_preimage</span> <span class="id" title="var">f</span> <span class="id" title="var">I</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">Ifx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<span class="id" title="var">transport</span> <span class="id" title="var">I</span> (<span class="id" title="var">rng_homo_mult</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Ifx</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isrightideal_preimage</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">S</span>) `{<span class="id" title="var">IsRightIdeal</span> <span class="id" title="var">S</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsRightIdeal</span> (<span class="id" title="var">subgroup_preimage</span> <span class="id" title="var">f</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isleftideal_preimage</span> (<span class="id" title="var">R</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">R</span>) (<span class="id" title="var">S</span>:=<span class="id" title="var">rng_op</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fmap</span> <span class="id" title="var">rng_op</span> <span class="id" title="var">f</span>) <span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isideal_preimage</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> : <span class="id" title="var">Subgroup</span> <span class="id" title="var">S</span>) `{<span class="id" title="var">IsIdeal</span> <span class="id" title="var">S</span> <span class="id" title="var">I</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsIdeal</span> (<span class="id" title="var">subgroup_preimage</span> <span class="id" title="var">f</span> <span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_preimage</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>) (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_Ideal</span> <span class="id" title="var">R</span> (<span class="id" title="var">subgroup_preimage</span> <span class="id" title="var">f</span> <span class="id" title="var">I</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab243"></a><h2 class="section">Extensions of ideals</h2>

<div class="paragraph"> </div>

 The extension of an ideal under a ring homomorphism is the ideal generated by the image of the ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_extension</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>) (<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Ideal</span> <span class="id" title="var">S</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">ideal_generated</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>, <span class="id" title="var">I</span> <span class="id" title="var">r</span> /\ <span class="id" title="var">f</span> <span class="id" title="var">r</span> = <span class="id" title="var">s</span>).<br/>

<br/>
</div>

<div class="doc">
The extension of a preimage is always a subset of the original ideal. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ideal_subset_extension_preimage</span> {<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">Ring</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">R</span> $-&gt; <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">I</span> : <span class="id" title="var">Ideal</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ideal_extension</span> <span class="id" title="var">f</span> (<span class="id" title="var">ideal_preimage</span> <span class="id" title="var">f</span> <span class="id" title="var">I</span>) ⊆ <span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Trunc_rec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_zero</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ideal_in_plus_negate</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isleftideal</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">isrightideal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: Maximal ideals  TODO: Principal ideal  TODO: Prime ideals  TODO: Radical ideals  TODO: Minimal ideals  TODO: Primary ideals 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>