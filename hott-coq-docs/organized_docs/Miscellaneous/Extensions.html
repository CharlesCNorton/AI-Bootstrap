<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Extensions</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Extensions</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab44"></a><h1 class="section">Extensions and extendible maps</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">HoTT.Basics</span> <span class="id" title="var">HoTT.Types</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Equiv.PathSplit</span> <span class="id" title="var">PathAny</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Cubical.DPath</span> <span class="id" title="var">Cubical.DPathSquare</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Colimits.Coeq</span> <span class="id" title="var">Colimits.MappingCylinder</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Given <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> and <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">B</span></span>, an extension of <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">(<span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">a</span>)</span> along <span class="inlinecode"><span class="id" title="var">f</span></span> is a section <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">b</span>,</span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> such that <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">(<span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">a</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> for all <span class="inlinecode"><span class="id" title="var">a</span>:<span class="id" title="var">A</span></span>.  This is equivalently the existence of fillers for commutative squares, restricted to the case where the bottom of the square is the identity; type-theoretically, this approach is sometimes more convenient.  In this file we study the type of such extensions.  One of its crucial properties is that a path between extensions is equivalently an extension in a fibration of paths.

<div class="paragraph"> </div>

This turns out to be useful for several reasons.  For instance, by iterating it, we can to formulate universal properties without needing <span class="inlinecode"><span class="id" title="var">Funext</span></span>.  It also gives us a way to "quantify" a universal property by the connectedness of the type of extensions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Extensions</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;consider&nbsp;naming&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">ExtensionAlong</span></span>&nbsp;and&nbsp;subsequent&nbsp;lemmas.&nbsp;&nbsp;As&nbsp;a&nbsp;name&nbsp;for&nbsp;the&nbsp;type&nbsp;itself,&nbsp;<span class="inlinecode"><span class="id" title="var">Extension</span></span>&nbsp;or&nbsp;<span class="inlinecode"><span class="id" title="var">ExtensionAlong</span></span>&nbsp;seems&nbsp;great;&nbsp;but&nbsp;resultant&nbsp;lemma&nbsp;names&nbsp;such&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">path_extension</span></span>&nbsp;(following&nbsp;existing&nbsp;naming&nbsp;conventions)&nbsp;are&nbsp;rather&nbsp;misleading.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
This elimination rule (and others) can be seen as saying that, given a fibration over the codomain and a section of it over the domain, there is some *extension* of this to a section over the whole codomain.  It can also be considered as an equivalent form of an <span class="inlinecode"><span class="id" title="var">hfiber</span></span> of precomposition-with-<span class="inlinecode"><span class="id" title="var">f</span></span> that replaces paths by pointwise paths, thereby avoiding <span class="inlinecode"><span class="id" title="var">Funext</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ExtensionAlong@</span>{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">m</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">a</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">b</span>}} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">p</span>}) (<span class="id" title="var">d</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="comment">(*&nbsp;{&nbsp;s&nbsp;:&nbsp;forall&nbsp;y:B,&nbsp;P&nbsp;y&nbsp;&amp;&nbsp;forall&nbsp;x:A,&nbsp;s&nbsp;(f&nbsp;x)&nbsp;=&nbsp;d&nbsp;x&nbsp;}.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sig@</span>{<span class="id" title="var">m</span> <span class="id" title="var">m</span>} (<span class="id" title="keyword">fun</span> (<span class="id" title="var">s</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">y</span>) =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">s</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) = <span class="id" title="var">d</span> <span class="id" title="var">x</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExtensionAlong</span></span> takes 4 universe parameters:
<ul class="doclist">
<li> the size of A

</li>
<li> the size of B

</li>
<li> the size of P

</li>
<li> &gt;= max(A,B,P)

</li>
</ul>
   
<div class="paragraph"> </div>

 It's occasionally useful to be able to modify those universes.  For each of the universes <span class="inlinecode"><span class="id" title="var">a</span></span>, <span class="inlinecode"><span class="id" title="var">b</span></span>, <span class="inlinecode"><span class="id" title="var">p</span></span>, we give an initial one, a final one, and a "minimum" one smaller than both and where the type actually lives. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_extensionalong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">amin</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">bmin</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">pmin</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>} {<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">amin</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">bmin</span>}} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">pmin</span>}) (<span class="id" title="var">d</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">p1</span> <span class="id" title="var">m1</span>} <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">d</span> -&gt; <span class="id" title="var">ExtensionAlong@</span>{<span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">p2</span> <span class="id" title="var">m2</span>} <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>.<br/>
</div>

<div class="doc">
If we just give <span class="inlinecode"><span class="id" title="var">ext</span></span>, it will collapse the universes.  (Anyone stepping through this proof should do <span class="inlinecode"><span class="id" title="keyword">Set</span></span> <span class="inlinecode"><span class="id" title="keyword">Printing</span></span> <span class="inlinecode"><span class="id" title="keyword">Universes</span></span> and look at the universes to see that they're different in <span class="inlinecode"><span class="id" title="var">ext</span></span> and in the goal.)  So we decompose <span class="inlinecode"><span class="id" title="var">ext</span></span> into two components and give them separately. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e2</span> := <span class="id" title="var">ext</span>.2); <span class="id" title="tactic">set</span> (<span class="id" title="var">e1</span> := <span class="id" title="var">ext</span>.1) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>. </div>

<div class="doc">
Curiously, without this line we get a spurious universe inequality <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">m2</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">e1</span>;<span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
</div>

<div class="doc">
We called it <span class="inlinecode"><span class="id" title="var">lift_extensionalong</span></span>, but in fact it doesn't require the new universes to be bigger than the old ones, only that they both satisfy the max condition. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_extension</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">d</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> <span class="id" title="var">ext'</span> : <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">ext</span> <span class="id" title="var">y</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">ext'</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">pr2</span> <span class="id" title="var">ext</span> <span class="id" title="var">x</span> @ (<span class="id" title="var">pr2</span> <span class="id" title="var">ext'</span> <span class="id" title="var">x</span>)^))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">ext</span> = <span class="id" title="var">ext'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ext'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">equiv_path_from_contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">ExtensionAlong</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; 1%<span class="id" title="var">path</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">concat_pV</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ext</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">g</span> <span class="id" title="var">gd</span>]; <span class="id" title="tactic">unfold</span> <span class="id" title="var">ExtensionAlong</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">contr_sigma_sigma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>:<span class="id" title="var">B</span>, <span class="id" title="var">P</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">s</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) = <span class="id" title="var">d</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">g</span> == <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">c</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) = <span class="id" title="var">gd</span> <span class="id" title="var">x</span> @ (<span class="id" title="var">b</span> <span class="id" title="var">x</span>)^)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">g</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span>:<span class="id" title="var">B</span> =&gt; <span class="id" title="var">idpath</span> (<span class="id" title="var">g</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">contr_equiv'</span> {<span class="id" title="var">p</span>:<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">d</span> &amp; <span class="id" title="var">gd</span> == <span class="id" title="var">p</span>} <span class="id" title="var">_</span>). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_sigma_id</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall_id</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_moveR_1M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">path_extension</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">d</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> <span class="id" title="var">ext'</span> : <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">ext</span> <span class="id" title="var">y</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">ext'</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">pr2</span> <span class="id" title="var">ext</span> <span class="id" title="var">x</span> @ (<span class="id" title="var">pr2</span> <span class="id" title="var">ext'</span> <span class="id" title="var">x</span>)^))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">ext</span> = <span class="id" title="var">ext'</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_path_extension</span> <span class="id" title="var">ext</span> <span class="id" title="var">ext'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_path_extension</span> `{<span class="id" title="var">Funext</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">d</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> <span class="id" title="var">ext'</span> : <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">path_extension</span> <span class="id" title="var">ext</span> <span class="id" title="var">ext'</span>) | 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_isequiv</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Here is the iterated version. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">ExtendableAlong@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) {<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">j</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">k</span>}) : <span class="id" title="var">Type@</span>{<span class="id" title="var">l</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="var">Unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; (<span class="id" title="keyword">forall</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExtensionAlong@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span>} <span class="id" title="var">f</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span>) *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">ExtendableAlong</span></span> takes 4 universe parameters:
<ul class="doclist">
<li> size of A

</li>
<li> size of B

</li>
<li> size of C

</li>
<li> size of result (&gt;= A,B,C) 

</li>
</ul>
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Arguments</span> <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>%<span class="id" title="var">_nat_scope</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">_type_scope</span> (<span class="id" title="var">f</span> <span class="id" title="var">C</span>)%<span class="id" title="var">_function_scope</span>.<br/>

<br/>
</div>

<div class="doc">
We can modify the universes, as with <span class="inlinecode"><span class="id" title="var">ExtensionAlong</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_extendablealong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">amin</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">bmin</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">pmin</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) {<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">amin</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">bmin</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">pmin</span>})<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">p1</span> <span class="id" title="var">m1</span>} <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ExtendableAlong@</span>{<span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">p2</span> <span class="id" title="var">m2</span>} <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">lift_extensionalong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">amin</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">bmin</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">pmin</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ext</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
</div>

<div class="doc">
Unles we give the universe explicitly here, <span class="inlinecode"><span class="id" title="var">kmin</span></span> gets collapsed to <span class="inlinecode"><span class="id" title="var">k1</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">P'</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>) : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">pmin</span>}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IH</span> <span class="id" title="var">P'</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ext</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_extendable_pathsplit</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">PathSplit</span> <span class="id" title="var">n</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_idmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> *<span class="id" title="var">E</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall'</span> 1 <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_sigma'</span> 1 <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="keyword">rec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall'</span> 1 <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall'</span> 1 <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">IHn</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_pathsplit</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">equiv_apD10</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">equiv_apD10</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isequiv_extendable</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">isequiv_pathsplit</span> <span class="id" title="var">n</span> <span class="id" title="var">o</span> (<span class="id" title="var">equiv_extendable_pathsplit</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">C</span> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_extendable</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">f</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_extendable_pathsplit</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">C</span> <span class="id" title="var">f</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_extendable_isequiv</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+2 <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_extendable_pathsplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_pathsplit_isequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Without&nbsp;<span class="inlinecode"><span class="id" title="var">Funext</span></span>,&nbsp;we&nbsp;can&nbsp;prove&nbsp;a&nbsp;small&nbsp;part&nbsp;of&nbsp;the&nbsp;above&nbsp;equivalence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;suspect&nbsp;that&nbsp;the&nbsp;rest&nbsp;requires&nbsp;<span class="inlinecode"><span class="id" title="var">Funext</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_isequiv_precompose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">g</span>, <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">e</span> := <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">e</span>^-1 <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">apD10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">eisretr</span> <span class="id" title="var">e</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Postcomposition with a known equivalence.  Note that this does not require funext to define, although showing that it is an equivalence would require funext. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_postcompose'</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span> &lt;~&gt; <span class="id" title="var">D</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>; <span class="id" title="var">revert</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">apply</span> <span class="id" title="var">idmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_forall</span> (<span class="id" title="var">functor_forall</span> <span class="id" title="var">idmap</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))^-1)) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_sigma</span> (<span class="id" title="var">functor_forall</span> <span class="id" title="var">idmap</span> <span class="id" title="var">g</span>) <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_forall</span> <span class="id" title="var">idmap</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">functor_arrow</span>, <span class="id" title="var">functor_forall</span>, <span class="id" title="var">composeD</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_equiv_M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_forall</span> (<span class="id" title="var">functor_forall</span> <span class="id" title="var">idmap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)^-1)) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">functor_forall</span> (<span class="id" title="var">functor_forall</span> <span class="id" title="var">idmap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)^-1)) <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">functor_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_inverse</span>, <span class="id" title="var">equiv_ap</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_postcompose</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">D</span> <span class="id" title="var">b</span>) `{<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">D</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">extendable_postcompose'</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>) <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
Composition of the maps we extend along.  This also does not require funext. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_compose</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">extg</span> <span class="id" title="var">extf</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> (<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> <span class="id" title="var">h</span>).1).1); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> (<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> <span class="id" title="var">h</span>).1).2 (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> <span class="id" title="var">h</span>).2 <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">extg</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">extf</span> (<span class="id" title="var">h</span> <span class="id" title="var">oD</span> <span class="id" title="var">g</span>) (<span class="id" title="var">k</span> <span class="id" title="var">oD</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And cancellation 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cancelL_extendable</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">extg</span> <span class="id" title="var">extgf</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extgf</span> <span class="id" title="var">h</span>).1 <span class="id" title="var">oD</span> <span class="id" title="var">g</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extgf</span> <span class="id" title="var">h</span>).2 <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">h'</span> := (<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> <span class="id" title="var">h</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">k'</span> := (<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> <span class="id" title="var">k</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">extendable_postcompose'</span> <span class="id" title="var">n</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h'</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>) = <span class="id" title="var">k'</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>) <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_concat_lr</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> <span class="id" title="var">h</span>).2 <span class="id" title="var">b</span>)^ ((<span class="id" title="var">fst</span> <span class="id" title="var">extg</span> <span class="id" title="var">k</span>).2 <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="var">h'</span> <span class="id" title="var">c</span> = <span class="id" title="var">k'</span> <span class="id" title="var">c</span>) (<span class="id" title="var">snd</span> <span class="id" title="var">extg</span> <span class="id" title="var">h'</span> <span class="id" title="var">k'</span>) (<span class="id" title="var">snd</span> <span class="id" title="var">extgf</span> <span class="id" title="var">h'</span> <span class="id" title="var">k'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cancelR_extendable</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">extf</span> <span class="id" title="var">extgf</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extgf</span> (<span class="id" title="var">h</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)).1); <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">snd</span> <span class="id" title="var">extf</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extgf</span> (<span class="id" title="var">h</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)).1 <span class="id" title="var">oD</span> <span class="id" title="var">g</span>) <span class="id" title="var">h</span>) <span class="id" title="var">_</span>).1 <span class="id" title="var">b</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extgf</span> (<span class="id" title="var">h</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)).2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> <span class="id" title="var">extf</span> (<span class="id" title="var">h</span> <span class="id" title="var">oD</span> <span class="id" title="var">g</span>) (<span class="id" title="var">k</span> <span class="id" title="var">oD</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> <span class="id" title="var">extgf</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And transfer across homotopies 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_homotopic</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) {<span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">extf</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">p</span> <span class="id" title="var">a</span>)^ # <span class="id" title="var">h</span> <span class="id" title="var">a</span>)).1); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">apD</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">p</span> <span class="id" title="var">a</span>)^ # <span class="id" title="var">h</span> <span class="id" title="var">a</span>)).1) (<span class="id" title="var">p</span> <span class="id" title="var">a</span>))^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_transport_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">extf</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; (<span class="id" title="var">p</span> <span class="id" title="var">a</span>)^ # <span class="id" title="var">h</span> <span class="id" title="var">a</span>)).2 <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>, (<span class="id" title="var">snd</span> <span class="id" title="var">extf</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can extend along equivalences 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_equiv</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">eisretr</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span> # <span class="id" title="var">h</span> (<span class="id" title="var">f</span>^-1 <span class="id" title="var">b</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transport2</span> <span class="id" title="var">C</span> (<span class="id" title="var">eisadj</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">transport_compose</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">apD</span> <span class="id" title="var">h</span> (<span class="id" title="var">eissect</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And into contractible types 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_contr</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">Contr</span> (<span class="id" title="var">C</span> <span class="id" title="var">b</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> ?; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">center</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">contr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is inherited by types of homotopies. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_homotopy</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IHn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">ext</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ext</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>, <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
And the oo-version. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooExtendableAlong@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">j</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">k</span>}) : <span class="id" title="var">Type@</span>{<span class="id" title="var">l</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>, <span class="id" title="var">ExtendableAlong@</span>{<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span>} <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>.<br/>
</div>

<div class="doc">
Universe parameters are the same as for <span class="inlinecode"><span class="id" title="var">ExtendableAlong</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Arguments</span> <span class="id" title="var">ooExtendableAlong</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">_type_scope</span> (<span class="id" title="var">f</span> <span class="id" title="var">C</span>)%<span class="id" title="var">_function_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Universe modification. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_ooextendablealong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">amin</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">bmin</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">pmin</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">amin</span>}} {<span class="id" title="var">B</span> : <span class="id" title="var">Type@</span>{<span class="id" title="var">bmin</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">Type@</span>{<span class="id" title="var">pmin</span>})<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">p1</span> <span class="id" title="var">m1</span>} <span class="id" title="var">f</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ooExtendableAlong@</span>{<span class="id" title="var">a2</span> <span class="id" title="var">b2</span> <span class="id" title="var">p2</span> <span class="id" title="var">m2</span>} <span class="id" title="var">f</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">ext</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">lift_extendablealong@</span>{<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">amin</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">bmin</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">pmin</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>} <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">P</span> (<span class="id" title="var">ext</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
We take part of the data from <span class="inlinecode"><span class="id" title="var">ps</span></span> <span class="inlinecode">1</span> and part from <span class="inlinecode"><span class="id" title="var">ps</span></span> <span class="inlinecode">2</span> so that the inverse chosen is the expected one. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isequiv_ooextendable</span> `{<span class="id" title="var">Funext</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">ps</span> =&gt; <span class="id" title="var">isequiv_extendable</span> 0 (<span class="id" title="var">fst</span> (<span class="id" title="var">ps</span> 1%<span class="id" title="var">nat</span>), <span class="id" title="var">snd</span> (<span class="id" title="var">ps</span> 2)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_ooextendable_pathsplit</span> `{<span class="id" title="var">Funext</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> &lt;~&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ooPathSplit</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_functor_forall'</span> 1 <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_extendable_pathsplit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_ooextendable</span> `{<span class="id" title="var">Funext</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_ooextendable_pathsplit</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span>)^-1).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_ooextendable_isequiv</span> `{<span class="id" title="var">Funext</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>) =&gt; <span class="id" title="var">g</span> <span class="id" title="var">oD</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_oopathsplit_isequiv</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_ooextendable_pathsplit</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_postcompose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">D</span> <span class="id" title="var">b</span>) `{<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">D</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">ppp</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_postcompose</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">ppp</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_postcompose'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span> &lt;~&gt; <span class="id" title="var">D</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">D</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">ppp</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_postcompose'</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">ppp</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_compose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) -&gt; <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">extg</span> <span class="id" title="var">extf</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_compose</span> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">extg</span> <span class="id" title="var">n</span>) (<span class="id" title="var">extf</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cancelL_ooextendable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">extg</span> <span class="id" title="var">extgf</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">cancelL_extendable</span> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">extg</span> <span class="id" title="var">n</span>) (<span class="id" title="var">extgf</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cancelR_ooextendable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) -&gt; <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">g</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span>) <span class="id" title="var">P</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">extf</span> <span class="id" title="var">extgf</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">cancelR_extendable</span> <span class="id" title="var">n</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">extf</span> <span class="id" title="var">n</span>.+1) (<span class="id" title="var">extgf</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_homotopic</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) {<span class="id" title="var">g</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> == <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">extf</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_homotopic</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span> (<span class="id" title="var">extf</span> <span class="id" title="var">n</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_equiv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) `{<span class="id" title="var">IsEquiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_equiv</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_contr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">Contr</span> (<span class="id" title="var">C</span> <span class="id" title="var">b</span>)}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_contr</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_homotopy</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">C</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">b</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ext</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">extendable_homotopy</span>, <span class="id" title="var">ext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Extendability of a family <span class="inlinecode"><span class="id" title="var">C</span></span> along a map <span class="inlinecode"><span class="id" title="var">f</span></span> can be detected by extendability of the constant family <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> along the projection from the corresponding fiber of <span class="inlinecode"><span class="id" title="var">f</span></span> to <span class="inlinecode"><span class="id" title="var">Unit</span></span>.  Note that this is *not* an if-and-only-if; the hypothesis can be genuinely stronger than the conclusion. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_isnull_fibers</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">const_tt</span> (<span class="id" title="var">hfiber</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">orth</span> <span class="id" title="var">n</span>; <span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">orth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">orth</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; (<span class="id" title="var">fst</span> (<span class="id" title="var">orth</span> <span class="id" title="var">b</span> 1%<span class="id" title="var">nat</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span>.2 # <span class="id" title="var">g</span> <span class="id" title="var">x</span>.1)).1 <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">path_unit</span> <span class="id" title="var">tt</span> (<span class="id" title="var">const_tt</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">orth</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) 1%<span class="id" title="var">nat</span>) <span class="id" title="var">_</span>).2 (<span class="id" title="var">a</span> ; 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ooextendable_homotopy</span>, <span class="id" title="var">orth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Extensions</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab45"></a><h2 class="section">Extendability along cofibrations</h2>

<div class="paragraph"> </div>

 If a family is extendable along a cofibration (i.e. a mapping cylinder), it is extendable definitionally. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_extension</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">Cyl</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">C</span> (<span class="id" title="var">cyl</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">Cyl_ind</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span> (<span class="id" title="var">ext</span>.1 <span class="id" title="var">o</span> <span class="id" title="var">cyr</span>) <span class="id" title="var">_</span> ; <span class="id" title="var">_</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> ((<span class="id" title="var">ext</span>.2 <span class="id" title="var">a</span>)^ @<span class="id" title="var">Dl</span> <span class="id" title="var">_</span>)%<span class="id" title="var">dpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">apD</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>. </div>

<div class="doc">
The point is that this equality is now definitional. 
</div>
<div class="code">
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_extendable</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">Cyl</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">ext</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">ext</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cyl_extension</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ext</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ext</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_ooextendable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">Cyl</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">cyl</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">cyl_extendable</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> (<span class="id" title="var">ext</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_extension'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">C</span> (<span class="id" title="var">pr_cyl</span> (<span class="id" title="var">cyl</span> <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> <span class="id" title="var">cyl</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">pr_cyl</span>) <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">cyl_extension</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">ext</span>.1 <span class="id" title="var">o</span> <span class="id" title="var">pr_cyl</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">ext</span>.2.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_extendable'</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">cyl</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> (<span class="id" title="var">pr_cyl'</span> <span class="id" title="var">f</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">cyl_extendable</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">cancelL_extendable</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">cyl</span> <span class="id" title="var">pr_cyl</span> <span class="id" title="var">_</span> <span class="id" title="var">ext</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">extendable_equiv</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">cyl_ooextendable'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ext</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">cyl</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> (<span class="id" title="var">pr_cyl'</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">cyl_extendable'</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> (<span class="id" title="var">ext</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab46"></a><h2 class="section">Extendability along <span class="inlinecode"><span class="id" title="var">functor_prod</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_functor_prod</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> * <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b'</span>, <span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span>, <span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">g</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <span class="id" title="var">P</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">z</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a'</span> <span class="id" title="var">b'</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a'</span>) <span class="id" title="var">_</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="var">revert</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) <span class="id" title="var">_</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">s</span> (<span class="id" title="var">a</span>,<span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) <span class="id" title="var">_</span>).2 <span class="id" title="var">b</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> (<span class="id" title="var">g</span> <span class="id" title="var">b</span>)) <span class="id" title="var">_</span>).2 <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_prod</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> * <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b'</span>, <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span>, <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">extension_functor_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> <span class="id" title="var">b'</span>), <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a'</span>), <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">ef</span> <span class="id" title="var">b'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a'</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_prod</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> * <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b'</span>, <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a'</span>, <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">P</span> (<span class="id" title="var">a'</span>,<span class="id" title="var">b'</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_prod</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_functor_prod</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">ef</span> <span class="id" title="var">b'</span> <span class="id" title="var">n</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <span class="id" title="var">eg</span> <span class="id" title="var">a'</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab47"></a><h2 class="section">Extendability along <span class="inlinecode"><span class="id" title="var">functor_sigma</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_functor_sigma_id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ExtendableAlong</span> 1 (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">a</span>;<span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <span class="id" title="var">C</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">idmap</span> <span class="id" title="var">f</span> <span class="id" title="var">z</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">idmap</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">s</span> (<span class="id" title="var">a</span>;<span class="id" title="var">u</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">u</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span>).2 <span class="id" title="var">u</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_sigma_id</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">a</span>;<span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">idmap</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">ef</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">ef</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">extension_functor_sigma_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">ef</span> <span class="id" title="var">a</span>) , <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">ef</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_sigma_id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span>} {<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">a</span>;<span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">idmap</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_functor_sigma_id</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">ef</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
Unfortunately, the technology of <span class="inlinecode"><span class="id" title="var">ExtensionAlong</span></span> seems to be insufficient to state a general, funext-free version of <span class="inlinecode"><span class="id" title="var">extension_functor_sigma</span></span> with a nonidentity map on the bases; the hypothesis on the fiberwise map would have to be the existence of an extension in a function-type "up to pointwise equality".  With wild oo-groupoids we could probably manage it.  For now, we say something a bit hacky. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">HomotopyExtensionAlong</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">v</span>:<span class="id" title="var">Q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)), <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>;<span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;:= { <span class="id" title="var">q</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">b</span>:<span class="id" title="var">B</span>) (<span class="id" title="var">v</span>:<span class="id" title="var">Q</span> <span class="id" title="var">b</span>), <span class="id" title="var">C</span> (<span class="id" title="var">b</span>;<span class="id" title="var">v</span>) &amp; <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>, <span class="id" title="var">q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">v</span> = <span class="id" title="var">p</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> }.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">HomotopyExtendableAlong</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="var">Unit</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; ((<span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">A</span>) (<span class="id" title="var">v</span>:<span class="id" title="var">Q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)), <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>;<span class="id" title="var">v</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">HomotopyExtensionAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span>) *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <span class="id" title="var">C</span> <span class="id" title="var">z</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">HomotopyExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">h</span> <span class="id" title="var">z</span> = <span class="id" title="var">k</span> <span class="id" title="var">z</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooHomotopyExtendableAlong</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">HomotopyExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_functor_sigma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">HomotopyExtendableAlong</span> 1 <span class="id" title="var">f</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ExtendableAlong</span> 1 (<span class="id" title="var">g</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> ; <span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <span class="id" title="var">C</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">z</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">C</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">b</span> <span class="id" title="var">v</span>]; <span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span>).1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">s</span> (<span class="id" title="var">a</span>;<span class="id" title="var">u</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">u</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">fst</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>).2 <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span>).2 <span class="id" title="var">u</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_sigma</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">HomotopyExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> ; <span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">extension_functor_sigma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ef</span>, <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a</span>) , <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ef</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">eg</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_sigma</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>} {<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Type</span>} {<span class="id" title="var">Q</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">Q</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">sig</span> <span class="id" title="var">Q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">ooHomotopyExtendableAlong</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">C</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> ; <span class="id" title="var">v</span>)))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_sigma</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_functor_sigma</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">C</span> (<span class="id" title="var">ef</span> <span class="id" title="var">n</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">eg</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab48"></a><h2 class="section">Extendability along <span class="inlinecode"><span class="id" title="var">functor_sum</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_functor_sum</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> + <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">f</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">g</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <span class="id" title="var">P</span> (<span class="id" title="var">functor_sum</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">z</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">functor_sum</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">sum_ind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ; <span class="id" title="var">sum_ind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ef</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>)).1.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">eg</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>)).1.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ef</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>)).2.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">eg</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>)).2.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_sum</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> + <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">g</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_sum</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">ef</span> <span class="id" title="var">eg</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">extension_functor_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ef</span>, <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">eg</span>, <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ef</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>) (<span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">eg</span> (<span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>) (<span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_sum</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">A'</span> + <span class="id" title="var">B'</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">f</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eg</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">g</span> (<span class="id" title="var">P</span> <span class="id" title="var">o</span> <span class="id" title="var">inr</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_sum</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">extendable_functor_sum</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">ef</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">eg</span> ].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab49"></a><h2 class="section">Extendability along <span class="inlinecode"><span class="id" title="var">functor_coeq</span></span></h2>

<div class="paragraph"> </div>

 The path algebra in these proofs is terrible on its own.  But by replacing the maps with cofibrations so that many equalities hold definitionally, and modifying the extensions to also be strict, it becomes manageable with a bit of dependent-path technology. 
<div class="paragraph"> </div>

 First we show that if we can extend in <span class="inlinecode"><span class="id" title="var">C</span></span> along <span class="inlinecode"><span class="id" title="var">k</span></span>, and we can extend in appropriate path-types of <span class="inlinecode"><span class="id" title="var">C</span></span> along <span class="inlinecode"><span class="id" title="var">h</span></span>, then we can extend in <span class="inlinecode"><span class="id" title="var">C</span></span> along <span class="inlinecode"><span class="id" title="var">functor_coeq</span></span>.  This is where the hard work is. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extension_functor_coeq</span> {<span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">B'</span> <span class="id" title="var">A'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">f'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">g'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Coeq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ek</span> : <span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">k</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">B'</span>, <span class="id" title="var">C</span> (<span class="id" title="var">coeq</span> (<span class="id" title="var">g'</span> <span class="id" title="var">x</span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">h</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span> <span class="id" title="var">x</span> = <span class="id" title="var">v</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">C</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
</div>

<div class="doc">
We start by change the problem to involve <span class="inlinecode"><span class="id" title="var">CylCoeq</span></span> with cofibrations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">C'</span> := <span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">pr_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s'</span> <span class="id" title="var">x</span> := <span class="id" title="var">pr_cyl_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> # <span class="id" title="var">s</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="var">ExtensionAlong</span> (<span class="id" title="var">cyl_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C'</span> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;2:{ <span class="id" title="tactic">pose</span> (<span class="id" title="var">ex</span> := <span class="id" title="var">fst</span> (<span class="id" title="var">extendable_equiv</span> 1 <span class="id" title="var">C</span> (<span class="id" title="var">pr_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)) <span class="id" title="var">e</span>.1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">ex</span>.1); <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_inj</span> (<span class="id" title="var">transport</span> <span class="id" title="var">C</span> (<span class="id" title="var">pr_cyl_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">apD</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr_cyl_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span>) @ <span class="id" title="var">ex</span>.2 <span class="id" title="var">_</span> @ <span class="id" title="var">e</span>.2 <span class="id" title="var">x</span>). }<br/>
&nbsp;&nbsp;</div>

<div class="doc">
We have to transfer the hypotheses along those equivalences too.  We do it using <span class="inlinecode"><span class="id" title="var">cyl_extendable</span></span> so that the resulting extensions compute definitionally.  Note that this means we never need to refer to the <span class="inlinecode">.2</span> parts of the extensions, since they are identity paths. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">ea1</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> =&gt; (<span class="id" title="var">fst</span> (<span class="id" title="var">cyl_extendable'</span> 1 <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ek</span>) <span class="id" title="var">u</span>).1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">eb''</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExtendableAlong</span> 1 <span class="id" title="var">cyl</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span>:<span class="id" title="var">Cyl</span> <span class="id" title="var">h</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">C'</span> (<span class="id" title="var">cglue</span> <span class="id" title="var">x</span>) (<span class="id" title="var">u</span> <span class="id" title="var">x</span>) (<span class="id" title="var">v</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">extendable_postcompose'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">rapply</span> (<span class="id" title="var">cancelL_extendable</span> 1 <span class="id" title="var">_</span> <span class="id" title="var">cyl</span> <span class="id" title="var">pr_cyl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">rapply</span> <span class="id" title="var">extendable_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">eh</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">cglue</span> <span class="id" title="var">x</span> # <span class="id" title="var">u</span> (<span class="id" title="var">cyr</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">v</span> <span class="id" title="var">o</span> <span class="id" title="var">cyr</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">C'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">dp_compose</span> (<span class="id" title="var">pr_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">srapply</span> <span class="id" title="var">equiv_ds_fill_lr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="var">rapply</span> <span class="id" title="var">ap_pr_cylcoeq_cglue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="var">srapply</span> (<span class="id" title="var">transport</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">DPath</span> <span class="id" title="var">C</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3:<span class="id" title="tactic">exact</span> (<span class="id" title="var">dp_inverse</span> (<span class="id" title="var">dp_compose</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> (<span class="id" title="var">apD</span> <span class="id" title="var">u</span> (<span class="id" title="var">eissect</span> <span class="id" title="var">pr_cyl</span> <span class="id" title="var">x</span>) : <span class="id" title="var">DPath</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;4:<span class="id" title="tactic">exact</span> (<span class="id" title="var">dp_inverse</span> (<span class="id" title="var">dp_compose</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> (<span class="id" title="var">apD</span> <span class="id" title="var">v</span> (<span class="id" title="var">eissect</span> <span class="id" title="var">pr_cyl</span> <span class="id" title="var">x</span>) : <span class="id" title="var">DPath</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">pr_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> (<span class="id" title="var">coeq</span> (<span class="id" title="var">functor_cyl</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">coeq</span> (<span class="id" title="var">f</span> := <span class="id" title="var">f'</span>) (<span class="id" title="var">g</span> := <span class="id" title="var">g'</span>) (<span class="id" title="var">pr_cyl</span> (<span class="id" title="var">functor_cyl</span> <span class="id" title="var">p</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" title="tactic">change</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">pr_cylcoeq</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> (<span class="id" title="var">coeq</span> (<span class="id" title="var">functor_cyl</span> <span class="id" title="var">q</span> <span class="id" title="var">y</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">coeq</span> (<span class="id" title="var">f</span> := <span class="id" title="var">f'</span>) (<span class="id" title="var">g</span> := <span class="id" title="var">g'</span>) (<span class="id" title="var">pr_cyl</span> (<span class="id" title="var">functor_cyl</span> <span class="id" title="var">q</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">refine</span> ((<span class="id" title="var">ap_V</span> <span class="id" title="var">_</span> (<span class="id" title="var">eissect</span> <span class="id" title="var">pr_cyl</span> <span class="id" title="var">x</span>))^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">exact</span> (<span class="id" title="var">ap_compose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">pr_cyl</span> (<span class="id" title="var">functor_cyl</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)) <span class="id" title="var">coeq</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">eb1</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> =&gt; (<span class="id" title="var">fst</span> (<span class="id" title="var">cyl_extendable</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">eb''</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>)) <span class="id" title="var">w</span>).1).<br/>
</div>

<div class="doc">
Now we construct an extension using Coeq-induction, and prove that it *is* an extension also using Coeq-induction. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">_</span>;<span class="id" title="var">_</span>); <span class="id" title="var">srapply</span> <span class="id" title="var">Coeq_ind</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">ea1</span> (<span class="id" title="var">s'</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">eb1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">dp_compose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap_cyl_cylcoeq_cglue</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">apD</span> <span class="id" title="var">s'</span> (<span class="id" title="var">cglue</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;+ </div>

<div class="doc">
Since we're using cofibrations, this holds definitionally. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ </div>

<div class="doc">
And this one is much simpler than it would be otherwise. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ds_dp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">ds_G1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">dp_apD_compose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap_cyl_cylcoeq_cglue</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">b</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_equiv_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">Coeq_ind_beta_cglue</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now we can easily iterate into higher extendability. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_coeq</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">B'</span> <span class="id" title="var">A'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">f'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">g'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Coeq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ek</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">B'</span>, <span class="id" title="var">C</span> (<span class="id" title="var">coeq</span> (<span class="id" title="var">g'</span> <span class="id" title="var">x</span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">h</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span> <span class="id" title="var">x</span> = <span class="id" title="var">v</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">ek</span> <span class="id" title="var">eh</span>; <span class="id" title="var">simple_induction</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">ek</span> <span class="id" title="var">eh</span>; [ <span class="id" title="tactic">exact</span> <span class="id" title="var">tt</span> | <span class="id" title="tactic">split</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">extension_functor_coeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ek</span> , <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> =&gt; (<span class="id" title="var">fst</span> (<span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>) , <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ek</span> (<span class="id" title="var">u</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>) (<span class="id" title="var">v</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">eh</span> (<span class="id" title="var">u</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span> <span class="id" title="var">o</span> <span class="id" title="var">g'</span>) (<span class="id" title="var">v</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span> <span class="id" title="var">o</span> <span class="id" title="var">g'</span>))).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_coeq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">B'</span> <span class="id" title="var">A'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">f'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">g'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Coeq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ek</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">k</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <span class="id" title="var">B'</span>, <span class="id" title="var">C</span> (<span class="id" title="var">coeq</span> (<span class="id" title="var">g'</span> <span class="id" title="var">x</span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">h</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">u</span> <span class="id" title="var">x</span> = <span class="id" title="var">v</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_functor_coeq</span> <span class="id" title="var">n</span> (<span class="id" title="var">ek</span> <span class="id" title="var">n</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
Since extending at level <span class="inlinecode"><span class="id" title="var">n</span>.+1</span> into <span class="inlinecode"><span class="id" title="var">C</span></span> implies extending at level <span class="inlinecode"><span class="id" title="var">n</span></span> into path-types of <span class="inlinecode"><span class="id" title="var">C</span></span>, we get the following corollary. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">extendable_functor_coeq'</span> (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">B'</span> <span class="id" title="var">A'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">f'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">g'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Coeq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ek</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh</span> : <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">h</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span> <span class="id" title="var">o</span> <span class="id" title="var">g'</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ExtendableAlong</span> <span class="id" title="var">n</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">extendable_functor_coeq</span>.<br/>
&nbsp;&nbsp;1:<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> <span class="id" title="var">eh</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ooextendable_functor_coeq'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">B'</span> <span class="id" title="var">A'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">f</span> == <span class="id" title="var">f'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">k</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span> == <span class="id" title="var">g'</span> <span class="id" title="var">o</span> <span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Coeq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ek</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">k</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh</span> : <span class="id" title="var">ooExtendableAlong</span> <span class="id" title="var">h</span> (<span class="id" title="var">C</span> <span class="id" title="var">o</span> <span class="id" title="var">coeq</span> <span class="id" title="var">o</span> <span class="id" title="var">g'</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">ooExtendableAlong</span> (<span class="id" title="var">functor_coeq</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">extendable_functor_coeq'</span> <span class="id" title="var">n</span> (<span class="id" title="var">ek</span> <span class="id" title="var">n</span>) (<span class="id" title="var">eh</span> <span class="id" title="var">n</span>.+1).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>