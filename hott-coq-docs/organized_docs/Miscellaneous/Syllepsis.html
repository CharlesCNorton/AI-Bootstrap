<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Syllepsis</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Syllepsis</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">HoTT</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span> <span class="id" title="keyword">Types</span>.<br/>

<br/>
<span class="comment">(*&nbsp;vertical&nbsp;composition&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">concat_square_vert</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a0</span> <span class="id" title="var">b0</span> <span class="id" title="var">c0</span> : <span class="id" title="var">X</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">c1</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a01</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b01</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c01</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ab0</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">b0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ab1</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">b1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">bc0</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">c0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">bc1</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">p</span> : <span class="id" title="var">ab0</span> @ <span class="id" title="var">b01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">ab1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">q</span> : <span class="id" title="var">bc0</span> @ <span class="id" title="var">c01</span> = <span class="id" title="var">b01</span> @ <span class="id" title="var">bc1</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">concat_square_vert</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ab0</span> @ <span class="id" title="var">bc0</span>) @ <span class="id" title="var">c01</span> = <span class="id" title="var">a01</span> @ (<span class="id" title="var">ab1</span> @ <span class="id" title="var">bc1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_pp_p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">concat_square_vert</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> &quot;[-]" := (<span class="id" title="var">concat_square_vert</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="comment">(*&nbsp;horizontal&nbsp;composition&nbsp;of&nbsp;squares&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">concat_square_hor</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a0</span> <span class="id" title="var">b0</span> <span class="id" title="var">c0</span> : <span class="id" title="var">X</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">c1</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a01</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b01</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c01</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ab0</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">b0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ab1</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">b1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">bc0</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">c0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">bc1</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">p</span> : <span class="id" title="var">a01</span> @ <span class="id" title="var">ab1</span> = <span class="id" title="var">ab0</span> @ <span class="id" title="var">b01</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">q</span> : <span class="id" title="var">b01</span> @ <span class="id" title="var">bc1</span> = <span class="id" title="var">bc0</span> @ <span class="id" title="var">c01</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">concat_square_hor</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a01</span> @ (<span class="id" title="var">ab1</span> @ <span class="id" title="var">bc1</span>) = (<span class="id" title="var">ab0</span> @ <span class="id" title="var">bc0</span>) @ <span class="id" title="var">c01</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concat_p_pp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">concat_square_hor</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> &quot;[I]" := (<span class="id" title="var">concat_square_hor</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;will&nbsp;frequently&nbsp;use&nbsp;the&nbsp;following&nbsp;equivalences.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rlucancel</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} :<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> = <span class="id" title="var">q</span>) &lt;~&gt; (<span class="id" title="var">p</span> @ 1 = 1 @ <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_compose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rlucancel_inv</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} := (@<span class="id" title="var">rlucancel</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^-1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lrucancel</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} :<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> = <span class="id" title="var">q</span>) &lt;~&gt; (1 @ <span class="id" title="var">p</span> = <span class="id" title="var">q</span> @ 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_compose'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">concat_1p</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;special&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">equiv_path_ind</span></span>&nbsp;comes&nbsp;up&nbsp;a&nbsp;lot.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_ind_rlucancel</span> {<span class="id" title="var">X</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>), <span class="id" title="var">p</span> @ 1 = 1 @ <span class="id" title="var">q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">P</span> <span class="id" title="var">p</span> (<span class="id" title="var">rlucancel</span> 1))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">p</span> @ 1 = 1 @ <span class="id" title="var">q</span>), <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">rlucancel</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;special&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">equiv_path_ind</span></span>&nbsp;comes&nbsp;up&nbsp;a&nbsp;lot.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_ind_lrucancel</span> {<span class="id" title="var">X</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>), 1 @ <span class="id" title="var">p</span> = <span class="id" title="var">q</span> @ 1 -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">P</span> <span class="id" title="var">p</span> (<span class="id" title="var">lrucancel</span> 1))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) (<span class="id" title="var">s</span> : 1 @ <span class="id" title="var">p</span> = <span class="id" title="var">q</span> @ 1), <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">lrucancel</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Interaction&nbsp;of&nbsp;the&nbsp;above&nbsp;equivalences&nbsp;with&nbsp;square&nbsp;composition.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rlucancel_sVs_1_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} {<span class="id" title="var">r</span>} (<span class="id" title="var">theta</span> : <span class="id" title="var">p</span> @ <span class="id" title="var">q</span> = <span class="id" title="var">r</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">rlucancel</span> 1 [-] <span class="id" title="var">rlucancel</span> 1) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">theta</span> = <span class="id" title="var">whiskerR</span> <span class="id" title="var">theta</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">rlucancel</span> 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">theta</span>, <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lrucancel_sHs_1_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} {<span class="id" title="var">r</span>} (<span class="id" title="var">theta</span> : <span class="id" title="var">p</span> @ <span class="id" title="var">q</span> = <span class="id" title="var">r</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">lrucancel</span> 1 [<span class="id" title="var">I</span>] <span class="id" title="var">lrucancel</span> 1) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">theta</span> <span class="id" title="var">_</span> = <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">theta</span> @ (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">theta</span>, <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rlucancel_sHs_1</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">rlucancel</span> 1 [<span class="id" title="var">I</span>] <span class="id" title="var">rlucancel</span> 1) = <span class="id" title="var">rlucancel</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lrucancel_sVs_1</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">lrucancel</span> 1 [-] <span class="id" title="var">lrucancel</span> 1) = <span class="id" title="var">lrucancel</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Naturality&nbsp;of&nbsp;composition&nbsp;with&nbsp;1.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ulnat</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> 1 <span class="id" title="var">p</span> @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">v</span> = <span class="id" title="var">concat_1p</span> <span class="id" title="var">u</span> @ <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">urnat</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> 1 @ <span class="id" title="var">concat_p1</span> <span class="id" title="var">v</span> = <span class="id" title="var">concat_p1</span> <span class="id" title="var">u</span> @ <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Exchange&nbsp;law&nbsp;for&nbsp;whiskering&nbsp;on&nbsp;the&nbsp;left&nbsp;and&nbsp;on&nbsp;the&nbsp;right.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">wlrnat</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} <span class="id" title="var">p</span> <span class="id" title="var">q</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span> @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">q</span> <span class="id" title="var">y</span> = <span class="id" title="var">whiskerR</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">v</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Eckmann-Hilton&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eh</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> @ <span class="id" title="var">q</span> = <span class="id" title="var">q</span> @ <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat</span> <span class="id" title="var">q</span> [-] <span class="id" title="var">ulnat</span> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat</span> <span class="id" title="var">p</span> [-] <span class="id" title="var">urnat</span> <span class="id" title="var">q</span>))^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Eckmann-Hilton&nbsp;on&nbsp;reflexivity.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">eh_1p_gen</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) {<span class="id" title="var">q</span>} (<span class="id" title="var">theta</span> : <span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> 1 @ 1 = 1 @ <span class="id" title="var">q</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">rlucancel_inv</span> (1 [-] <span class="id" title="var">theta</span>))^ @ <span class="id" title="var">wlrnat</span> 1 <span class="id" title="var">p</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">theta</span> [-] 1) @ <span class="id" title="var">concat_p1</span> <span class="id" title="var">q</span> = <span class="id" title="var">concat_1p</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">q</span> <span class="id" title="var">theta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_1p</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">eh</span> 1 <span class="id" title="var">p</span> @ <span class="id" title="var">concat_p1</span> <span class="id" title="var">p</span> = <span class="id" title="var">concat_1p</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">eh_1p_gen</span> <span class="id" title="var">p</span> (<span class="id" title="var">urnat</span> <span class="id" title="var">p</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">eh_p1_gen</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) {<span class="id" title="var">q</span>} (<span class="id" title="var">theta</span> : <span class="id" title="var">whiskerL</span> 1 <span class="id" title="var">p</span> @ 1 = 1 @ <span class="id" title="var">q</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">theta</span> [-] 1))^ @ <span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> 1 @ <span class="id" title="var">rlucancel_inv</span> (1 [-] <span class="id" title="var">theta</span>) @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">q</span> = <span class="id" title="var">concat_p1</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">q</span> <span class="id" title="var">theta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_p1</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">eh</span> <span class="id" title="var">p</span> 1 @ <span class="id" title="var">concat_1p</span> <span class="id" title="var">p</span> = <span class="id" title="var">concat_p1</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">eh_p1_gen</span> <span class="id" title="var">p</span> (<span class="id" title="var">ulnat</span> <span class="id" title="var">p</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Naturality&nbsp;of&nbsp;Eckmann-Hilton.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehlnat</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">u</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span> @ <span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span> = <span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span> @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehrnat</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> @ <span class="id" title="var">eh</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> = <span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Naturality&nbsp;of&nbsp;Eckmann-Hilton&nbsp;when&nbsp;the&nbsp;fixed&nbsp;path&nbsp;is&nbsp;1.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehlnat_1p</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">ehlnat</span> 1 <span class="id" title="var">p</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat</span> <span class="id" title="var">p</span>) @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh_1p</span> <span class="id" title="var">u</span>) <span class="id" title="var">_</span> = <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_1p</span> <span class="id" title="var">v</span>) @ <span class="id" title="var">ulnat</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lrucancel_sHs_1_pp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehrnat_p1</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">ehrnat</span> <span class="id" title="var">p</span> 1 [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat</span> <span class="id" title="var">p</span>) @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh_p1</span> <span class="id" title="var">u</span>) <span class="id" title="var">_</span> = <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_p1</span> <span class="id" title="var">v</span>) @ <span class="id" title="var">urnat</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lrucancel_sHs_1_pp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;These&nbsp;lemmas&nbsp;should&nbsp;probably&nbsp;be&nbsp;in&nbsp;the&nbsp;library&nbsp;in&nbsp;some&nbsp;form.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">concat_p_pp_pp_p</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">v</span> = <span class="id" title="var">x</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> @ <span class="id" title="var">concat_pp_p</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> = 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">concat_pp_p_p_pp</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">v</span> = <span class="id" title="var">x</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> @ <span class="id" title="var">concat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> = 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;These&nbsp;lemmas&nbsp;are&nbsp;in&nbsp;the&nbsp;library&nbsp;but&nbsp;with&nbsp;worse&nbsp;computational&nbsp;behavior.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">whiskerL_pp</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} (<span class="id" title="var">u</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) {<span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">z</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">v</span> = <span class="id" title="var">w</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">w</span> = <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">u</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) = <span class="id" title="var">whiskerL</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">u</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <span class="id" title="var">whiskerR_pp</span> {<span class="id" title="var">A</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">z</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">v</span> = <span class="id" title="var">w</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) <span class="id" title="var">z</span> = <span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">z</span> @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">q</span> <span class="id" title="var">z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"ulnat&nbsp;(p&nbsp;@&nbsp;q)"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"ulnat&nbsp;p"&nbsp;and&nbsp;"ulnat&nbsp;q".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ulnat_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">v</span> = <span class="id" title="var">w</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ulnat</span> <span class="id" title="var">p</span> [-] <span class="id" title="var">ulnat</span> <span class="id" title="var">q</span> = <span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerL_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"urnat&nbsp;(p&nbsp;@&nbsp;q)"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"urnat&nbsp;p"&nbsp;and&nbsp;"urnat&nbsp;q".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">urnat_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">v</span> = <span class="id" title="var">w</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">urnat</span> <span class="id" title="var">p</span> [-] <span class="id" title="var">urnat</span> <span class="id" title="var">q</span> = <span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerR_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ <span class="id" title="var">_</span> @ <span class="id" title="var">urnat</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"ehlnat&nbsp;u&nbsp;(p&nbsp;@&nbsp;q)"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"ehlnat&nbsp;u&nbsp;p"&nbsp;and&nbsp;"ehlnat&nbsp;u&nbsp;q".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehlnat_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">u</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) {<span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">v</span> = 1) (<span class="id" title="var">q</span> : 1 = <span class="id" title="var">w</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">ehlnat</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span> [-] <span class="id" title="var">ehlnat</span> <span class="id" title="var">u</span> <span class="id" title="var">q</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ =<br/>
&nbsp;&nbsp;(<span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerL_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ <span class="id" title="var">_</span>) @ <span class="id" title="var">ehlnat</span> <span class="id" title="var">u</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rlucancel</span>, <span class="id" title="var">lrucancel_sVs_1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"ehrnat&nbsp;(p&nbsp;@&nbsp;q)&nbsp;w"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"ehrnat&nbsp;p&nbsp;w"&nbsp;and&nbsp;"ehrnat&nbsp;q&nbsp;w".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehrnat_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">u</span> = 1) (<span class="id" title="var">q</span> : 1 = <span class="id" title="var">v</span>) (<span class="id" title="var">w</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">ehrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">w</span> [-] <span class="id" title="var">ehrnat</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerL_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ =<br/>
&nbsp;&nbsp;(<span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerR_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ <span class="id" title="var">_</span>) @ <span class="id" title="var">ehrnat</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) <span class="id" title="var">w</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rlucancel</span>, <span class="id" title="var">lrucancel_sVs_1</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"wlrnat&nbsp;p&nbsp;(q&nbsp;@&nbsp;r)"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"wlrnat&nbsp;p&nbsp;q"&nbsp;and&nbsp;"wlrnat&nbsp;q&nbsp;p".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">wlrnat_p_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">v</span> = <span class="id" title="var">w</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> [<span class="id" title="var">I</span>] <span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>) @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerR_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)^ <span class="id" title="var">_</span> =<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)^ @ <span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> (<span class="id" title="var">q</span> @ <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"wlrnat&nbsp;(p&nbsp;@&nbsp;q)&nbsp;r"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"wlrnat&nbsp;p&nbsp;r"&nbsp;and&nbsp;"wlrnat&nbsp;q&nbsp;r".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">wlrnat_pp_p</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">y</span> = <span class="id" title="var">z</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">u</span> = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> [-] <span class="id" title="var">wlrnat</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerL_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ =<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">whiskerL_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>)^ <span class="id" title="var">_</span> @ <span class="id" title="var">wlrnat</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>, <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"wlrnat&nbsp;p&nbsp;q"&nbsp;suitably&nbsp;relates&nbsp;to&nbsp;"wlrnat&nbsp;q&nbsp;p".&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">wlrnat_V</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} <span class="id" title="var">p</span> <span class="id" title="var">q</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">wlrnat</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) (<span class="id" title="var">eh</span> <span class="id" title="var">v</span> <span class="id" title="var">y</span>) @ (<span class="id" title="var">ehrnat</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> [-] <span class="id" title="var">ehlnat</span> <span class="id" title="var">v</span> <span class="id" title="var">p</span>) =<br/>
&nbsp;&nbsp;(<span class="id" title="var">ehlnat</span> <span class="id" title="var">u</span> <span class="id" title="var">p</span> [-] <span class="id" title="var">ehrnat</span> <span class="id" title="var">q</span> <span class="id" title="var">y</span>) @ <span class="id" title="var">whiskerL</span> (<span class="id" title="var">eh</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span>) (<span class="id" title="var">wlrnat</span> <span class="id" title="var">q</span> <span class="id" title="var">p</span>)^.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">lrucancel</span> 1).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Coherence&nbsp;1: We now prove that "eh p (q @ r)" suitably relates to "eh p q" and "eh p r". *)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">eh_p_pp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx0</span> <span class="id" title="var">x0</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx1</span> <span class="id" title="var">x1</span> : <span class="id" title="var">c</span> = <span class="id" title="var">d</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx2</span> <span class="id" title="var">x2</span> : <span class="id" title="var">e</span> = <span class="id" title="var">f</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wry0</span> <span class="id" title="var">y0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">d</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wry1</span> <span class="id" title="var">y1</span> : <span class="id" title="var">a</span> = <span class="id" title="var">c</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz0</span> <span class="id" title="var">z0</span> : <span class="id" title="var">d</span> = <span class="id" title="var">f</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz1</span> <span class="id" title="var">z1</span> : <span class="id" title="var">c</span> = <span class="id" title="var">e</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wryz0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">f</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wryz1</span> : <span class="id" title="var">a</span> = <span class="id" title="var">e</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x2</span> : <span class="id" title="var">wlx2</span> @ 1 = 1 @ <span class="id" title="var">x2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_y0</span> : <span class="id" title="var">wry0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_y1</span> : <span class="id" title="var">wry1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z0</span> : <span class="id" title="var">wrz0</span> @ 1 = 1 @ <span class="id" title="var">z0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z1</span> : <span class="id" title="var">wrz1</span> @ 1 = 1 @ <span class="id" title="var">z1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_yz0</span> : <span class="id" title="var">wryz0</span> @ 1 = 1 @ (<span class="id" title="var">y0</span> @ <span class="id" title="var">z0</span>)}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_yz1</span> : <span class="id" title="var">wryz1</span> @ 1 = 1 @ (<span class="id" title="var">y1</span> @ <span class="id" title="var">z1</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_y</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wry0</span> = <span class="id" title="var">wry1</span> @ <span class="id" title="var">wlx1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_z</span> : <span class="id" title="var">wlx1</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wrz1</span> @ <span class="id" title="var">wlx2</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_yz</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wryz0</span> = <span class="id" title="var">wryz1</span> @ <span class="id" title="var">wlx2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrpp_yz0</span> : <span class="id" title="var">wry0</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wryz0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrpp_yz1</span> : <span class="id" title="var">wry1</span> @ <span class="id" title="var">wrz1</span> = <span class="id" title="var">wryz1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_urnat_yz0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">urnat_y0</span> [-] <span class="id" title="var">urnat_z0</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">urnat_yz0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_urnat_yz1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">urnat_y1</span> [-] <span class="id" title="var">urnat_z1</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">urnat_yz1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_wlrnat_x_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wlrnat_x_y</span> [<span class="id" title="var">I</span>] <span class="id" title="var">wlrnat_x_z</span>) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wrpp_yz0</span> @ <span class="id" title="var">wlrnat_x_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;coherence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_p_pp_gen</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_x_y</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">urnat_y0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_x_y</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_y1</span> [-] <span class="id" title="var">ulnat_x1</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_x_z</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x1</span> [-] <span class="id" title="var">urnat_z0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_x_z</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_z1</span> [-] <span class="id" title="var">ulnat_x2</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_x_yz</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">urnat_yz0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_x_yz</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_yz1</span> [-] <span class="id" title="var">ulnat_x2</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">EH_x_yz</span> @ (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">EH_x_z</span>^) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">EH_x_y</span> <span class="id" title="var">_</span> @ <span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_urnat_yz0</span>, <span class="id" title="var">H_urnat_yz1</span>, <span class="id" title="var">H_wlrnat_x_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_urnat_yz0</span>, <span class="id" title="var">H_urnat_yz1</span>, <span class="id" title="var">H_wlrnat_x_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_urnat_yz0</span> <span class="id" title="var">H_urnat_yz1</span> <span class="id" title="var">H_wlrnat_x_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wrpp_yz0</span>, <span class="id" title="var">wrpp_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">wrpp_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x0</span> <span class="id" title="var">ulnat_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x1</span> <span class="id" title="var">ulnat_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x2</span> <span class="id" title="var">ulnat_x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y0</span> <span class="id" title="var">urnat_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y1</span> <span class="id" title="var">urnat_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z0</span> <span class="id" title="var">urnat_z0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z1</span> <span class="id" title="var">urnat_z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wry0</span>, <span class="id" title="var">wry1</span>, <span class="id" title="var">wrz0</span>, <span class="id" title="var">wrz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wry0</span> <span class="id" title="var">wry1</span> <span class="id" title="var">wrz0</span> <span class="id" title="var">wrz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx2</span> <span class="id" title="var">wlrnat_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx1</span> <span class="id" title="var">wlrnat_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">eh_p_pp</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eh_p_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">eh</span> <span class="id" title="var">p</span> (<span class="id" title="var">q</span> @ <span class="id" title="var">r</span>) @ (<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>)^) =<br/>
&nbsp;&nbsp;<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">eh_p_pp_gen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">urnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">urnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">wlrnat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Coherence&nbsp;1: We now prove that "eh (p @ q) r" suitably relates to "eh p r" and "eh q r". *)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">eh_pp_p</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx0</span> <span class="id" title="var">x0</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx1</span> <span class="id" title="var">x1</span> : <span class="id" title="var">d</span> = <span class="id" title="var">e</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly0</span> <span class="id" title="var">y0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly1</span> <span class="id" title="var">y1</span> : <span class="id" title="var">e</span> = <span class="id" title="var">f</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz0</span> <span class="id" title="var">z0</span> : <span class="id" title="var">c</span> = <span class="id" title="var">f</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz1</span> <span class="id" title="var">z1</span> : <span class="id" title="var">b</span> = <span class="id" title="var">e</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz2</span> <span class="id" title="var">z2</span> : <span class="id" title="var">a</span> = <span class="id" title="var">d</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlxy0</span> : <span class="id" title="var">a</span> = <span class="id" title="var">c</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlxy1</span> : <span class="id" title="var">d</span> = <span class="id" title="var">f</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_y0</span> : <span class="id" title="var">wly0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_y1</span> : <span class="id" title="var">wly1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z0</span> : <span class="id" title="var">wrz0</span> @ 1 = 1 @ <span class="id" title="var">z0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z1</span> : <span class="id" title="var">wrz1</span> @ 1 = 1 @ <span class="id" title="var">z1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z2</span> : <span class="id" title="var">wrz2</span> @ 1 = 1 @ <span class="id" title="var">z2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_xy0</span> : <span class="id" title="var">wlxy0</span> @ 1 = 1 @ (<span class="id" title="var">x0</span> @ <span class="id" title="var">y0</span>)}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_xy1</span> : <span class="id" title="var">wlxy1</span> @ 1 = 1 @ (<span class="id" title="var">x1</span> @ <span class="id" title="var">y1</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_z</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wrz1</span> = <span class="id" title="var">wrz2</span> @ <span class="id" title="var">wlx1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_y_z</span> : <span class="id" title="var">wly0</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wrz1</span> @ <span class="id" title="var">wly1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_xy_z</span> : <span class="id" title="var">wlxy0</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wrz2</span> @ <span class="id" title="var">wlxy1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlpp_xy0</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wly0</span> = <span class="id" title="var">wlxy0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlpp_xy1</span> : <span class="id" title="var">wlx1</span> @ <span class="id" title="var">wly1</span> = <span class="id" title="var">wlxy1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ulnat_xy0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">ulnat_y0</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_xy0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat_xy0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ulnat_xy1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ulnat_x1</span> [-] <span class="id" title="var">ulnat_y1</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_xy1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat_xy1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_wlrnat_xy_z</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wlrnat_x_z</span> [-] <span class="id" title="var">wlrnat_y_z</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_xy1</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_xy0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">wlrnat_xy_z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;coherence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_pp_p_gen</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_x_z</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">urnat_z1</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_x_z</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_z2</span> [-] <span class="id" title="var">ulnat_x1</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_y_z</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_y0</span> [-] <span class="id" title="var">urnat_z0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_y_z</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_z1</span> [-] <span class="id" title="var">ulnat_y1</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_xy_z</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_xy0</span> [-] <span class="id" title="var">urnat_z0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_xy_z</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_z2</span> [-] <span class="id" title="var">ulnat_xy1</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">EH_xy_z</span> @ (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">EH_x_z</span>^ <span class="id" title="var">_</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">EH_y_z</span> @ <span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_ulnat_xy0</span>, <span class="id" title="var">H_ulnat_xy1</span>, <span class="id" title="var">H_wlrnat_xy_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_ulnat_xy0</span>, <span class="id" title="var">H_ulnat_xy1</span>, <span class="id" title="var">H_wlrnat_xy_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_ulnat_xy0</span> <span class="id" title="var">H_ulnat_xy1</span> <span class="id" title="var">H_wlrnat_xy_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlpp_xy0</span>, <span class="id" title="var">wlpp_xy1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlpp_xy0</span> <span class="id" title="var">wlpp_xy1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x0</span> <span class="id" title="var">ulnat_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x1</span> <span class="id" title="var">ulnat_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y0</span> <span class="id" title="var">ulnat_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y1</span> <span class="id" title="var">ulnat_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z0</span> <span class="id" title="var">urnat_z0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z1</span> <span class="id" title="var">urnat_z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z2</span> <span class="id" title="var">urnat_z2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlx0</span>, <span class="id" title="var">wlx1</span>, <span class="id" title="var">wly0</span>, <span class="id" title="var">wly1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlx0</span> <span class="id" title="var">wlx1</span> <span class="id" title="var">wly0</span> <span class="id" title="var">wly1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrz2</span> <span class="id" title="var">wlrnat_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrz1</span> <span class="id" title="var">wlrnat_y_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wrz0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wrz0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">eh_pp_p</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eh_pp_p</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">eh</span> (<span class="id" title="var">p</span> @ <span class="id" title="var">q</span>) <span class="id" title="var">r</span> @ (<span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>)^ <span class="id" title="var">_</span>) =<br/>
&nbsp;&nbsp;<span class="id" title="var">concat_pp_p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) @ <span class="id" title="var">concat_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">eh_pp_p_gen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ulnat_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ulnat_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">wlrnat_pp_p</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Syllepsis:&nbsp;We&nbsp;now&nbsp;prove&nbsp;that&nbsp;"eh&nbsp;p&nbsp;q"&nbsp;is&nbsp;suitably&nbsp;related&nbsp;to&nbsp;"eh&nbsp;q&nbsp;p".&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">eh_V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx0</span> <span class="id" title="var">x0</span> <span class="id" title="var">wrx0</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx1</span> <span class="id" title="var">x1</span> <span class="id" title="var">wrx1</span> : <span class="id" title="var">c</span> = <span class="id" title="var">d</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly0</span> <span class="id" title="var">y0</span> <span class="id" title="var">wry0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">d</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly1</span> <span class="id" title="var">y1</span> <span class="id" title="var">wry1</span> : <span class="id" title="var">a</span> = <span class="id" title="var">c</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_x0</span> : <span class="id" title="var">wrx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_x1</span> : <span class="id" title="var">wrx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_y0</span> : <span class="id" title="var">wly0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_y0</span> : <span class="id" title="var">wry0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_y1</span> : <span class="id" title="var">wly1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_y1</span> : <span class="id" title="var">wry1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehlnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">wrx0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehlnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">wrx1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_y0</span> : <span class="id" title="var">wry0</span> @ 1 = 1 @ <span class="id" title="var">wly0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_y1</span> : <span class="id" title="var">wry1</span> @ 1 = 1 @ <span class="id" title="var">wly1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_y</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wry0</span> = <span class="id" title="var">wry1</span> @ <span class="id" title="var">wlx1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_y_x</span> : <span class="id" title="var">wly1</span> @ <span class="id" title="var">wrx1</span> = <span class="id" title="var">wrx0</span> @ <span class="id" title="var">wly0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">ehlnat_1p_x0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat_x0</span>) @ 1  = 1 @ <span class="id" title="var">ulnat_x0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">ehlnat_1p_x1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat_x1</span>) @ 1 = 1 @ <span class="id" title="var">ulnat_x1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">ehrnat_p1_y0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_y0</span>) @ 1 = 1 @ <span class="id" title="var">urnat_y0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">ehrnat_p1_y1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_y1</span>) @ 1 = 1 @ <span class="id" title="var">urnat_y1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">wlrnat_V_x_y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_y</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_y1</span> [-] <span class="id" title="var">ehlnat_x1</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [-] <span class="id" title="var">ehrnat_y0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_y_x</span>^.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;syllepsis&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_V_gen</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_x_y</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">urnat_y0</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_x_y</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_y1</span> [-] <span class="id" title="var">ulnat_x1</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">EH_y_x</span> := (<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_y1</span> [-] <span class="id" title="var">urnat_x1</span>))^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_y_x</span> @ <span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_x0</span> [-] <span class="id" title="var">ulnat_y0</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">EH_x_y</span> @ <span class="id" title="var">EH_y_x</span> = 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H_whiskerR_wlrnat_x_y</span> := <span class="id" title="var">moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">moveL_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_p1</span> <span class="id" title="var">wlrnat_x_y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">concat</span> <span class="id" title="var">H_whiskerR_wlrnat_x_y</span>^) <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_Vp</span>, <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_whiskerR_wlrnat_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_x0</span> <span class="id" title="var">ehlnat_1p_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_x1</span> <span class="id" title="var">ehlnat_1p_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_y0</span> <span class="id" title="var">ehrnat_p1_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_y1</span> <span class="id" title="var">ehrnat_p1_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x0</span> <span class="id" title="var">urnat_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x1</span> <span class="id" title="var">urnat_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y0</span> <span class="id" title="var">ulnat_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y1</span> <span class="id" title="var">ulnat_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_y_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx0</span> <span class="id" title="var">ehlnat_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx1</span> <span class="id" title="var">ehlnat_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly0</span> <span class="id" title="var">ehrnat_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly1</span> <span class="id" title="var">ehrnat_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wry0</span>, <span class="id" title="var">wry1</span>, <span class="id" title="var">wlx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wry0</span> <span class="id" title="var">wry1</span> <span class="id" title="var">wlx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">eh_V</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eh_V</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <span class="id" title="var">idpath</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) = <span class="id" title="var">idpath</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">a</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">eh</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> @ <span class="id" title="var">eh</span> <span class="id" title="var">q</span> <span class="id" title="var">p</span> = 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">eh_V_gen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ehlnat_1p</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ehlnat_1p</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ehrnat_p1</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">ehrnat_p1</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">wlrnat_V</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Given&nbsp;"ehrnat_p1&nbsp;y"&nbsp;and&nbsp;"ehrnat_p1&nbsp;z",&nbsp;we&nbsp;can&nbsp;explicitly&nbsp;construct&nbsp;"ehrnat_p1&nbsp;(y&nbsp;@&nbsp;z)".&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Ehrnat_p1_pp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a0</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">X</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b0</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">X</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c0</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wry</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">b0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">c0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlz</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">y</span> : <span class="id" title="var">a2</span> = <span class="id" title="var">b2</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">z</span> : <span class="id" title="var">b2</span> = <span class="id" title="var">c2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wryz</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">c0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlyz</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a01</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a12</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b01</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b12</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">b2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c01</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">c1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c12</span> : <span class="id" title="var">c1</span> = <span class="id" title="var">c2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a02</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a2</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c02</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">c2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_y</span> : <span class="id" title="var">wry</span> @ <span class="id" title="var">b01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">wly</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_z</span> : <span class="id" title="var">wrz</span> @ <span class="id" title="var">c01</span> = <span class="id" title="var">b01</span> @ <span class="id" title="var">wlz</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_yz</span> : <span class="id" title="var">wryz</span> @ <span class="id" title="var">c01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">wlyz</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_y</span> : <span class="id" title="var">wly</span> @ <span class="id" title="var">b12</span> = <span class="id" title="var">a12</span> @ <span class="id" title="var">y</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_z</span> : <span class="id" title="var">wlz</span> @ <span class="id" title="var">c12</span> = <span class="id" title="var">b12</span> @ <span class="id" title="var">z</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ulnat_yz</span> : <span class="id" title="var">wlyz</span> @ <span class="id" title="var">c12</span> = <span class="id" title="var">a12</span> @ (<span class="id" title="var">y</span> @ <span class="id" title="var">z</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_y</span> : <span class="id" title="var">wry</span> @ (<span class="id" title="var">b01</span> @ <span class="id" title="var">b12</span>) = <span class="id" title="var">a02</span> @ <span class="id" title="var">y</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_z</span> : <span class="id" title="var">wrz</span> @ <span class="id" title="var">c02</span> = (<span class="id" title="var">b01</span> @ <span class="id" title="var">b12</span>) @ <span class="id" title="var">z</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">urnat_yz</span> : <span class="id" title="var">wryz</span> @ <span class="id" title="var">c02</span> = <span class="id" title="var">a02</span> @ (<span class="id" title="var">y</span> @ <span class="id" title="var">z</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrpp_yz</span> : <span class="id" title="var">wry</span> @ <span class="id" title="var">wrz</span> = <span class="id" title="var">wryz</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlpp_yz</span> : <span class="id" title="var">wly</span> @ <span class="id" title="var">wlz</span> = <span class="id" title="var">wlyz</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">H_a02</span> : <span class="id" title="var">a01</span> @ <span class="id" title="var">a12</span> = <span class="id" title="var">a02</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">H_c02</span> : <span class="id" title="var">c01</span> @ <span class="id" title="var">c12</span> = <span class="id" title="var">c02</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ehrnat_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y</span> [-] <span class="id" title="var">ehrnat_z</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ehrnat_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ulnat_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ulnat_y</span> [-] <span class="id" title="var">ulnat_z</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_yz</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_urnat_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">urnat_y</span> [-] <span class="id" title="var">urnat_z</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz</span> <span class="id" title="var">_</span> @ <span class="id" title="var">urnat_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">ehrnat_p1_y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_y</span>) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">H_a02</span> <span class="id" title="var">_</span> = 1 @ <span class="id" title="var">urnat_y</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">ehrnat_p1_z</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_z</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_z</span>) @ 1 = <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">H_c02</span> @ <span class="id" title="var">urnat_z</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;composite&nbsp;iso&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Ehrnat_p1_pp</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_yz</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_yz</span>) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">H_a02</span> <span class="id" title="var">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">H_c02</span> @ <span class="id" title="var">urnat_yz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_urnat_yz</span>, <span class="id" title="var">H_ulnat_yz</span>, <span class="id" title="var">H_ehrnat_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_urnat_yz</span>, <span class="id" title="var">H_ulnat_yz</span>, <span class="id" title="var">H_ehrnat_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_urnat_yz</span> <span class="id" title="var">H_ulnat_yz</span> <span class="id" title="var">H_ehrnat_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ehrnat_p1_y</span>, <span class="id" title="var">ehrnat_p1_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ehrnat_p1_y</span>, <span class="id" title="var">ehrnat_p1_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">ehrnat_p1_y</span> <span class="id" title="var">ehrnat_p1_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_a02</span>, <span class="id" title="var">H_c02</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_a02</span> <span class="id" title="var">H_c02</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wrpp_yz</span>, <span class="id" title="var">wlpp_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wrpp_yz</span> <span class="id" title="var">wlpp_yz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a01</span>, <span class="id" title="var">a12</span>, <span class="id" title="var">b01</span>, <span class="id" title="var">b12</span>, <span class="id" title="var">c01</span>, <span class="id" title="var">c12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a01</span> <span class="id" title="var">a12</span> <span class="id" title="var">b01</span> <span class="id" title="var">b12</span> <span class="id" title="var">c01</span> <span class="id" title="var">c12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y</span> <span class="id" title="var">ulnat_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z</span> <span class="id" title="var">ulnat_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly</span> <span class="id" title="var">ehrnat_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlz</span> <span class="id" title="var">ehrnat_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wry</span>, <span class="id" title="var">wrz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wry</span> <span class="id" title="var">wrz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Ehrnat_p1_pp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ehrnat_p1_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">q</span> : <span class="id" title="var">u</span> = 1) (<span class="id" title="var">r</span> : 1 = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">Ehrnat_p1_pp</span> (<span class="id" title="var">eh_p1</span> <span class="id" title="var">u</span>) (<span class="id" title="var">eh_p1</span> <span class="id" title="var">v</span>) (<span class="id" title="var">ehrnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> 1) (<span class="id" title="var">ulnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">urnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_p1</span> <span class="id" title="var">q</span>) (<span class="id" title="var">ehrnat_p1</span> <span class="id" title="var">r</span>) =<br/>
&nbsp;&nbsp;<span class="id" title="var">ehrnat_p1</span> (<span class="id" title="var">q</span> @ <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Given&nbsp;"wlrnat_V&nbsp;x&nbsp;y"&nbsp;and&nbsp;"wlrnat_V&nbsp;x&nbsp;z",&nbsp;we&nbsp;can&nbsp;explicitly&nbsp;construct&nbsp;"wlrnat_V&nbsp;x&nbsp;(y&nbsp;@&nbsp;z)".&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">wlrnat_V_p_pp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a0</span> <span class="id" title="var">b0</span> <span class="id" title="var">c0</span> <span class="id" title="var">d0</span> <span class="id" title="var">e0</span> <span class="id" title="var">f0</span> : <span class="id" title="var">X</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a1</span> <span class="id" title="var">b1</span> <span class="id" title="var">c1</span> <span class="id" title="var">d1</span> <span class="id" title="var">e1</span> <span class="id" title="var">f1</span> : <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx0</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">b0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx1</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">d0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlx2</span> : <span class="id" title="var">e0</span> = <span class="id" title="var">f0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrx0</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrx1</span> : <span class="id" title="var">c1</span> = <span class="id" title="var">d1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrx2</span> : <span class="id" title="var">e1</span> = <span class="id" title="var">f1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wry0</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">d0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly0</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">d1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wry1</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">c0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wly1</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">c1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz0</span> : <span class="id" title="var">d0</span> = <span class="id" title="var">f0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlz0</span> : <span class="id" title="var">d1</span> = <span class="id" title="var">f1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrz1</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">e0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlz1</span> : <span class="id" title="var">c1</span> = <span class="id" title="var">e1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">a01</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">a1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">b01</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">b1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">c01</span> : <span class="id" title="var">c0</span> = <span class="id" title="var">c1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">d01</span> : <span class="id" title="var">d0</span> = <span class="id" title="var">d1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">e01</span> : <span class="id" title="var">e0</span> = <span class="id" title="var">e1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">f01</span> : <span class="id" title="var">f0</span> = <span class="id" title="var">f1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wryz0</span> : <span class="id" title="var">b0</span> = <span class="id" title="var">f0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlyz0</span> : <span class="id" title="var">b1</span> = <span class="id" title="var">f1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wryz1</span> : <span class="id" title="var">a0</span> = <span class="id" title="var">e0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlyz1</span> : <span class="id" title="var">a1</span> = <span class="id" title="var">e1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehlnat_x0</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">b01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">wrx0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehlnat_x1</span> : <span class="id" title="var">wlx1</span> @ <span class="id" title="var">d01</span> = <span class="id" title="var">c01</span> @ <span class="id" title="var">wrx1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehlnat_x2</span> : <span class="id" title="var">wlx2</span> @ <span class="id" title="var">f01</span> = <span class="id" title="var">e01</span> @ <span class="id" title="var">wrx2</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_y0</span> : <span class="id" title="var">wry0</span> @ <span class="id" title="var">d01</span> = <span class="id" title="var">b01</span> @ <span class="id" title="var">wly0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_y1</span> : <span class="id" title="var">wry1</span> @ <span class="id" title="var">c01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">wly1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_z0</span> : <span class="id" title="var">wrz0</span> @ <span class="id" title="var">f01</span> = <span class="id" title="var">d01</span> @ <span class="id" title="var">wlz0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_z1</span> : <span class="id" title="var">wrz1</span> @ <span class="id" title="var">e01</span> = <span class="id" title="var">c01</span> @ <span class="id" title="var">wlz1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_yz0</span> : <span class="id" title="var">wryz0</span> @ <span class="id" title="var">f01</span> = <span class="id" title="var">b01</span> @ <span class="id" title="var">wlyz0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">ehrnat_yz1</span> : <span class="id" title="var">wryz1</span> @ <span class="id" title="var">e01</span> = <span class="id" title="var">a01</span> @ <span class="id" title="var">wlyz1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_y</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wry0</span> = <span class="id" title="var">wry1</span> @ <span class="id" title="var">wlx1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_y_x</span> : <span class="id" title="var">wly1</span> @ <span class="id" title="var">wrx1</span> = <span class="id" title="var">wrx0</span> @ <span class="id" title="var">wly0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_z</span> : <span class="id" title="var">wlx1</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wrz1</span> @ <span class="id" title="var">wlx2</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_z_x</span> : <span class="id" title="var">wlz1</span> @ <span class="id" title="var">wrx2</span> = <span class="id" title="var">wrx1</span> @ <span class="id" title="var">wlz0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_x_yz</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wryz0</span> = <span class="id" title="var">wryz1</span> @ <span class="id" title="var">wlx2</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlrnat_yz_x</span> : <span class="id" title="var">wlyz1</span> @ <span class="id" title="var">wrx2</span> = <span class="id" title="var">wrx0</span> @ <span class="id" title="var">wlyz0</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrpp_yz0</span> : <span class="id" title="var">wry0</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wryz0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlpp_yz0</span> : <span class="id" title="var">wly0</span> @ <span class="id" title="var">wlz0</span> = <span class="id" title="var">wlyz0</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wrpp_yz1</span> : <span class="id" title="var">wry1</span> @ <span class="id" title="var">wrz1</span> = <span class="id" title="var">wryz1</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">wlpp_yz1</span> : <span class="id" title="var">wly1</span> @ <span class="id" title="var">wlz1</span> = <span class="id" title="var">wlyz1</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ehrnat_yz0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y0</span> [-] <span class="id" title="var">ehrnat_z0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz0</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ehrnat_yz0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_ehrnat_yz1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehrnat_y1</span> [-] <span class="id" title="var">ehrnat_z1</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz1</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ehrnat_yz1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_wlrnat_x_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wlrnat_x_y</span> [<span class="id" title="var">I</span>] <span class="id" title="var">wlrnat_x_z</span>) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wrpp_yz0</span> @ <span class="id" title="var">wlrnat_x_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H_wlrnat_yz_x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wlrnat_y_x</span> [-] <span class="id" title="var">wlrnat_z_x</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz0</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">wlrnat_yz_x</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">wlrnat_V_x_y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_y</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_y1</span> [-] <span class="id" title="var">ehlnat_x1</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [-] <span class="id" title="var">ehrnat_y0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_y_x</span>^.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">wlrnat_V_x_z</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_z</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_z1</span> [-] <span class="id" title="var">ehlnat_x2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x1</span> [-] <span class="id" title="var">ehrnat_z0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_z_x</span>^.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;composite&nbsp;square&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Wlrnat_V_p_pp</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_yz</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_yz1</span> [-] <span class="id" title="var">ehlnat_x2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [-] <span class="id" title="var">ehrnat_yz0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_yz_x</span>^.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_ehrnat_yz0</span>, <span class="id" title="var">H_ehrnat_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_ehrnat_yz0</span>, <span class="id" title="var">H_ehrnat_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_ehrnat_yz0</span> <span class="id" title="var">H_ehrnat_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveR_Vp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_wlrnat_x_yz</span>, <span class="id" title="var">H_wlrnat_yz_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_wlrnat_x_yz</span>, <span class="id" title="var">H_wlrnat_yz_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_wlrnat_x_yz</span> <span class="id" title="var">H_wlrnat_yz_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a01</span>, <span class="id" title="var">b01</span>, <span class="id" title="var">c01</span>, <span class="id" title="var">d01</span>, <span class="id" title="var">e01</span>, <span class="id" title="var">f01</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a01</span> <span class="id" title="var">b01</span> <span class="id" title="var">c01</span> <span class="id" title="var">d01</span> <span class="id" title="var">e01</span> <span class="id" title="var">f01</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H_whiskerR_wlrnat_x_y</span> := <span class="id" title="var">moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">moveL_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_p1</span> <span class="id" title="var">wlrnat_x_y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H_whiskerR_wlrnat_x_z</span> := <span class="id" title="var">moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">moveL_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_p1</span> <span class="id" title="var">wlrnat_x_z</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">concat</span> <span class="id" title="var">H_whiskerR_wlrnat_x_y</span>^) <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_Vp</span>, <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">concat</span> <span class="id" title="var">H_whiskerR_wlrnat_x_z</span>^) <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">moveL_Vp</span>, <span class="id" title="var">moveL_pV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H_whiskerR_wlrnat_x_y</span> <span class="id" title="var">H_whiskerR_wlrnat_x_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wrpp_yz0</span>, <span class="id" title="var">wlpp_yz0</span>, <span class="id" title="var">wrpp_yz1</span>, <span class="id" title="var">wlpp_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">wlpp_yz0</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">wlpp_yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_y_x</span> <span class="id" title="var">wlrnat_z_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx0</span> <span class="id" title="var">ehlnat_x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx1</span> <span class="id" title="var">ehlnat_x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx2</span> <span class="id" title="var">ehlnat_x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly0</span> <span class="id" title="var">ehrnat_y0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly1</span> <span class="id" title="var">ehrnat_y1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlz0</span> <span class="id" title="var">ehrnat_z0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlz1</span> <span class="id" title="var">ehrnat_z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wry0</span>, <span class="id" title="var">wry1</span>, <span class="id" title="var">wrz0</span>, <span class="id" title="var">wrz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wry0</span> <span class="id" title="var">wry1</span> <span class="id" title="var">wrz0</span> <span class="id" title="var">wrz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlx2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">wlx2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">wlrnat_V_p_pp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">wlrnat_V_p_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> : <span class="id" title="var">idpath</span> <span class="id" title="var">a</span> = <span class="id" title="var">idpath</span> <span class="id" title="var">a</span>} (<span class="id" title="var">p</span> : 1 = <span class="id" title="var">w</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">u</span> = 1) (<span class="id" title="var">r</span> : 1 = <span class="id" title="var">v</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">Wlrnat_V_p_pp</span> (<span class="id" title="var">ehrnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) (<span class="id" title="var">ehrnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">_</span>) (<span class="id" title="var">wlrnat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">wlrnat_pp_p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wlrnat_V</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) (<span class="id" title="var">wlrnat_V</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>) =<br/>
&nbsp;&nbsp;<span class="id" title="var">wlrnat_V</span> <span class="id" title="var">p</span> (<span class="id" title="var">q</span> @ <span class="id" title="var">r</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">u</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Next&nbsp;we&nbsp;prove&nbsp;a&nbsp;coherence&nbsp;law&nbsp;relating&nbsp;<span class="inlinecode"><span class="id" title="var">eh_V</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">(<span class="id" title="var">q</span></span> <span class="inlinecode">@</span> <span class="inlinecode"><span class="id" title="var">r</span>)</span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">eh_V</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">eh_V</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;following&nbsp;tactics&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;make&nbsp;the&nbsp;proof&nbsp;faster,&nbsp;but&nbsp;with&nbsp;only&nbsp;minor&nbsp;modifications,&nbsp;the&nbsp;proof&nbsp;goes&nbsp;through&nbsp;without&nbsp;these&nbsp;tactics.&nbsp;The&nbsp;final&nbsp;tactic&nbsp;<span class="inlinecode"><span class="id" title="var">generalize_goal</span></span>&nbsp;takes&nbsp;a&nbsp;goal&nbsp;of&nbsp;the&nbsp;form&nbsp;<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">...,</span> <span class="inlinecode"><span class="id" title="var">expression</span></span>&nbsp;and&nbsp;asserts&nbsp;a&nbsp;new&nbsp;goal&nbsp;<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">P</span>,</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">...,</span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">...</span>&nbsp;which&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prove&nbsp;the&nbsp;original&nbsp;goal.&nbsp;Because&nbsp;<span class="inlinecode"><span class="id" title="var">expression</span></span>&nbsp;has&nbsp;been&nbsp;replaced&nbsp;with&nbsp;a&nbsp;generic&nbsp;function,&nbsp;the&nbsp;proof&nbsp;of&nbsp;the&nbsp;new&nbsp;goal&nbsp;can&nbsp;be&nbsp;more&nbsp;efficient&nbsp;than&nbsp;the&nbsp;proof&nbsp;of&nbsp;the&nbsp;special&nbsp;case,&nbsp;especially&nbsp;when&nbsp;there&nbsp;are&nbsp;around&nbsp;84&nbsp;variables.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_P</span> <span class="id" title="var">ty</span> <span class="id" title="var">P</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : ?<span class="id" title="var">A</span>, ?<span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">ty'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Bind&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="keyword">match</span></span>&nbsp;so&nbsp;that&nbsp;we&nbsp;avoid&nbsp;issues&nbsp;such&nbsp;as&nbsp;https://github.com/coq/coq/issues/7299&nbsp;and&nbsp;similar&nbsp;ones.&nbsp;&nbsp;Without&nbsp;<span class="inlinecode"><span class="id" title="keyword">return</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>,&nbsp;<span class="inlinecode"><span class="id" title="keyword">match</span></span>&nbsp;tries&nbsp;two&nbsp;ways&nbsp;to&nbsp;elaborate&nbsp;the&nbsp;branches,&nbsp;which&nbsp;results&nbsp;in&nbsp;exponential&nbsp;blowup&nbsp;on&nbsp;failure.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span>, <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="keyword">return</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ty'</span>, <span class="id" title="var">P'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">delta</span> [<span class="id" title="var">ty'</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">ty'</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">delta</span> [<span class="id" title="var">P'</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">P'</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">ty'</span> <span class="id" title="var">P'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">apply_P</span> <span class="id" title="var">ty</span> <span class="id" title="var">P</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">res</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_P_and_evar</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P</span> := <span class="id" title="tactic">fresh</span> "P" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">open_constr</span>:(<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="var">_</span>, <span class="id" title="var">_</span> -&gt; <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="var">apply_P</span> <span class="id" title="var">ty</span> <span class="id" title="var">P</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">res</span>)).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">generalize_goal</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- ?<span class="id" title="var">G</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="var">make_P_and_evar</span> <span class="id" title="var">G</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> : <span class="id" title="var">T</span>) <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;need&nbsp;this&nbsp;equivalence&nbsp;twice&nbsp;below.&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Lemma</span> <span class="id" title="var">equiv_helper</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>} (<span class="id" title="var">t</span> : <span class="id" title="var">q</span> @ 1 = <span class="id" title="var">r</span>) (<span class="id" title="var">u</span> : <span class="id" title="var">p</span> @ 1 = <span class="id" title="var">r</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">p</span> = <span class="id" title="var">q</span>)<br/>
&nbsp;&nbsp;: ((<span class="id" title="var">concat_p1</span> <span class="id" title="var">p</span>)^ @ (<span class="id" title="var">u</span> @ <span class="id" title="var">t</span>^)) @ (<span class="id" title="var">concat_p1</span> <span class="id" title="var">q</span>) = <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;~&gt; <span class="id" title="var">whiskerR</span> <span class="id" title="var">s</span> 1 @ <span class="id" title="var">t</span> = <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_path_inverse</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_moveR_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_moveR_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;3: <span class="id" title="tactic">exact</span> (<span class="id" title="var">moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">moveL_pV</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">whiskerR_p1</span> <span class="id" title="var">s</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_moveR_pM</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;special&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">equiv_path_ind</span></span>&nbsp;comes&nbsp;up&nbsp;a&nbsp;lot.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span> {<span class="id" title="var">X</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">c</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>), <span class="id" title="var">p</span> = <span class="id" title="var">r</span> @ <span class="id" title="var">q</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">P</span> (<span class="id" title="var">r</span>^ @ <span class="id" title="var">p</span>) (<span class="id" title="var">equiv_moveL_Mp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> 1))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span> : <span class="id" title="var">b</span> = <span class="id" title="var">c</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">p</span> = <span class="id" title="var">r</span> @ <span class="id" title="var">q</span>), <span class="id" title="var">P</span> <span class="id" title="var">q</span> <span class="id" title="var">s</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">q</span> =&gt; (<span class="id" title="var">equiv_moveL_Mp</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">P</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;form&nbsp;of&nbsp;the&nbsp;coherence&nbsp;we&nbsp;can&nbsp;prove&nbsp;by&nbsp;path&nbsp;induction.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_V_p_pp_gen</span> {<span class="id" title="var">X</span> : <span class="id" title="keyword">Type</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;0-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;1-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlx0</span> <span class="id" title="var">x0</span> <span class="id" title="var">wrx0</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlx1</span> <span class="id" title="var">x1</span> <span class="id" title="var">wrx1</span> : <span class="id" title="var">c</span> = <span class="id" title="var">d</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlx2</span> <span class="id" title="var">x2</span> <span class="id" title="var">wrx2</span> : <span class="id" title="var">e</span> = <span class="id" title="var">f</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wly0</span> <span class="id" title="var">y0</span> <span class="id" title="var">wry0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">d</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wly1</span> <span class="id" title="var">y1</span> <span class="id" title="var">wry1</span> : <span class="id" title="var">a</span> = <span class="id" title="var">c</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlz0</span> <span class="id" title="var">z0</span> <span class="id" title="var">wrz0</span> : <span class="id" title="var">d</span> = <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlz1</span> <span class="id" title="var">z1</span> <span class="id" title="var">wrz1</span> : <span class="id" title="var">c</span> = <span class="id" title="var">e</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlyz0</span> <span class="id" title="var">wryz0</span> : <span class="id" title="var">b</span> = <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlyz1</span> <span class="id" title="var">wryz1</span> : <span class="id" title="var">a</span> = <span class="id" title="var">e</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;2-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_x0</span> : <span class="id" title="var">wrx0</span> @ 1 = 1 @ <span class="id" title="var">x0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_x1</span> : <span class="id" title="var">wrx1</span> @ 1 = 1 @ <span class="id" title="var">x1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_x2</span> : <span class="id" title="var">wlx2</span> @ 1 = 1 @ <span class="id" title="var">x2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_x2</span> : <span class="id" title="var">wrx2</span> @ 1 = 1 @ <span class="id" title="var">x2</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_y0</span> : <span class="id" title="var">wly0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_y0</span> : <span class="id" title="var">wry0</span> @ 1 = 1 @ <span class="id" title="var">y0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_y1</span> : <span class="id" title="var">wly1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_y1</span> : <span class="id" title="var">wry1</span> @ 1 = 1 @ <span class="id" title="var">y1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_z0</span> : <span class="id" title="var">wlz0</span> @ 1 = 1 @ <span class="id" title="var">z0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_z0</span> : <span class="id" title="var">wrz0</span> @ 1 = 1 @ <span class="id" title="var">z0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_z1</span> : <span class="id" title="var">wlz1</span> @ 1 = 1 @ <span class="id" title="var">z1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_z1</span> : <span class="id" title="var">wrz1</span> @ 1 = 1 @ <span class="id" title="var">z1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_yz0</span> : <span class="id" title="var">wlyz0</span> @ 1 = 1 @ (<span class="id" title="var">y0</span> @ <span class="id" title="var">z0</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_yz0</span> : <span class="id" title="var">wryz0</span> @ 1 = 1 @ (<span class="id" title="var">y0</span> @ <span class="id" title="var">z0</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ulnat_yz1</span> : <span class="id" title="var">wlyz1</span> @ 1 = 1 @ (<span class="id" title="var">y1</span> @ <span class="id" title="var">z1</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">urnat_yz1</span> : <span class="id" title="var">wryz1</span> @ 1 = 1 @ (<span class="id" title="var">y1</span> @ <span class="id" title="var">z1</span>)}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehlnat_x0</span> : <span class="id" title="var">wlx0</span> @ 1 = 1 @ <span class="id" title="var">wrx0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehlnat_x1</span> : <span class="id" title="var">wlx1</span> @ 1 = 1 @ <span class="id" title="var">wrx1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehlnat_x2</span> : <span class="id" title="var">wlx2</span> @ 1 = 1 @ <span class="id" title="var">wrx2</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_y0</span> : <span class="id" title="var">wry0</span> @ 1 = 1 @ <span class="id" title="var">wly0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_y1</span> : <span class="id" title="var">wry1</span> @ 1 = 1 @ <span class="id" title="var">wly1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_z0</span> : <span class="id" title="var">wrz0</span> @ 1 = 1 @ <span class="id" title="var">wlz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_z1</span> : <span class="id" title="var">wrz1</span> @ 1 = 1 @ <span class="id" title="var">wlz1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_yz0</span> : <span class="id" title="var">wryz0</span> @ 1 = 1 @ <span class="id" title="var">wlyz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_yz1</span> : <span class="id" title="var">wryz1</span> @ 1 = 1 @ <span class="id" title="var">wlyz1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_x_y</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wry0</span> = <span class="id" title="var">wry1</span> @ <span class="id" title="var">wlx1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_y_x</span> : <span class="id" title="var">wly1</span> @ <span class="id" title="var">wrx1</span> = <span class="id" title="var">wrx0</span> @ <span class="id" title="var">wly0</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_x_z</span> : <span class="id" title="var">wlx1</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wrz1</span> @ <span class="id" title="var">wlx2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_z_x</span> : <span class="id" title="var">wlz1</span> @ <span class="id" title="var">wrx2</span> = <span class="id" title="var">wrx1</span> @ <span class="id" title="var">wlz0</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_x_yz</span> : <span class="id" title="var">wlx0</span> @ <span class="id" title="var">wryz0</span> = <span class="id" title="var">wryz1</span> @ <span class="id" title="var">wlx2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_yz_x</span> : <span class="id" title="var">wlyz1</span> @ <span class="id" title="var">wrx2</span> = <span class="id" title="var">wrx0</span> @ <span class="id" title="var">wlyz0</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wrpp_yz0</span> : <span class="id" title="var">wry0</span> @ <span class="id" title="var">wrz0</span> = <span class="id" title="var">wryz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlpp_yz0</span> : <span class="id" title="var">wly0</span> @ <span class="id" title="var">wlz0</span> = <span class="id" title="var">wlyz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wrpp_yz1</span> : <span class="id" title="var">wry1</span> @ <span class="id" title="var">wrz1</span> = <span class="id" title="var">wryz1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlpp_yz1</span> : <span class="id" title="var">wly1</span> @ <span class="id" title="var">wlz1</span> = <span class="id" title="var">wlyz1</span>}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;3-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_ulnat_yz0</span> : (<span class="id" title="var">ulnat_y0</span> [-] <span class="id" title="var">ulnat_z0</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_yz0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat_yz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_urnat_yz0</span> : (<span class="id" title="var">urnat_y0</span> [-] <span class="id" title="var">urnat_z0</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">urnat_yz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_ulnat_yz1</span> : (<span class="id" title="var">ulnat_y1</span> [-] <span class="id" title="var">ulnat_z1</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ulnat_yz1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_urnat_yz1</span> : (<span class="id" title="var">urnat_y1</span> [-] <span class="id" title="var">urnat_z1</span>) = <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">urnat_yz1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_ehrnat_yz0</span> : (<span class="id" title="var">ehrnat_y0</span> [-] <span class="id" title="var">ehrnat_z0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz0</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz0</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ehrnat_yz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_ehrnat_yz1</span> : (<span class="id" title="var">ehrnat_y1</span> [-] <span class="id" title="var">ehrnat_z1</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz1</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ehrnat_yz1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_wlrnat_x_yz</span> : (<span class="id" title="var">wlrnat_x_y</span> [<span class="id" title="var">I</span>] <span class="id" title="var">wlrnat_x_z</span>) @ <span class="id" title="var">whiskerR</span> <span class="id" title="var">wrpp_yz1</span> <span class="id" title="var">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wrpp_yz0</span> @ <span class="id" title="var">wlrnat_x_yz</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H_wlrnat_yz_x</span> : (<span class="id" title="var">wlrnat_y_x</span> [-] <span class="id" title="var">wlrnat_z_x</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlpp_yz0</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> <span class="id" title="var">wlpp_yz1</span> <span class="id" title="var">_</span> @ <span class="id" title="var">wlrnat_yz_x</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_1p_x0</span> : (<span class="id" title="var">ehlnat_x0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat_x0</span>) @ 1 = 1 @ <span class="id" title="var">ulnat_x0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_1p_x1</span> : (<span class="id" title="var">ehlnat_x1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat_x1</span>) @ 1 = 1 @ <span class="id" title="var">ulnat_x1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_1p_x2</span> : (<span class="id" title="var">ehlnat_x2</span> [<span class="id" title="var">I</span>] <span class="id" title="var">urnat_x2</span>) @ 1 = 1 @ <span class="id" title="var">ulnat_x2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_y0</span> : (<span class="id" title="var">ehrnat_y0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_y0</span>) @ 1 = 1 @ <span class="id" title="var">urnat_y0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_y1</span> : (<span class="id" title="var">ehrnat_y1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_y1</span>) @ 1 = 1 @ <span class="id" title="var">urnat_y1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_z0</span> : (<span class="id" title="var">ehrnat_z0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_z0</span>) @ 1 = 1 @ <span class="id" title="var">urnat_z0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_z1</span> : (<span class="id" title="var">ehrnat_z1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_z1</span>) @ 1 = 1 @ <span class="id" title="var">urnat_z1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_yz0</span> : (<span class="id" title="var">ehrnat_yz0</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_yz0</span>) @ 1 = 1 @ <span class="id" title="var">urnat_yz0</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ehrnat_p1_yz1</span> : (<span class="id" title="var">ehrnat_yz1</span> [<span class="id" title="var">I</span>] <span class="id" title="var">ulnat_yz1</span>) @ 1 = 1 @ <span class="id" title="var">urnat_yz1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_V_x_y</span> : <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_y</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_y1</span> [-] <span class="id" title="var">ehlnat_x1</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [-] <span class="id" title="var">ehrnat_y0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_y_x</span>^}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_V_x_z</span> : <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_z</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_z1</span> [-] <span class="id" title="var">ehlnat_x2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x1</span> [-] <span class="id" title="var">ehrnat_z0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_z_x</span>^}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">wlrnat_V_x_yz</span> : <span class="id" title="var">whiskerR</span> <span class="id" title="var">wlrnat_x_yz</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">ehrnat_yz1</span> [-] <span class="id" title="var">ehlnat_x2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ehlnat_x0</span> [-] <span class="id" title="var">ehrnat_yz0</span>) @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> <span class="id" title="var">wlrnat_yz_x</span>^}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;4-paths&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H_ehrnat_p1_yz0</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Ehrnat_p1_pp</span> 1 1 <span class="id" title="var">H_ehrnat_yz0</span> <span class="id" title="var">H_ulnat_yz0</span> <span class="id" title="var">H_urnat_yz0</span> <span class="id" title="var">ehrnat_p1_y0</span> <span class="id" title="var">ehrnat_p1_z0</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ehrnat_p1_yz0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H_ehrnat_p1_yz1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Ehrnat_p1_pp</span> 1 1 <span class="id" title="var">H_ehrnat_yz1</span> <span class="id" title="var">H_ulnat_yz1</span> <span class="id" title="var">H_urnat_yz1</span> <span class="id" title="var">ehrnat_p1_y1</span> <span class="id" title="var">ehrnat_p1_z1</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ehrnat_p1_yz1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H_wlrnat_V_x_yz</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Wlrnat_V_p_pp</span> <span class="id" title="var">H_ehrnat_yz0</span> <span class="id" title="var">H_ehrnat_yz1</span> <span class="id" title="var">H_wlrnat_x_yz</span> <span class="id" title="var">H_wlrnat_yz_x</span> <span class="id" title="var">wlrnat_V_x_y</span> <span class="id" title="var">wlrnat_V_x_z</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlrnat_V_x_yz</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">let</span> <span class="id" title="var">eh_x_y</span> := <span class="id" title="var">concat_p_pp</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span> <span class="id" title="var">z0</span> @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (((<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">ulnat_x0</span> [-] <span class="id" title="var">urnat_y0</span>))^ @ <span class="id" title="var">wlrnat_x_y</span>) @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rlucancel_inv</span> (<span class="id" title="var">urnat_y1</span> [-] <span class="id" title="var">ulnat_x1</span>)) <span class="id" title="var">z0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @@ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>) <span class="id" title="var">eh_x_y</span> @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh_V_gen</span> (<span class="id" title="var">ehlnat_1p_x0</span>) (<span class="id" title="var">ehlnat_1p_x2</span>) (<span class="id" title="var">ehrnat_p1_yz0</span>) (<span class="id" title="var">ehrnat_p1_yz1</span>) <span class="id" title="var">wlrnat_V_x_yz</span>) <span class="id" title="var">eh_x_y</span> @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lrucancel</span> 1 @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">eh_x_y</span> (<span class="id" title="var">Syllepsis.concat_pp_p_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">eh_x_y</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @@ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh_p_pp_gen</span> <span class="id" title="var">H_urnat_yz0</span> <span class="id" title="var">H_urnat_yz1</span> <span class="id" title="var">H_wlrnat_x_yz</span> [-]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lrucancel</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">whiskerL</span> <span class="id" title="var">y1</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">moveL_V1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_V_gen</span> <span class="id" title="var">ehlnat_1p_x1</span> <span class="id" title="var">ehlnat_1p_x2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ehrnat_p1_z0</span> <span class="id" title="var">ehrnat_p1_z1</span> <span class="id" title="var">wlrnat_V_x_z</span>))))) [-]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eh_pp_p_gen</span> <span class="id" title="var">H_ulnat_yz1</span> <span class="id" title="var">H_ulnat_yz0</span> <span class="id" title="var">H_wlrnat_yz_x</span> [-]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lrucancel</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">z0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">moveL_1V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_V_gen</span> <span class="id" title="var">ehlnat_1p_x0</span> <span class="id" title="var">ehlnat_1p_x1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ehrnat_p1_y0</span> <span class="id" title="var">ehrnat_p1_y1</span> <span class="id" title="var">wlrnat_V_x_y</span>))))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;some&nbsp;reason,&nbsp;it's&nbsp;most&nbsp;efficient&nbsp;to&nbsp;destruct&nbsp;a&nbsp;few&nbsp;things&nbsp;here&nbsp;but&nbsp;the&nbsp;rest&nbsp;within&nbsp;the&nbsp;subgoal.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_ehrnat_p1_yz0</span>, <span class="id" title="var">H_ehrnat_p1_yz1</span>, <span class="id" title="var">H_wlrnat_V_x_yz</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;efficiency&nbsp;purposes,&nbsp;we&nbsp;generalize&nbsp;the&nbsp;goal&nbsp;to&nbsp;an&nbsp;arbitrary&nbsp;function&nbsp;<span class="inlinecode"><span class="id" title="var">P</span></span>&nbsp;of&nbsp;the&nbsp;context&nbsp;(except&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">X</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">a</span></span>),&nbsp;and&nbsp;do&nbsp;all&nbsp;of&nbsp;the&nbsp;induction&nbsp;steps&nbsp;in&nbsp;this&nbsp;generality.&nbsp;&nbsp;This&nbsp;reduces&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;term&nbsp;that&nbsp;Coq&nbsp;needs&nbsp;to&nbsp;manipulate,&nbsp;speeding&nbsp;up&nbsp;the&nbsp;proof.&nbsp;&nbsp;The&nbsp;same&nbsp;proof&nbsp;works&nbsp;with&nbsp;the&nbsp;next&nbsp;three&nbsp;lines&nbsp;removed&nbsp;and&nbsp;with&nbsp;the&nbsp;second&nbsp;and&nbsp;third&nbsp;last&nbsp;lines&nbsp;removed.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">revert_until</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">generalize_goal</span> <span class="id" title="var">lem</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wry0</span>, <span class="id" title="var">wry1</span>, <span class="id" title="var">wrz0</span>, <span class="id" title="var">wrz1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wrpp_yz0</span>, <span class="id" title="var">wlpp_yz0</span>, <span class="id" title="var">wrpp_yz1</span>, <span class="id" title="var">wlpp_yz1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_x_yz</span> <span class="id" title="var">H_wlrnat_x_yz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_x_y</span> <span class="id" title="var">wlrnat_V_x_y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_helper</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_x_z</span> <span class="id" title="var">wlrnat_V_x_z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">equiv_path_ind</span> (<span class="id" title="var">equiv_helper</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_x0</span> <span class="id" title="var">ehlnat_1p_x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_x1</span> <span class="id" title="var">ehlnat_1p_x1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_x2</span> <span class="id" title="var">ehlnat_1p_x2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_yz0</span> <span class="id" title="var">H_urnat_yz0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_yz1</span> <span class="id" title="var">H_urnat_yz1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_yz_x</span> <span class="id" title="var">H_wlrnat_yz_x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ehrnat_yz0</span> <span class="id" title="var">H_ehrnat_yz0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ehrnat_yz1</span> <span class="id" title="var">H_ehrnat_yz1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_yz1</span> <span class="id" title="var">H_ulnat_yz1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ulnat_yz0</span> <span class="id" title="var">H_ulnat_yz0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_moveL_Mp</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_y0</span> <span class="id" title="var">ehrnat_p1_y0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_y1</span> <span class="id" title="var">ehrnat_p1_y1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_z0</span> <span class="id" title="var">ehrnat_p1_z0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">urnat_z1</span> <span class="id" title="var">ehrnat_p1_z1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x0</span> <span class="id" title="var">urnat_x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x1</span> <span class="id" title="var">urnat_x1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x2</span> <span class="id" title="var">urnat_x2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y0</span> <span class="id" title="var">ulnat_y0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y1</span> <span class="id" title="var">ulnat_y1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z0</span> <span class="id" title="var">ulnat_z0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">z1</span> <span class="id" title="var">ulnat_z1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_y_x</span>. <span class="comment">(*&nbsp;Paired&nbsp;with&nbsp;wlx0&nbsp;below.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx0</span> <span class="id" title="var">ehlnat_x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlrnat_z_x</span>. <span class="comment">(*&nbsp;Paired&nbsp;with&nbsp;wlx1&nbsp;below.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx1</span> <span class="id" title="var">ehlnat_x1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wrx2</span> <span class="id" title="var">ehlnat_x2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly0</span> <span class="id" title="var">ehrnat_y0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wly1</span> <span class="id" title="var">ehrnat_y1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlz0</span> <span class="id" title="var">ehrnat_z0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlz1</span> <span class="id" title="var">ehrnat_z1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_rlucancel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">wlx0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">equiv_path_ind_lrucancel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wlx2</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Remove&nbsp;the&nbsp;next&nbsp;two&nbsp;lines&nbsp;if&nbsp;not&nbsp;using&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">generalize_goal</span></span>&nbsp;tactic.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eh_V_p_pp</span> {<span class="id" title="var">X</span>} {<span class="id" title="var">a</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> : <span class="id" title="var">idpath</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">a</span>) = <span class="id" title="var">idpath</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">a</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerR</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @@ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">whiskerR</span> (<span class="id" title="var">eh_V</span> <span class="id" title="var">p</span> (<span class="id" title="var">q</span> @ <span class="id" title="var">r</span>)) <span class="id" title="var">_</span> @ <span class="id" title="var">lrucancel</span> 1 @<br/>
&nbsp;&nbsp;<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">Syllepsis.concat_pp_p_p_pp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span> @@ <span class="id" title="var">concat_p1</span> <span class="id" title="var">_</span>)^ =<br/>
&nbsp;&nbsp;(<span class="id" title="var">eh_p_pp_gen</span> (<span class="id" title="var">urnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">urnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">wlrnat_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) [-]<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">lrucancel</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">whiskerL</span> <span class="id" title="var">q</span> <span class="id" title="var">p</span>) (<span class="id" title="var">moveL_V1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_V</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>))))) [-]<br/>
&nbsp;&nbsp;(<span class="id" title="var">eh_pp_p_gen</span> (<span class="id" title="var">ulnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">ulnat_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">wlrnat_pp_p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span>) [-]<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">lrucancel</span> (<span class="id" title="var">whiskerL</span> <span class="id" title="var">_</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">whiskerR</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>) (<span class="id" title="var">moveL_1V</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">eh_V</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>))))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">eh_V_p_pp_gen</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ehrnat_p1_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">ehrnat_p1_pp</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>) (<span class="id" title="var">wlrnat_V_p_pp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>