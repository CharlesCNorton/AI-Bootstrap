<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Group</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Group</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">HProp</span> <span class="id" title="var">HFiber</span> <span class="id" title="var">HSet</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">PathAny</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> (<span class="id" title="var">notations</span>) <span class="id" title="var">Classes.interfaces.canonical_names</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> (<span class="id" title="var">hints</span>) <span class="id" title="var">Classes.interfaces.abstract_algebra</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> (<span class="id" title="var">hints</span>) <span class="id" title="var">Classes.interfaces.canonical_names</span>.<br/>
</div>

<div class="doc">
We only export the parts of these that will be most useful to users of this file. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Classes.interfaces.canonical_names</span> (<span class="id" title="var">SgOp</span>, <span class="id" title="var">sg_op</span>, <span class="id" title="var">One</span>, <span class="id" title="var">one</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">MonUnit</span>, <span class="id" title="var">mon_unit</span>, <span class="id" title="var">LeftIdentity</span>, <span class="id" title="var">left_identity</span>, <span class="id" title="var">RightIdentity</span>, <span class="id" title="var">right_identity</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Negate</span>, <span class="id" title="var">negate</span>, <span class="id" title="var">Associative</span>, <span class="id" title="var">simple_associativity</span>, <span class="id" title="keyword">associativity</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftInverse</span>, <span class="id" title="var">left_inverse</span>, <span class="id" title="var">RightInverse</span>, <span class="id" title="var">right_inverse</span>, <span class="id" title="var">Commutative</span>, <span class="id" title="var">commutativity</span>).<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="var">canonical_names.BinOpNotations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Classes.interfaces.abstract_algebra</span> (<span class="id" title="var">IsGroup</span>(..), <span class="id" title="var">group_monoid</span>, <span class="id" title="var">negate_l</span>, <span class="id" title="var">negate_r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsSemiGroup</span>(..), <span class="id" title="var">sg_set</span>, <span class="id" title="var">sg_ass</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsMonoid</span>(..), <span class="id" title="var">monoid_left_id</span>, <span class="id" title="var">monoid_right_id</span>, <span class="id" title="var">monoid_semigroup</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsMonoidPreserving</span>(..), <span class="id" title="var">monmor_unitmor</span>, <span class="id" title="var">monmor_sgmor</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsSemiGroupPreserving</span>, <span class="id" title="var">preserves_sg_op</span>, <span class="id" title="var">IsUnitPreserving</span>, <span class="id" title="var">preserves_mon_unit</span>).<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Classes.theory.groups</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Pointed.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">WildCat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Spaces.Nat.Core</span> <span class="id" title="var">Spaces.Int</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Truncations.Core</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Polymorphic</span> <span class="id" title="keyword">Inductive</span> <span class="id" title="var">Cumulativity</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable Variables</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">group_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab171"></a><h1 class="section">Groups</h1>

<div class="paragraph"> </div>

 A group is an abstraction of several common situations in mathematics. For example, consider the symmetries of an object.  Two symmetries can be combined; there is a symmetry that does nothing; and any symmetry can be reversed. Such situations arise in geometry, algebra and, importantly for us, homotopy theory. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">pointed_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mc_mult_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">wc_iso_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab172"></a><h2 class="section">Definition of a Group</h2>

<div class="paragraph"> </div>

 A group consists of a type, an operation on that type, a unit and an inverse that satisfy the group axioms in <span class="inlinecode"><span class="id" title="var">IsGroup</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">Group</span> := {<br/>
&nbsp;&nbsp;<span class="id" title="var">group_type</span> :&gt; <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">group_sgop</span> :: <span class="id" title="var">SgOp</span> <span class="id" title="var">group_type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">group_unit</span> :: <span class="id" title="var">MonUnit</span> <span class="id" title="var">group_type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">group_inverse</span> :: <span class="id" title="var">Negate</span> <span class="id" title="var">group_type</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">group_isgroup</span> :: <span class="id" title="var">IsGroup</span> <span class="id" title="var">group_type</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">group_sgop</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">group_unit</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">group_inverse</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">group_isgroup</span> {<span class="id" title="var">_</span>}.<br/>
</div>

<div class="doc">
We should never need to unfold the proof that something is a group. 
</div>
<div class="code">
<span class="id" title="keyword">Global Opaque</span> <span class="id" title="var">group_isgroup</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_group</span> : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">Group</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab173"></a><h2 class="section">Proof automation</h2>
 Many times in group theoretic proofs we want some form of automation for obvious identities. Here we implement such a behavior. 
<div class="paragraph"> </div>

 We create a database of hints for the group theory library 
</div>
<div class="code">
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
Our group laws can be proven easily with tactics such as <span class="inlinecode"><span class="id" title="var">rapply</span></span> <span class="inlinecode"><span class="id" title="keyword">associativity</span></span>. However this requires a typeclass search on more general algebraic structures. Therefore we explicitly list many groups laws here so that coq can use them. We also create hints for each law in our groups database. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">GroupLaws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">G</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_assoc</span> := <span class="id" title="keyword">associativity</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_unit_l</span> := <span class="id" title="var">left_identity</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_unit_r</span> := <span class="id" title="var">right_identity</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_inv_l</span> := <span class="id" title="var">left_inverse</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_inv_r</span> := <span class="id" title="var">right_inverse</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">GroupLaws</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_assoc</span>  : <span class="id" title="var">group_db</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_unit_l</span> : <span class="id" title="var">group_db</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_unit_r</span> : <span class="id" title="var">group_db</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_inv_l</span>  : <span class="id" title="var">group_db</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_inv_r</span>  : <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
Given path types in a product we may want to decompose. 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 5 (@<span class="id" title="var">paths</span> (<span class="id" title="var">_</span> * <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>) : <span class="id" title="var">group_db</span>.<br/>
</div>

<div class="doc">
Given path types in a sigma type of a hprop family (i.e. a subset) we may want to decompose. 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 6 (@<span class="id" title="var">paths</span> (<span class="id" title="var">sig</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="var">rapply</span> <span class="id" title="var">path_sigma_hprop</span>) : <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
We also declare a tactic (notation) for automatically solving group laws  TODO: improve this tactic so that it also rewrites and is able to solve basic group lemmas. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "grp_auto" := <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab174"></a><h2 class="section">Some basic properties of groups</h2>

<div class="paragraph"> </div>

 Groups are pointed sets with point the identity. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ispointed_group</span> (<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsPointed</span> <span class="id" title="var">G</span> := @<span class="id" title="var">mon_unit</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ptype_group</span> : <span class="id" title="var">Group</span> -&gt; <span class="id" title="var">pType</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> =&gt; [<span class="id" title="var">G</span>, <span class="id" title="var">_</span>].<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ptype_group</span> : <span class="id" title="var">Group</span> &gt;-&gt; <span class="id" title="var">pType</span>.<br/>
</div>

<div class="doc">
An element acting like the identity is unique. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">identity_unique</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">Aop</span> : <span class="id" title="var">SgOp</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>) {<span class="id" title="var">p</span> : <span class="id" title="var">LeftIdentity</span> <span class="id" title="var">Aop</span> <span class="id" title="var">x</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">RightIdentity</span> <span class="id" title="var">Aop</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> = <span class="id" title="var">y</span> := (<span class="id" title="var">q</span> <span class="id" title="var">x</span>)^ @ <span class="id" title="var">p</span> <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">identity_unique'</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">Aop</span> : <span class="id" title="var">SgOp</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>) {<span class="id" title="var">p</span> : <span class="id" title="var">LeftIdentity</span> <span class="id" title="var">Aop</span> <span class="id" title="var">x</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">RightIdentity</span> <span class="id" title="var">Aop</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">y</span> = <span class="id" title="var">x</span> := (<span class="id" title="var">identity_unique</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)^.<br/>

<br/>
</div>

<div class="doc">
An element acting like an inverse is unique. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inverse_unique</span> `{<span class="id" title="var">IsMonoid</span> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>) {<span class="id" title="var">p</span> : <span class="id" title="var">x</span> * <span class="id" title="var">a</span> = <span class="id" title="var">mon_unit</span>} {<span class="id" title="var">q</span> : <span class="id" title="var">a</span> * <span class="id" title="var">y</span> = <span class="id" title="var">mon_unit</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">x</span> = <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">right_identity</span> <span class="id" title="var">x</span>)^ @ <span class="id" title="var">ap</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span>^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">associativity</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">y</span>) <span class="id" title="var">p</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">left_identity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab175"></a><h2 class="section">Group homomorphisms</h2>

<div class="paragraph"> </div>

 Group homomorphisms are maps between groups that preserve the group operation. They allow us to compare groups and map their structure to one another. This is useful for determining if two groups are really the same, in which case we say they are "isomorphic". 
<div class="paragraph"> </div>

 A group homomorphism consists of a map between groups and a proof that the map preserves the group operation. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">GroupHomomorphism</span> (<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>) := <span class="id" title="var">Build_GroupHomomorphism</span> {<br/>
&nbsp;&nbsp;<span class="id" title="var">grp_homo_map</span> :&gt; <span class="id" title="var">group_type</span> <span class="id" title="var">G</span> -&gt; <span class="id" title="var">group_type</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">issemigrouppreserving_grp_homo</span> :: <span class="id" title="var">IsSemiGroupPreserving</span> <span class="id" title="var">grp_homo_map</span>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">grp_homo_map</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">Build_GroupHomomorphism</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">issemigrouppreserving_grp_homo</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span>} <span class="id" title="var">f</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab176"></a><h2 class="section">Basic properties of group homomorphisms</h2>

<div class="paragraph"> </div>

 Group homomorphisms preserve group operations. This is an alias for <span class="inlinecode"><span class="id" title="var">issemigrouppreserving_grp_homo</span></span> with the identity written explicitly. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_op</span><br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">G</span>), <span class="id" title="var">f</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) = <span class="id" title="var">f</span> <span class="id" title="var">x</span> * <span class="id" title="var">f</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">issemigrouppreserving_grp_homo</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_homo_op</span> : <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
Group homomorphisms are unit preserving. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isunitpreserving_grp_homo</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsUnitPreserving</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">IsUnitPreserving</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">group_cancelL</span> (<span class="id" title="var">f</span> <span class="id" title="var">mon_unit</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_unit_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="var">rapply</span> (<span class="id" title="var">ap</span>  <span class="id" title="var">_</span> (<span class="id" title="var">monoid_left_id</span> <span class="id" title="var">_</span> <span class="id" title="var">mon_unit</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">issemigrouppreserving_grp_homo</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group homomorphisms preserve identities. This is an alias for the previous statement. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_unit</span><br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>), <span class="id" title="var">f</span> <span class="id" title="var">mon_unit</span> = <span class="id" title="var">mon_unit</span><br/>
&nbsp;&nbsp;:= @<span class="id" title="var">isunitpreserving_grp_homo</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_homo_unit</span> : <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
Therefore, group homomorphisms are monoid homomorphisms. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ismonoidpreserving_grp_homo</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsMonoidPreserving</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= {}.<br/>

<br/>
</div>

<div class="doc">
Group homomorphisms are pointed maps. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pmap_GroupHomomorphism</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) : <span class="id" title="var">G</span> -&gt;* <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_pMap</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> (<span class="id" title="var">isunitpreserving_grp_homo</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pmap_GroupHomomorphism</span> : <span class="id" title="var">GroupHomomorphism</span> &gt;-&gt; <span class="id" title="var">pForall</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_GroupHomomorphism</span> (<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>) : <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
Function extensionality for group homomorphisms. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_grouphomomorphism</span> {<span class="id" title="var">F</span> : <span class="id" title="var">Funext</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>} : <span class="id" title="var">g</span> == <span class="id" title="var">h</span> &lt;~&gt; <span class="id" title="var">g</span> = <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">equiv_ap</span> (<span class="id" title="var">issig_GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)^-1 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_forall</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group homomorphisms are sets, in the presence of funext. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishset_grouphomomorphism</span> {<span class="id" title="var">F</span> : <span class="id" title="var">Funext</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHSet</span> (<span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> <span class="id" title="var">equiv_path_grouphomomorphism</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group homomorphisms preserve inverses. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_inv</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">f</span> (- <span class="id" title="var">x</span>) = -(<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">inverse_unique</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">grp_homo_op</span> <span class="id" title="var">f</span> (-<span class="id" title="var">x</span>) <span class="id" title="var">x</span>)^ @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_l</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">grp_homo_inv</span> : <span class="id" title="var">group_db</span>.<br/>

<br/>
</div>

<div class="doc">
The identity map is a group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_id</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_GroupHomomorphism</span> <span class="id" title="var">idmap</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
The composition of the underlying functions of two group homomorphisms is also a group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_compose</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span> -&gt; <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> -&gt; <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">K</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">Build_GroupHomomorphism</span> (<span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">g</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab177"></a><h2 class="section">Group Isomorphisms</h2>

<div class="paragraph"> </div>

 Group isomorphsims are group homomorphisms whose underlying map happens to be an equivalence. They allow us to consider two groups to be the "same". They can be inverted and composed just like equivalences. 
<div class="paragraph"> </div>

 An isomorphism of groups is defined as group homomorphism that is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <span class="id" title="var">GroupIsomorphism</span> (<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>) := <span class="id" title="var">Build_GroupIsomorphism</span> {<br/>
&nbsp;&nbsp;<span class="id" title="var">grp_iso_homo</span> :&gt; <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">isequiv_group_iso</span> :: <span class="id" title="var">IsEquiv</span> <span class="id" title="var">grp_iso_homo</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
We can build an isomorphism from an operation-preserving equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Build_GroupIsomorphism'</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">G</span> &lt;~&gt; <span class="id" title="var">H</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">IsSemiGroupPreserving</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_GroupIsomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">srapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issig_GroupIsomorphism</span> (<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> &lt;~&gt; <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">issig</span>).<br/>

<br/>
</div>

<div class="doc">
The underlying equivalence of a group isomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_groupisomorphism</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> -&gt; <span class="id" title="var">G</span> &lt;~&gt; <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">Build_Equiv</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">equiv_groupisomorphism</span> : <span class="id" title="var">GroupIsomorphism</span> &gt;-&gt; <span class="id" title="var">Equiv</span>.<br/>

<br/>
</div>

<div class="doc">
The underlying pointed equivalence of a group isomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pequiv_groupisomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> -&gt; (<span class="id" title="var">A</span> &lt;~&gt;* <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">Build_pEquiv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pequiv_groupisomorphism</span> : <span class="id" title="var">GroupIsomorphism</span> &gt;-&gt; <span class="id" title="var">pEquiv</span>.<br/>

<br/>
</div>

<div class="doc">
Funext for group isomorphisms. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_groupisomorphism</span> `{<span class="id" title="var">F</span> : <span class="id" title="var">Funext</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> == <span class="id" title="var">g</span> &lt;~&gt; <span class="id" title="var">f</span> = <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">equiv_ap</span> (<span class="id" title="var">issig_GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)^-1 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_path_sigma_hprop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_grouphomomorphism</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphisms form a set. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ishset_groupisomorphism</span> `{<span class="id" title="var">F</span> : <span class="id" title="var">Funext</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHSet</span> (<span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">istrunc_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">istrunc_equiv_istrunc</span> <span class="id" title="var">_</span> (<span class="id" title="var">equiv_path_groupisomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The identity map is an equivalence and therefore a group isomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_iso_id</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_GroupIsomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">grp_homo_id</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphisms can be composed by composing the underlying group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_iso_compose</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_GroupIsomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">grp_homo_compose</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>) <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphisms can be inverted. The inverse map of the underlying equivalence also preserves the group operation and unit. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_iso_inverse</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> -&gt; <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">H</span> <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_GroupIsomorphism</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">srapply</span> (<span class="id" title="var">Build_GroupHomomorphism</span> <span class="id" title="var">f</span>^-1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphism is a reflexive relation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">reflexive_groupisomorphism</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">Reflexive</span> <span class="id" title="var">GroupIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> =&gt; <span class="id" title="var">grp_iso_id</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphism is a symmetric relation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">symmetric_groupisomorphism</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">Symmetric</span> <span class="id" title="var">GroupIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">grp_iso_inverse</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphism is a transitive relation. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">transitive_groupisomorphism</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">Transitive</span> <span class="id" title="var">GroupIsomorphism</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">grp_iso_compose</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
Under univalence, equality of groups is equivalent to isomorphism of groups. This is the structure identity principle for groups. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_group'</span> {<span class="id" title="var">U</span> : <span class="id" title="var">Univalence</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> &lt;~&gt; <span class="id" title="var">G</span> = <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">equiv_via</span> {<span class="id" title="var">f</span> : <span class="id" title="var">G</span> &lt;~&gt; <span class="id" title="var">H</span> &amp; <span class="id" title="var">IsSemiGroupPreserving</span> <span class="id" title="var">f</span>}.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">make_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">equiv_path_issig_contr</span> <span class="id" title="var">issig_group</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">G</span> [? [? [? ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1%<span class="id" title="var">equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">G</span> [<span class="id" title="var">op</span> [<span class="id" title="var">unit</span> [<span class="id" title="var">neg</span> <span class="id" title="var">ax</span>]]]]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contr_sigsig</span> <span class="id" title="var">G</span> (<span class="id" title="var">equiv_idmap</span> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">Build_Contr</span> <span class="id" title="var">_</span> ((<span class="id" title="var">_</span>;(<span class="id" title="var">_</span>;(<span class="id" title="var">_</span>;<span class="id" title="var">_</span>)));<span class="id" title="var">_</span>) <span class="id" title="var">_</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">op'</span> [<span class="id" title="var">unit'</span> [<span class="id" title="var">neg'</span> <span class="id" title="var">ax'</span>]]] <span class="id" title="var">eq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_sigma_hprop</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<span class="id" title="var">ap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : { <span class="id" title="var">oun</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">oo</span> : <span class="id" title="var">SgOp</span> <span class="id" title="var">G</span> &amp; { <span class="id" title="var">u</span> : <span class="id" title="var">MonUnit</span> <span class="id" title="var">G</span> &amp; <span class="id" title="var">Negate</span> <span class="id" title="var">G</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; @<span class="id" title="var">IsGroup</span> <span class="id" title="var">G</span> <span class="id" title="var">oun</span>.1 <span class="id" title="var">oun</span>.2.1 <span class="id" title="var">oun</span>.2.2}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; (<span class="id" title="var">x</span>.1.1 ; <span class="id" title="var">x</span>.1.2.1 ; <span class="id" title="var">x</span>.1.2.2 ; <span class="id" title="var">x</span>.2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">op</span>;<span class="id" title="var">unit</span>;<span class="id" title="var">neg</span>);<span class="id" title="var">ax</span>) ((<span class="id" title="var">op'</span>;<span class="id" title="var">unit'</span>;<span class="id" title="var">neg'</span>);<span class="id" title="var">ax'</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_sigma_hprop</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">path_sigma'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="var">funext</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transport_const</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">f</span> := <span class="id" title="var">Build_GroupHomomorphism</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G</span>:=<span class="id" title="var">Build_Group</span> <span class="id" title="var">G</span> <span class="id" title="var">op</span> <span class="id" title="var">unit</span> <span class="id" title="var">neg</span> <span class="id" title="var">ax</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span>:=<span class="id" title="var">Build_Group</span> <span class="id" title="var">G</span> <span class="id" title="var">op'</span> <span class="id" title="var">unit'</span> <span class="id" title="var">neg'</span> <span class="id" title="var">ax'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">idmap</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srefine</span> (<span class="id" title="var">path_sigma'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">transport_const</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funext</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_homo_inv</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A version with nicer universe variables. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">equiv_path_group@</span>{<span class="id" title="var">u</span> <span class="id" title="var">v</span> | <span class="id" title="var">u</span> &lt; <span class="id" title="var">v</span>} {<span class="id" title="var">U</span> : <span class="id" title="var">Univalence</span>} {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group@</span>{<span class="id" title="var">u</span>}}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> &lt;~&gt; (<span class="id" title="var">paths@</span>{<span class="id" title="var">v</span>} <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_path_group'</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab178"></a><h2 class="section">Simple group equivalences</h2>

<div class="paragraph"> </div>

 Left multiplication is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_group_left_op</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <span class="id" title="var">G</span>), <span class="id" title="var">IsEquiv</span> (<span class="id" title="var">x</span> *.).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (-<span class="id" title="var">x</span> *.).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">grp_unit_l</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">y</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Right multiplication is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_group_right_op</span> (<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <span class="id" title="var">G</span>), <span class="id" title="var">IsEquiv</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">y</span> * <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="var">y</span> * - <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">refine</span> ((<span class="id" title="var">grp_assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span> @ <span class="id" title="var">grp_unit_r</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">y</span> *.) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_r</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The operation inverting group elements is an equivalence. Note that, since the order of the operation will change after inversion, this isn't a group homomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isequiv_group_inverse</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEquiv</span> ((-) : <span class="id" title="var">G</span> -&gt; <span class="id" title="var">G</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> (-).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">negate_involutive</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab179"></a><h2 class="section">Reasoning with equations in groups.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">GroupEquations</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">G</span>).<br/>

<br/>
</div>

<div class="doc">
Inverses are involutive. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_inv_inv</span> : --<span class="id" title="var">x</span> = <span class="id" title="var">x</span> := <span class="id" title="var">negate_involutive</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Inverses distribute over the group operation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_inv_op</span> : - (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) = -<span class="id" title="var">y</span> * -<span class="id" title="var">x</span> := <span class="id" title="var">negate_sg_op</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
</div>

<div class="doc">
The inverse of the unit is the unit. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_inv_unit</span> : -<span class="id" title="var">mon_unit</span> = <span class="id" title="var">mon_unit</span> := <span class="id" title="var">negate_mon_unit</span> (<span class="id" title="var">G</span> :=<span class="id" title="var">G</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">GroupEquations</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab180"></a><h2 class="section">Cancelation lemmas</h2>

<div class="paragraph"> </div>

 Group elements can be cancelled both on the left and the right. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_cancelL</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">G</span>} <span class="id" title="var">z</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">z</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span> * <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">z</span> * <span class="id" title="var">x</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_cancelR</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">G</span>} <span class="id" title="var">z</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> * <span class="id" title="var">z</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">equiv_ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">z</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab181"></a><h2 class="section">Group movement lemmas</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">GroupMovement</span>.<br/>

<br/>
</div>

<div class="doc">
Since left/right multiplication is an equivalence, we can use lemmas about moving equivalences around to prove group movement lemmas. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">G</span>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab182"></a><h3 class="section">Moving group elements</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_gM</span> : <span class="id" title="var">x</span> * -<span class="id" title="var">z</span> = <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_M</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * <span class="id" title="var">z</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_Mg</span> : -<span class="id" title="var">y</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_M</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">y</span> * <span class="id" title="var">t</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_gM</span> : <span class="id" title="var">x</span> = <span class="id" title="var">z</span> * -<span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_M</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * <span class="id" title="var">y</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_Mg</span> : <span class="id" title="var">y</span> = -<span class="id" title="var">x</span> * <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_M</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">t</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab183"></a><h3 class="section">Moving inverses.</h3>
 These are the inverses of the previous but are included here for completeness
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_gV</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> * -<span class="id" title="var">z</span> = <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_V</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * <span class="id" title="var">z</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_Vg</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span> * <span class="id" title="var">z</span> &lt;~&gt; -<span class="id" title="var">y</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveR_equiv_V</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">y</span> * <span class="id" title="var">t</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_gV</span> :  <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">z</span> * -<span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_V</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * <span class="id" title="var">y</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_Vg</span> :  <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">z</span> &lt;~&gt; <span class="id" title="var">y</span> = -<span class="id" title="var">x</span> * <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_moveL_equiv_V</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">t</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
We close the section here so the previous lemmas generalise their assumptions. 
</div>
<div class="code">
<span class="id" title="keyword">End</span> <span class="id" title="var">GroupMovement</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">GroupMovement</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">G</span>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab184"></a><h3 class="section">Moving elements equal to unit.</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_1M</span> : <span class="id" title="var">x</span> * -<span class="id" title="var">y</span> = <span class="id" title="var">mon_unit</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_moveL_gM</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_1V</span> : <span class="id" title="var">x</span> * <span class="id" title="var">y</span> = <span class="id" title="var">mon_unit</span> &lt;~&gt; <span class="id" title="var">x</span> = -<span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_moveL_gV</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveL_M1</span> : -<span class="id" title="var">y</span> * <span class="id" title="var">x</span> = <span class="id" title="var">mon_unit</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_moveL_Mg</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_1M</span> : <span class="id" title="var">mon_unit</span> = <span class="id" title="var">y</span> * (-<span class="id" title="var">x</span>) &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_moveR_gM</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_moveR_M1</span> : <span class="id" title="var">mon_unit</span> = -<span class="id" title="var">x</span> * <span class="id" title="var">y</span> &lt;~&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)^-1%<span class="id" title="var">equiv</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_moveR_Mg</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab185"></a><h3 class="section">Cancelling elements equal to unit.</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_cancelL1</span> : <span class="id" title="var">x</span> = <span class="id" title="var">mon_unit</span> &lt;~&gt; <span class="id" title="var">z</span> * <span class="id" title="var">x</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">oE</span> <span class="id" title="var">grp_cancelL</span> <span class="id" title="var">z</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_cancelR1</span> : <span class="id" title="var">x</span> = <span class="id" title="var">mon_unit</span> &lt;~&gt; <span class="id" title="var">x</span> * <span class="id" title="var">z</span> = <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" title="var">equiv_concat_r</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">oE</span> <span class="id" title="var">grp_cancelR</span> <span class="id" title="var">z</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">GroupMovement</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab186"></a><h2 class="section">Commutation</h2>

<div class="paragraph"> </div>

 If <span class="inlinecode"><span class="id" title="var">g</span></span> commutes with <span class="inlinecode"><span class="id" title="var">h</span></span>, then <span class="inlinecode"><span class="id" title="var">g</span></span> commutes with the inverse <span class="inlinecode">-<span class="id" title="var">h</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_commutes_inv</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">G</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">g</span> * <span class="id" title="var">h</span> = <span class="id" title="var">h</span> * <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">g</span> * (-<span class="id" title="var">h</span>) = (-<span class="id" title="var">h</span>) * <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveR_gV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs_V</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveL_Vg</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">g</span></span> commutes with <span class="inlinecode"><span class="id" title="var">h</span></span> and <span class="inlinecode"><span class="id" title="var">h'</span></span>, then <span class="inlinecode"><span class="id" title="var">g</span></span> commutes with their product <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">h'</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_commutes_op</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">g</span> * <span class="id" title="var">h</span> = <span class="id" title="var">h</span> * <span class="id" title="var">g</span>) (<span class="id" title="var">p'</span> : <span class="id" title="var">g</span> * <span class="id" title="var">h'</span> = <span class="id" title="var">h'</span> * <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">g</span> * (<span class="id" title="var">h</span> * <span class="id" title="var">h'</span>) = (<span class="id" title="var">h</span> * <span class="id" title="var">h'</span>) * <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">ap</span> (.* <span class="id" title="var">h'</span>) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs_V</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">simple_associativity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">h</span> *.) <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">simple_associativity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab187"></a><h2 class="section">Power operation</h2>

<div class="paragraph"> </div>

 For a given <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">G</span></span> we can define the function <span class="inlinecode"><span class="id" title="var">Int</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">G</span></span> sending an integer to that power of <span class="inlinecode"><span class="id" title="var">g</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) : <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">int_iter</span> (<span class="id" title="var">g</span> *.) <span class="id" title="var">n</span> <span class="id" title="var">mon_unit</span>.<br/>

<br/>
</div>

<div class="doc">
Any homomorphism respects <span class="inlinecode"><span class="id" title="var">grp_pow</span></span>. In other words, <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">=&gt;</span> <span class="inlinecode"><span class="id" title="var">grp_pow</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> is natural. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">grp_pow_natural</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> (<span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>) = <span class="id" title="var">grp_pow</span> (<span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">snrapply</span> (<span class="id" title="var">int_iter_commute_map</span> <span class="id" title="var">_</span> ((<span class="id" title="var">f</span> <span class="id" title="var">g</span>) *.)).<br/>
&nbsp;&nbsp;1: <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">int_iter</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>)), <span class="id" title="var">grp_homo_unit</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
All powers of the unit are the unit. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_unit</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> (<span class="id" title="var">G</span>:=<span class="id" title="var">G</span>) <span class="id" title="var">mon_unit</span> <span class="id" title="var">n</span> = <span class="id" title="var">mon_unit</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> (<span class="id" title="var">int_iter_invariant</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> =&gt; <span class="id" title="var">g</span> = <span class="id" title="var">mon_unit</span>)); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;1, 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">paths_ind_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_unit_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_unit_r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_inv_unit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Note that powers don't preserve the group operation as it is not commutative. This does hold in an abelian group so such a result will appear later. 
<div class="paragraph"> </div>

 The next two results tell us how <span class="inlinecode"><span class="id" title="var">grp_pow</span></span> unfolds. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_succ</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (<span class="id" title="var">n</span>.+1)%<span class="id" title="var">int</span> = <span class="id" title="var">g</span> * <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">int_iter_succ_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_pred</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (<span class="id" title="var">n</span>.-1)%<span class="id" title="var">int</span> = (- <span class="id" title="var">g</span>) * <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">int_iter_pred_l</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">grp_pow</span></span> satisfies an additive law of exponents. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_add</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (<span class="id" title="var">n</span> + <span class="id" title="var">m</span>)%<span class="id" title="var">int</span> = <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span> * <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">int_iter_add</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>)^.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_iter_succ_l</span>, <span class="id" title="var">grp_pow_succ</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_iter_pred_l</span>, <span class="id" title="var">grp_pow_pred</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;1,2 : <span class="id" title="var">rhs_V</span> <span class="id" title="var">srapply</span> <span class="id" title="keyword">associativity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">grp_pow</span></span> commutes negative exponents to powers of the inverse 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_neg</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (<span class="id" title="var">int_neg</span> <span class="id" title="var">n</span>) = <span class="id" title="var">grp_pow</span> (- <span class="id" title="var">g</span>) <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">int_iter_neg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">grp_pow</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;agree,&nbsp;except&nbsp;for&nbsp;the&nbsp;proofs&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">sg_op</span></span> <span class="inlinecode">(-<span class="id" title="var">g</span>)</span>&nbsp;is&nbsp;an&nbsp;equivalence.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">int_iter_agree</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Using a negative power in <span class="inlinecode"><span class="id" title="var">grp_pow</span></span> is the same as first using a positive power and then inverting the result. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_neg_inv</span> {<span class="id" title="var">G</span>: <span class="id" title="var">Group</span>} (<span class="id" title="var">m</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>) : <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (- <span class="id" title="var">m</span>)%<span class="id" title="var">int</span> = - <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveL_1V</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_pow_add</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_add_neg_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Combining the two previous results gives that a power of an inverse is the inverse of the power. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_neg_inv'</span> {<span class="id" title="var">G</span>: <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span>: <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>) : <span class="id" title="var">grp_pow</span> (- <span class="id" title="var">g</span>) <span class="id" title="var">n</span> = - <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs_V</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_pow_neg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_pow_neg_inv</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">grp_pow</span></span> satisfies a multiplicative law of exponents. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_int_mul</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> (<span class="id" title="var">m</span> * <span class="id" title="var">n</span>)%<span class="id" title="var">int</span> = <span class="id" title="var">grp_pow</span> (<span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">m</span>) <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_mul_0_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_mul_succ_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_succ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelL</span>, <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">int_mul_pred_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_neg_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_pred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelL</span>, <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">h</span></span> commutes with <span class="inlinecode"><span class="id" title="var">g</span></span>, then <span class="inlinecode"><span class="id" title="var">h</span></span> commutes with <span class="inlinecode"><span class="id" title="var">grp_pow</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_commutes</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">h</span> * <span class="id" title="var">g</span> = <span class="id" title="var">g</span> * <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">h</span> * (<span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>) = (<span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>) * <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_r</span> <span class="id" title="var">_</span> @ (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>)^).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_succ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">grp_commutes_op</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_pow_pred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrapply</span> <span class="id" title="var">grp_commutes_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_commutes_inv</span>, <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">grp_pow</span></span> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> commutes with <span class="inlinecode"><span class="id" title="var">g</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_commutes'</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">g</span> * <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span> = <span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span> * <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_pow_commutes</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">g</span></span> and <span class="inlinecode"><span class="id" title="var">h</span></span> commute, then <span class="inlinecode"><span class="id" title="var">grp_pow</span></span> <span class="inlinecode">(<span class="id" title="var">g</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">h</span>)</span> <span class="inlinecode"><span class="id" title="var">n</span></span> = (grp_pow g n) * (grp_pow h n)]. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_pow_mul</span> {<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">Int</span>) (<span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">G</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">c</span> : <span class="id" title="var">g</span> * <span class="id" title="var">h</span> = <span class="id" title="var">h</span> * <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_pow</span> (<span class="id" title="var">g</span> * <span class="id" title="var">h</span>) <span class="id" title="var">n</span> = (<span class="id" title="var">grp_pow</span> <span class="id" title="var">g</span> <span class="id" title="var">n</span>) * (<span class="id" title="var">grp_pow</span> <span class="id" title="var">h</span> <span class="id" title="var">n</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_unit_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 3 <span class="id" title="var">grp_pow_succ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">grp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2 <span class="id" title="var">grp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_pow_commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">c</span>^.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3 <span class="id" title="var">grp_pow_pred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">grp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_inv_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2 <span class="id" title="var">grp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_cancelL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_pow_commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_commutes_inv</span>, <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab188"></a><h2 class="section">The category of Groups</h2>

<div class="paragraph"> </div>

<a id="lab189"></a><h2 class="section">Groups together with homomorphisms form a 1-category whose equivalences are the group isomorphisms.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isgraph_group</span> : <span class="id" title="var">IsGraph</span> <span class="id" title="var">Group</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">Build_IsGraph</span> <span class="id" title="var">Group</span> <span class="id" title="var">GroupHomomorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_group</span> : <span class="id" title="var">Is01Cat</span> <span class="id" title="var">Group</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">Build_Is01Cat</span> <span class="id" title="var">Group</span> <span class="id" title="var">_</span> (@<span class="id" title="var">grp_homo_id</span>) (@<span class="id" title="var">grp_homo_compose</span>).<br/>

<br/>
</div>

<div class="doc">
Helper notation so that the wildcat instances can easily be inferred. 
</div>
<div class="code">
<span class="id" title="keyword">Local Notation</span> <span class="id" title="var">grp_homo_map'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> := (@<span class="id" title="var">grp_homo_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">_</span> -&gt; (<span class="id" title="var">group_type</span> <span class="id" title="var">A</span> $-&gt; <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is2graph_group</span> : <span class="id" title="var">Is2Graph</span> <span class="id" title="var">Group</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> =&gt; <span class="id" title="var">isgraph_induced</span> (<span class="id" title="var">grp_homo_map'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isgraph_grouphomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} : <span class="id" title="var">IsGraph</span> (<span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isgraph_induced</span> (<span class="id" title="var">grp_homo_map'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is01cat_grouphomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} : <span class="id" title="var">Is01Cat</span> (<span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">is01cat_induced</span> (<span class="id" title="var">grp_homo_map'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0gpd_grouphomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>}: <span class="id" title="var">Is0Gpd</span> (<span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">is0gpd_induced</span> (<span class="id" title="var">grp_homo_map'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_postcomp_grouphomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">B</span> $-&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Functor</span> (@<span class="id" title="var">cat_postcomp</span> <span class="id" title="var">Group</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">ap</span> <span class="id" title="var">h</span> (<span class="id" title="var">p</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_precomp_grouphomomorphism</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Is0Functor</span> (@<span class="id" title="var">cat_precomp</span> <span class="id" title="var">Group</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> ?] [<span class="id" title="var">g</span> ?] <span class="id" title="var">p</span> <span class="id" title="var">a</span> ; <span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> (<span class="id" title="var">h</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group forms a 1Cat 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1cat_group</span> : <span class="id" title="var">Is1Cat</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> <span class="id" title="var">Build_Is1Cat</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Under <span class="inlinecode"><span class="id" title="var">Funext</span></span>, the category of groups has morphism extensionality. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasmorext_group</span> `{<span class="id" title="var">Funext</span>} : <span class="id" title="var">HasMorExt</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_HasMorExt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> @<span class="id" title="var">isequiv_homotopic</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">equiv_path_grouphomomorphism</span>^-1%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group isomorphisms become equivalences in the category of groups. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasequivs_group</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">HasEquivs</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">GroupIsomorphism</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="var">IsEquiv</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Build_GroupIsomorphism</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_iso_inverse</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> ????; <span class="id" title="tactic">apply</span> <span class="id" title="var">eissect</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> ????; <span class="id" title="tactic">apply</span> <span class="id" title="var">eisretr</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">isequiv_adjointify</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1cat_strong</span> `{<span class="id" title="var">Funext</span>} : <span class="id" title="var">Is1Cat_Strong</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">Build_Is1Cat_Strong</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_grouphomomorphism</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">group_type</span></span> map is a 1-functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_type_group</span> : <span class="id" title="var">Is0Functor</span> <span class="id" title="var">group_type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> @<span class="id" title="var">grp_homo_map</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1functor_type_group</span> : <span class="id" title="var">Is1Functor</span> <span class="id" title="var">group_type</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is1Functor</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">ptype_group</span></span> map is a 1-functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is0functor_ptype_group</span> : <span class="id" title="var">Is0Functor</span> <span class="id" title="var">ptype_group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is0Functor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> @<span class="id" title="var">pmap_GroupHomomorphism</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">is1functor_ptype_group</span> : <span class="id" title="var">Is1Functor</span> <span class="id" title="var">ptype_group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Build_Is1Functor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">phomotopy_homotopy_hset</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given a group element <span class="inlinecode"><span class="id" title="var">a0</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> over <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span>, multiplication by <span class="inlinecode"><span class="id" title="var">a</span></span> establishes an equivalence between the kernel and the fiber over <span class="inlinecode"><span class="id" title="var">b</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">equiv_grp_hfiber</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">a0</span> : <span class="id" title="var">hfiber</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>), <span class="id" title="var">hfiber</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span> &lt;~&gt; <span class="id" title="var">hfiber</span> <span class="id" title="var">f</span> <span class="id" title="var">mon_unit</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">equiv_transport</span> (<span class="id" title="var">hfiber</span> <span class="id" title="var">f</span>) (<span class="id" title="var">right_inverse</span> <span class="id" title="var">b</span>) <span class="id" title="var">oE</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Equiv</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">srapply</span> (<span class="id" title="var">functor_hfiber</span> (<span class="id" title="var">h</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * -<span class="id" title="var">a0</span>) (<span class="id" title="var">k</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">t</span> * -<span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span> * (- <span class="id" title="var">x</span>)) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_homo_op</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">ap</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span> * <span class="id" title="var">x</span>) (<span class="id" title="var">grp_homo_inv</span> <span class="id" title="var">f</span> <span class="id" title="var">a0</span>)). }<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">isequiv_functor_hfiber</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab190"></a><h2 class="section">The trivial group</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_trivial</span> : <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">Build_Group</span> <span class="id" title="var">Unit</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>) <span class="id" title="var">tt</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Map out of trivial group. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_trivial_rec</span> (<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>) : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">grp_trivial</span> <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">group_unit</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_unit_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Map into trivial group. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_trivial_corec</span> (<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>) : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">grp_trivial</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_unit_l</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Group is a pointed category. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ispointedcat_group</span> : <span class="id" title="var">IsPointedCat</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_IsPointedCat</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">grp_trivial_rec</span> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> []; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">g</span>)^.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">grp_trivial_corec</span> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_unit</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_const</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">zero_morphism</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab191"></a><h2 class="section">The direct product of groups</h2>

<div class="paragraph"> </div>

 The cartesian product of the underlying sets of two groups has a natural group structure. We call this the direct product of groups. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod</span> : <span class="id" title="var">Group</span> -&gt; <span class="id" title="var">Group</span> -&gt; <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<span class="id" title="var">Build_Group</span> (<span class="id" title="var">G</span> * <span class="id" title="var">H</span>)).<br/>
</div>

<div class="doc">
Operation 
</div>
<div class="code">
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">g1</span> <span class="id" title="var">h1</span>] [<span class="id" title="var">g2</span> <span class="id" title="var">h2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">g1</span> * <span class="id" title="var">g2</span>, <span class="id" title="var">h1</span> * <span class="id" title="var">h2</span>). }<br/>
&nbsp;&nbsp;</div>

<div class="doc">
Unit 
</div>
<div class="code">
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">mon_unit</span>, <span class="id" title="var">mon_unit</span>).<br/>
</div>

<div class="doc">
Inverse 
</div>
<div class="code">
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">g</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (-<span class="id" title="var">g</span>, -<span class="id" title="var">h</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">grp_auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Maps into the direct product can be built by mapping separately into each factor. 
</div>
<div class="code">
<span class="id" title="keyword">Proposition</span> <span class="id" title="var">grp_prod_corec</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">K</span> $-&gt; <span class="id" title="var">G</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">K</span> $-&gt; <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">K</span> $-&gt; (<span class="id" title="var">grp_prod</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">K</span> =&gt; (<span class="id" title="var">f</span> <span class="id" title="var">x</span>, <span class="id" title="var">g</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">grp_prod_corec</span></span> satisfies a definitional naturality property. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_corec_natural</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">X</span> $-&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g0</span> : <span class="id" title="var">Y</span> $-&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">g1</span> : <span class="id" title="var">Y</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">grp_prod_corec</span> <span class="id" title="var">g0</span> <span class="id" title="var">g1</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span> $== <span class="id" title="var">grp_prod_corec</span> (<span class="id" title="var">g0</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>) (<span class="id" title="var">g1</span> $<span class="id" title="var">o</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">idpath</span>.<br/>

<br/>
</div>

<div class="doc">
The left factor injects into the direct product. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_inl</span> {<span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">H</span> $-&gt; (<span class="id" title="var">grp_prod</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">grp_prod_corec</span> <span class="id" title="var">grp_homo_id</span> <span class="id" title="var">grp_homo_const</span>.<br/>

<br/>
</div>

<div class="doc">
The left injection is an embedding. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isembedding_grp_prod_inl</span> {<span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEmbedding</span> (@<span class="id" title="var">grp_prod_inl</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isembedding_isinj_hset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h0</span> <span class="id" title="var">h1</span> <span class="id" title="var">p</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">fst</span> ((<span class="id" title="var">equiv_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">p</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The right factor injects into the direct product. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_inr</span> {<span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">K</span> $-&gt; (<span class="id" title="var">grp_prod</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">grp_prod_corec</span> <span class="id" title="var">grp_homo_const</span> <span class="id" title="var">grp_homo_id</span>.<br/>

<br/>
</div>

<div class="doc">
The right injection is an embedding. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isembedding_grp_prod_inr</span> {<span class="id" title="var">H</span> <span class="id" title="var">K</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsEmbedding</span> (@<span class="id" title="var">grp_prod_inr</span> <span class="id" title="var">H</span> <span class="id" title="var">K</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isembedding_isinj_hset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k0</span> <span class="id" title="var">k1</span> <span class="id" title="var">q</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">snd</span> ((<span class="id" title="var">equiv_path_prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^-1 <span class="id" title="var">q</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given two pairs of isomorphic groups, their pairwise direct products are isomorphic. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_iso_prod</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">A</span>  <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>  <span class="id" title="var">D</span> -&gt; (<span class="id" title="var">grp_prod</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>)  (<span class="id" title="var">grp_prod</span> <span class="id" title="var">B</span> <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">Build_GroupIsomorphism'</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="var">srapply</span> (<span class="id" title="var">equiv_functor_prod</span> (<span class="id" title="var">f</span>:=<span class="id" title="var">f</span>) (<span class="id" title="var">g</span>:=<span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">functor_prod</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_prod</span>.<br/>
&nbsp;&nbsp;1,2: <span class="id" title="tactic">apply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The first projection of the direct product. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_pr1</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupHomomorphism</span> (<span class="id" title="var">grp_prod</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) <span class="id" title="var">G</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">fst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The first projection is a surjection. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">issurj_grp_prod_pr1</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsSurjection</span> (@<span class="id" title="var">grp_prod_pr1</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">issurj_retr</span> <span class="id" title="var">grp_prod_inl</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">idpath</span>).<br/>

<br/>
</div>

<div class="doc">
The second projection of the direct product. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_pr2</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">GroupHomomorphism</span> (<span class="id" title="var">grp_prod</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_GroupHomomorphism</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">snd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Pairs in direct products can be decomposed 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_prod_decompose</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">G</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">g</span>, <span class="id" title="var">h</span>) = ((<span class="id" title="var">g</span>, <span class="id" title="var">group_unit</span>) : <span class="id" title="var">grp_prod</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>) * (<span class="id" title="var">group_unit</span>, <span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">path_prod</span>; <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">grp_unit_r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">snrapply</span> <span class="id" title="var">grp_unit_l</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The second projection is a surjection. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">issurj_grp_prod_pr2</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsSurjection</span> (@<span class="id" title="var">grp_prod_pr2</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">issurj_retr</span> <span class="id" title="var">grp_prod_inr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">idpath</span>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">Group</span></span> is a category with binary products given by the direct product. 
</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">hasbinaryproducts_group</span> : <span class="id" title="var">HasBinaryProducts</span> <span class="id" title="var">Group</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_BinaryProduct</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_prod</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_prod_pr1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">grp_prod_pr2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">grp_prod_corec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">Id</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">path_prod'</span> (<span class="id" title="var">p</span> <span class="id" title="var">a</span>) (<span class="id" title="var">q</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab192"></a><h3 class="section">Properties of maps to and from the trivial group</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isinitial_grp_trivial</span> : <span class="id" title="var">IsInitial</span> <span class="id" title="var">grp_trivial</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">grp_trivial_rec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">g</span>)^.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">contr_grp_homo_trivial_source</span> `{<span class="id" title="var">Funext</span>} <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">Contr</span> (<span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">grp_trivial</span> <span class="id" title="var">G</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Contr</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">grp_trivial_rec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">equiv_path_grouphomomorphism</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">grp_homo_unit</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isterminal_grp_trivial</span> : <span class="id" title="var">IsTerminal</span> <span class="id" title="var">grp_trivial</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">grp_trivial_corec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_contr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">contr_grp_homo_trivial_target</span> `{<span class="id" title="var">Funext</span>} <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">Contr</span> (<span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">grp_trivial</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">snrapply</span> <span class="id" title="var">Build_Contr</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">isterminal_grp_trivial</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <span class="id" title="var">equiv_path_grouphomomorphism</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_contr</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">ishprop_grp_iso_trivial</span> `{<span class="id" title="var">Funext</span>} (<span class="id" title="var">G</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsHProp</span> (<span class="id" title="var">G</span>  <span class="id" title="var">grp_trivial</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_hprop_allpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">equiv_path_groupisomorphism</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">path_ishprop</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab193"></a><h2 class="section">Free groups</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">FactorsThroughFreeGroup</span> (<span class="id" title="var">S</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">F_S</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">S</span> -&gt; <span class="id" title="var">F_S</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">Group</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">S</span> -&gt; <span class="id" title="var">A</span>) : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= {<span class="id" title="var">f</span> : <span class="id" title="var">F_S</span> $-&gt; <span class="id" title="var">A</span> &amp; <span class="id" title="var">f</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span> == <span class="id" title="var">g</span>}.<br/>

<br/>
</div>

<div class="doc">
Universal property of a free group on a set (type). 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsFreeGroupOn</span> (<span class="id" title="var">S</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">F_S</span> : <span class="id" title="var">Group</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">S</span> -&gt; <span class="id" title="var">F_S</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">contr_isfreegroupon</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="var">Group</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">S</span> -&gt; <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Contr</span> (<span class="id" title="var">FactorsThroughFreeGroup</span> <span class="id" title="var">S</span> <span class="id" title="var">F_S</span> <span class="id" title="var">i</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Global Existing Instance</span> <span class="id" title="var">contr_isfreegroupon</span>.<br/>

<br/>
</div>

<div class="doc">
A group is free if there exists a generating type on which it is a free group. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <span class="id" title="var">IsFreeGroup</span> (<span class="id" title="var">F_S</span> : <span class="id" title="var">Group</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">isfreegroup</span> : {<span class="id" title="var">S</span> : <span class="id" title="var">_</span> &amp; {<span class="id" title="var">i</span> : <span class="id" title="var">_</span> &amp; <span class="id" title="var">IsFreeGroupOn</span> <span class="id" title="var">S</span> <span class="id" title="var">F_S</span> <span class="id" title="var">i</span>}}.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <span class="id" title="var">isfreegroup_isfreegroupon</span> (<span class="id" title="var">S</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">F_S</span> : <span class="id" title="var">Group</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">S</span> -&gt; <span class="id" title="var">F_S</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">H</span> : <span class="id" title="var">IsFreeGroupOn</span> <span class="id" title="var">S</span> <span class="id" title="var">F_S</span> <span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">IsFreeGroup</span> <span class="id" title="var">F_S</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">S</span>; <span class="id" title="var">i</span>; <span class="id" title="var">H</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab194"></a><h2 class="section">Further properties of group homomorphisms.</h2>

<div class="paragraph"> </div>

 Characterisation of injective group homomorphisms. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isembedding_grouphomomorphism</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> $-&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <span class="id" title="var">f</span> <span class="id" title="var">a</span> = <span class="id" title="var">group_unit</span> -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">group_unit</span>) &lt;-&gt; <span class="id" title="var">IsEmbedding</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hprop_allpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">p0</span>] [<span class="id" title="var">a1</span> <span class="id" title="var">p1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <span class="id" title="var">path_sigma_hprop</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">grp_moveL_1M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grp_homo_op</span>, <span class="id" title="var">grp_homo_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">p0</span>, <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">right_inverse</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">isinj_embedding</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">p</span> @ (<span class="id" title="var">grp_homo_unit</span> <span class="id" title="var">f</span>)^).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Commutativity can be transferred across isomorphisms. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">commutative_iso_commutative</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">Commutative</span> (@<span class="id" title="var">group_sgop</span> <span class="id" title="var">G</span>)} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupIsomorphism</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Commutative</span> (@<span class="id" title="var">group_sgop</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Commutative</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">equiv_ind</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">g1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<span class="id" title="var">equiv_ind</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">g2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<span class="id" title="var">preserves_sg_op</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)^ @ <span class="id" title="var">_</span> @ (<span class="id" title="var">preserves_sg_op</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ap</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If two group homomorphisms agree on two elements, then they agree on their product. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_op_agree</span> {<span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">H</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">G</span> $-&gt; <span class="id" title="var">H</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">G'</span> $-&gt; <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">G</span>} {<span class="id" title="var">x'</span> <span class="id" title="var">y'</span> : <span class="id" title="var">G'</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f'</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">f</span> <span class="id" title="var">y</span> = <span class="id" title="var">f'</span> <span class="id" title="var">y'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) = <span class="id" title="var">f'</span> (<span class="id" title="var">x'</span> * <span class="id" title="var">y'</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ap011</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The group movement lemmas can be extended to when there is a homomorphism involved.  For now, we only include these two. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_moveL_1V</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) = <span class="id" title="var">group_unit</span> &lt;~&gt; (<span class="id" title="var">f</span> <span class="id" title="var">x</span> = - <span class="id" title="var">f</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">grp_moveL_1V</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_l</span> (<span class="id" title="var">grp_homo_op</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)^ <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grp_homo_moveL_1M</span>  {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">Group</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">GroupHomomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">f</span> (<span class="id" title="var">x</span> * -<span class="id" title="var">y</span>) = <span class="id" title="var">group_unit</span> &lt;~&gt; (<span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">grp_moveL_1M</span> <span class="id" title="var">oE</span> <span class="id" title="var">equiv_concat_l</span> <span class="id" title="var">_</span>^ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lhs</span> <span class="id" title="var">nrapply</span> <span class="id" title="var">grp_homo_op</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ap</span>, <span class="id" title="var">grp_homo_inv</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>